(function(t){function e(e){for(var a,i,r=e[0],l=e[1],c=e[2],d=0,u=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);h&&h(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,i=1;i<s.length;i++){var r=s[i];0!==n[r]&&(a=!1)}a&&(o.splice(e--,1),t=l(l.s=s[0]))}return t}var a={},i={app:0},n={app:0},o=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-76d2bae7":"c243007a"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(t){var e=[],s={"chunk-76d2bae7":1};i[t]?e.push(i[t]):0!==i[t]&&s[t]&&e.push(i[t]=new Promise((function(e,s){for(var a="css/"+({}[t]||t)+"."+{"chunk-76d2bae7":"36de8f56"}[t]+".css",n=l.p+a,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var c=o[r],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===a||d===n))return e()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){c=u[r],d=c.getAttribute("data-href");if(d===a||d===n)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||n,o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete i[t],h.parentNode.removeChild(h),s(o)},h.href=n;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){i[t]=0})));var a=n[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,s){a=n[t]=[e,s]}));e.push(a[2]=o);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=r(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(h);var s=n[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",u.name="ChunkLoadError",u.type=a,u.request=i,s[1](u)}n[t]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(s,a,function(e){return t[e]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var h=d;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0502":function(t,e,s){},"0667":function(t,e,s){},"0ef6":function(t,e,s){"use strict";s("0667")},"151f":function(t,e,s){"use strict";s("2210")},2210:function(t,e,s){},3386:function(t,e,s){},"364c":function(t,e,s){"use strict";s("9668")},3877:function(t,e,s){"use strict";s("4bb0")},4738:function(t,e,s){"use strict";s("a595")},"494c":function(t,e,s){},"4bb0":function(t,e,s){},"4c47":function(t,e,s){"use strict";s("0502")},"4c98":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("d3b7"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading||t.noAlice?t.loading&&!t.noAlice?s("div",{staticClass:"mainContainer centered vcentered size-2x"},[t._v(" loading... ")]):s("div",{staticClass:"mainContainer centered vcentered"},[s("form",{staticClass:"fullpageForm",on:{submit:function(e){return e.preventDefault(),t.connect(e)}}},[s("p",{staticClass:"size-15x"},[t._v(" Unfortunately Project Alice couldn't be found. If you are running this on another machine, please fill the ip and api port ")]),s("p",[s("label",{attrs:{for:"ip"}},[t._v("Alice ip address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.ip,expression:"ip"}],attrs:{id:"ip",type:"text"},domProps:{value:t.ip},on:{input:function(e){e.target.composing||(t.ip=e.target.value)}}})]),s("p",[s("label",{attrs:{for:"port"}},[t._v("Alice API port")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.port,expression:"port"}],attrs:{id:"port",type:"text"},domProps:{value:t.port},on:{input:function(e){e.target.composing||(t.port=e.target.value)}}})]),s("p",[s("VueToggles",{attrs:{id:"remember",width:"100","checked-text":"Remember","unchecked-text":"Don't remember",value:t.remember,uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.remember=!t.remember}}})],1),t._m(0)])]):s("div",{staticClass:"mainContainer"},[s("pa-header"),s("div",{attrs:{id:"main"}},[s("pa-nav"),s("pa-content")],1)],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("button",[t._v("Connect")])])}],o=(s("99af"),s("a9e3"),s("ac1f"),s("5319"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{class:{collapsed:this.$store.state.fullScreen}},[s("div",{staticClass:"pageTitle"},[t._v(t._s(t.title))]),s("div",{staticClass:"aliceStatus",attrs:{id:"aliceStatus"}}),this.$store.state.settings["displaySystemUsage"]?s("div",{staticClass:"resourceUsage"},[t._v(" CPU: "+t._s(this.$store.state.resourceUsage["cpu"])+"% RAM: "+t._s(this.$store.state.resourceUsage["ram"])+"% SWP: "+t._s(this.$store.state.resourceUsage["swp"])+"% ")]):t._e(),s("div",{staticClass:"updateChannelMarker"})])}),r=[],l=(s("fb6a"),{name:"pa-header",data:function(){return{title:"",mqtt:null}},mounted:function(){this.mqtt=this.$store.state.mqtt},watch:{$route:{immediate:!0,handler:function(t,e){this.title=t.meta.title||"Home",document.title="Project Alice - ".concat(this.title.charAt(0).toUpperCase()+this.title.slice(1))}}}}),c=l,d=(s("9abe"),s("2877")),u=Object(d["a"])(c,o,r,!1,null,"067dc772",null),h=u.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{class:{collapsed:this.$store.state.fullScreen}},[s("router-link",{attrs:{tag:"button",to:"/widgets"}},[t._v("widgets")]),this.$store.state.loggedInUser?s("router-link",{attrs:{tag:"button",to:"/skills"}},[t._v("skills")]):t._e(),s("router-link",{attrs:{tag:"button",to:"/skills"}},[t._v("my home")]),this.$store.state.loggedInUser&&this.$store.state.settings["scenariosActive"]?s("router-link",{attrs:{tag:"button",to:"/scenarios"}},[t._v("scenarios")]):t._e(),this.$store.state.loggedInUser?s("router-link",{attrs:{tag:"button",to:"/skills"}},[t._v("syslog")]):t._e(),this.$store.state.loggedInUser?s("router-link",{attrs:{tag:"button",to:"/skills"}},[t._v("alicewatch")]):t._e(),this.$store.state.settings["devMode"]&&this.$store.state.loggedInUser?s("router-link",{attrs:{tag:"button",to:"/skills"}},[t._v("devmode")]):t._e(),this.$store.state.loggedInUser?s("router-link",{attrs:{tag:"button",to:"/skills"}},[t._v("admin")]):t._e(),this.$store.state.loggedInUser?t._e():s("router-link",{staticClass:"lastItem",attrs:{tag:"button",to:"/login"}},[t._v("login")]),this.$store.state.loggedInUser?s("button",{staticClass:"lastItem",on:{click:t.logout}},[t._v("logout")]):t._e()],1)},p=[],m={name:"pa-nav",methods:{logout:function(){this.$store.commit("userLogout"),window.location.reload()}}},g=m,v=(s("b42b"),Object(d["a"])(g,f,p,!1,null,"93b04580",null)),k=v.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"mainSection"}},[s("router-view")],1)},w=[],C={name:"pa-content"},_=C,$=(s("5b54"),Object(d["a"])(_,b,w,!1,null,null,null)),y=$.exports,T=s("bc3a"),I=s.n(T),S=s("4259"),x=s.n(S),P={name:"ProjectAlice",components:{paContent:y,paHeader:h,paNav:k},data:function(){return{loading:!0,noAlice:!1,port:5001,ip:"",remember:!1}},created:function(){this.$router.replace("home").then(),this.ip=this.$cookies.isKey("host")?this.$cookies.get("host"):"127.0.0.1",this.port=this.$cookies.isKey("apiPort")?this.$cookies.get("apiPort"):5001,this.connect()},methods:{connect:function(){var t=this;this.$modal.hide("no-alice"),this.$modal.show("loading"),I.a.get("http://".concat(this.ip,":").concat(this.port,"/api/v1.0.1/utils/config/")).then((function(e){t.$store.commit("setSettings",e.data.config),t.noAlice=!1,t.remember&&(t.$cookies.set("host",t.ip),t.$cookies.set("apiPort",t.port)),t.connectMQTT(),t.validateToken()})).catch((function(e){console.log("Error connecting to Alice "+e),t.ip="",t.noAlice=!0,t.$modal.show("no-alice")})).finally((function(){t.$modal.hide("loading"),t.loading=!1}))},connectMQTT:function(){var t=this;I.a.get("http://".concat(this.ip,":").concat(this.port,"/api/v1.0.1/utils/mqttConfig/")).then((function(e){var s=Math.floor(1e7*Math.random()+1),a=new x.a.Client(e.data.host,Number(e.data.port),"ProjectAliceInterface"+s);a.onMessageArrived=t.onMessage,a.onConnectionLost=t.onConnectionLost,a.onConnectionFailed=t.onConnectionFailed,a.connect({onSuccess:t.onConnected,onFailure:t.onConnectionFailed,timeout:5}),t.$store.commit("setMqtt",a)})).catch((function(e){console.log("Error getting MQTT info: "+e),setTimeout(t.connectMQTT,5e3)}))},validateToken:function(){var t=this;this.$cookies.isKey("username")&&this.$cookies.isKey("apiToken")&&I()({method:"post",url:"http://".concat(this.ip,":").concat(this.port,"/api/v1.0.1/login/checkToken/"),headers:{auth:this.$cookies.get("apiToken")}}).then((function(e){if("success"in e.data)return t.$store.commit("userLogin",{user:t.$cookies.get("username"),token:t.$cookies.get("apiToken")}),!0;console.log("API Token validity check failed"),t.$cookies.remove("username"),t.$cookies.remove("apiToken")}))},onMessage:function(t){"projectalice/devices/resourceUsage"===t.topic&&this.$store.commit("setResourceUsage",JSON.parse(t.payloadString))},onConnected:function(){console.log("Mqtt connected"),this.$store.state.mqtt.subscribe("projectalice/devices/resourceUsage")},onConnectionFailed:function(t){console.log("Mqtt connection failed")},onConnectionLost:function(){console.log("Mqtt connection lost")}}},M=P,A=(s("f276"),s("151f"),s("3877"),s("8e11"),Object(d["a"])(M,i,n,!1,null,null,null)),O=A.exports,j=s("8c4f"),E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("overlay",{attrs:{opened:t.addWidgets,visible:t.addWidgets,animate:"zoom-in",header:"Add widgets"},on:{closed:function(e){t.addWidgets=!1}}},t._l(t.widgetTemplates,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"skill"},[t._v(t._s(a))]),t._l(e,(function(e){return s("div",{staticClass:"widget clickable",on:{click:function(s){return t.addWidget(a,e)}}},[t._v(" "+t._s(e)+" ")])}))],2)})),0),s("actions-menu",{attrs:{menuItems:t.menuItems}}),s("tabs",{attrs:{tabs:t.tabs,onChange:t.changePage}})],1)},U=[],D=(s("07ac"),{name:"pa-widgets",data:function(){var t=this;return{tabs:[],menuItems:[{name:"edit",icon:"fas fa-pen-square",isToggle:!0,extendedIcon:"fas fa-times-circle",extendedName:"close"},{name:"theater mode",icon:"fas fa-person-booth",isToggle:!0,callback:this.cinemaMode},{name:"settings",icon:"fas fa-cog",click:function(){t.settings=!0}},{name:"upload preset",icon:"fas fa-file-upload"},{name:"download preset",icon:"fas fa-file-download"},{name:"add widget",icon:"far fa-plus-square",click:function(){t.addWidgets=!0}},{name:"remove widget",icon:"far fa-minus-square",click:function(){t.removeWidgets=!0}},{name:"save",icon:"fas fa-save",callback:this.saveAndClose,isToggle:!0}],settings:!1,addWidgets:!1,removeWidgets:!1,widgetTemplates:{},widgetInstances:{},activePageId:1}},created:function(){var t=this,e=this;document.addEventListener("keypress",(function(t){"Enter"===t.key&&e.$store.commit("stopCinemaMode")})),I()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/pages/"),headers:{auth:this.$cookies.get("apiToken")}}).then((function(e){if("pages"in e.data){for(var s=0,a=Object.values(e.data.pages);s<a.length;s++){var i=a[s];t.tabs.push(JSON.parse(i))}t.fetchWidgetTemplates(),t.fetchWidgetInstances()}}))},methods:{changePage:function(t){this.activePageId=t},saveAndClose:function(){console.log("saved")},cinemaMode:function(){this.$store.commit("toggleCinemaMode")},fetchWidgetTemplates:function(){var t=this;I()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/templates/")}).then((function(e){"widgets"in e.data&&(t.widgetTemplates=e.data["widgets"])}))},fetchWidgetInstances:function(){var t=this;I()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/"),headers:{auth:this.$cookies.get("apiToken")}}).then((function(e){"widgets"in e.data&&(t.widgetInstances=e.data["widgets"])}))},addWidget:function(t,e){I()({method:"put",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/"),data:{skillName:t,widgetName:e,pageId:this.activePageId},headers:{auth:this.$cookies.get("apiToken"),"content-type":"application/json"}}).then((function(t){"widget"in t.data&&console.log(t.data["widget"])}))}}}),N=D,W=(s("da53"),Object(d["a"])(N,E,U,!1,null,"74fdfe2c",null)),q=W.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tileContainer"},[t._l(t.skills,(function(e,a){return t.shopOpen?t._e():s("skill",{key:e.name,attrs:{skill:e,index:a}})})),t._l(t.storeSkills,(function(e){return t.shopOpen?s("store-skill",{key:e.name,ref:e.name.toLowerCase(),refInFor:!0,attrs:{skill:e,addMethod:t.addSkillToDownload,removeMethod:t.removeSkillToDownload}}):t._e()})),s("actions-menu",{attrs:{menuItems:t.menuItems,"data-tour":"10"}}),s("v-tour",{attrs:{name:"skills",steps:t.steps,callbacks:t.tourCallbacks}})],2)},B=[],F=(s("4de4"),s("4fad"),s("3835")),z={name:"skills",data:function(){return{shopOpen:!1,skills:[],storeSkills:{},skillsToDownload:[],menuItems:[{name:"shop",icon:"fas fa-download",extendedIcon:"fas fa-times-circle",isToggle:!0,callback:this.toggleShop},{name:"download",icon:"fas fa-check-circle",isToggle:!0,callback:this.doDownload}],steps:[{target:'[data-tour="0"]',header:{title:"Your skills"},content:"This is a skill that is installed on Project Alice.",params:{highlight:!0,placement:"right"}},{target:'[data-tour="1"]',content:"If the skill has any user settings available, this icon will appear. Click it to configure your skill!",params:{highlight:!0}},{target:'[data-tour="2"]',content:"You can stop any skill that isn't required for Alice to run using this icon",params:{highlight:!0}},{target:'[data-tour="3"]',content:"You can also reload a skill that isn't critical for Alice",params:{highlight:!0}},{target:'[data-tour="4"]',content:"You disabled skill auto update? In that case you'll still be able to update your skill using this icon!",params:{highlight:!0}},{target:'[data-tour="5"]',content:"Not using this skill anymore? Well, you can delete it here! Keep in mind you can't delete Alice required skills!",params:{highlight:!0}},{target:'[data-tour="6"]',content:'This shows the status of the skill.<br/><br/><div style="text-align: left;">Green: All good<br/>Yellow: The skill was disabled<br/>Red: The skill failed starting.</div>',params:{highlight:!0}},{target:'[data-tour="7"]',content:"If the skill developer included some instructions on how to use this skill, you will find them here",params:{placement:"right",highlight:!0}},{target:'[data-tour="8"]',content:"Don't know what to say to use this skill? Check here!",params:{placement:"right",highlight:!0}},{target:'[data-tour="9"]',content:"Get some useful info about the skill, like, who made it, its actual version etc.",params:{placement:"right",highlight:!0}},{target:'[data-tour="10"]',content:"Need more skills? This is where you can get them!",params:{placement:"left",highlight:!0}}],tourCallbacks:{onSkip:this.finishTour,onFinish:this.finishTour}}},mounted:function(){this.$cookies.isKey("skillsTourCompleted")?this.fetchSkills():(this.skills.push({name:"ProjectAliceDemo",author:"Alice",delayed:!1,active:!0,description:"This is a UI tour demo skill",icon:"fas fa-biohazard",instructions:"This is a demo",required:!1,settings:{dummy:!0},updateAvailable:!0,version:"1.0.0",aliceMinVersion:"1.0.0-b4",category:"system",maintainers:["project","alice"]}),this.$tours["skills"].start()),setInterval(this.reloadStoreSkills,3e5),this.reloadStoreSkills()},methods:{fetchSkills:function(){var t=this;I()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/"),headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(e){"data"in e.data&&(t.skills=e.data.data)}))},finishTour:function(){this.$cookies.set("skillsTourCompleted",1),this.fetchSkills()},toggleShop:function(){this.shopOpen=!this.shopOpen},reloadStoreSkills:function(){var t=this;I()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/getStore/")}).then((function(e){"store"in e.data&&(t.storeSkills=e.data.store)}))},addSkillToDownload:function(t){this.skillsToDownload.push(t)},removeSkillToDownload:function(t){this.skillsToDownload=this.skillsToDownload.filter((function(e){return e!==t}))},doDownload:function(){var t=this;this.skillsToDownload.length<=0||I()({method:"put",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/installSkills/"),data:this.skillsToDownload,headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(e){if("status"in e.data)for(var s=0,a=Object.entries(e.data.status);s<a.length;s++){var i=Object(F["a"])(a[s],2),n=i[0];i[1];t.$refs[n.toLowerCase()][0].setIsDownloading()}}))}}},K=z,Y=Object(d["a"])(K,L,B,!1,null,null,null),G=Y.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("iframe",{attrs:{id:"nodered",title:"nodered",src:"http://192.168.1.168:1880"}})},J=[],R={name:"scenarios"},V=R,Q=(s("4738"),Object(d["a"])(V,H,J,!1,null,"fe05331a",null)),X=Q.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"centered vcentered"},[s("form",{staticClass:"fullpageForm",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("p",[s("label",{attrs:{for:"username"}},[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{id:"username",type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("p",[s("label",{attrs:{for:"pincode"}},[t._v("Pin code")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pincode,expression:"pincode"}],attrs:{id:"pincode",type:"password"},domProps:{value:t.pincode},on:{input:function(e){e.target.composing||(t.pincode=e.target.value)}}})]),s("p",[s("label",{attrs:{for:"rememberMe"}},[t._v("Remember me")]),s("VueToggles",{attrs:{id:"rememberMe","checked-text":"Yes","unchecked-text":"No",value:t.rememberMe,uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.rememberMe=!t.rememberMe}}})],1),t._m(0)])])},tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("button",[t._v("Login")])])}],et={name:"login",data:function(){return{username:"",pincode:"",rememberMe:!1}},methods:{login:function(){var t=this,e=new FormData;e.append("username",this.username),e.append("pin",this.pincode),I()({method:"post",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/login/"),data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){"apiToken"in e.data&&(t.$store.commit("userLogin",{user:t.username,token:e.data.apiToken}),t.rememberMe&&(t.$cookies.set("username",t.username),t.$cookies.set("apiToken",e.data.apiToken)),t.$router.replace("widgets"))})).catch((function(t){console.log("Connection failed: "+t)}))}}},st=et,at=(s("364c"),Object(d["a"])(st,Z,tt,!1,null,"e494fa0a",null)),it=at.exports;a["a"].use(j["a"]);var nt=[{path:"/",name:"Home",component:q,meta:{title:"widgets"}},{path:"/home",redirect:"/"},{path:"/widgets",redirect:"/"},{path:"/skills",component:G,meta:{title:"skills"}},{path:"/scenarios",component:X,meta:{title:"scenarios"}},{path:"/login",component:it,meta:{title:"login"}}],ot=new j["a"]({routes:nt,mode:"abstract"}),rt=ot,lt=s("2106"),ct=s.n(lt),dt=s("2f62");a["a"].use(dt["a"]);var ut=new dt["a"].Store({state:{settings:{},mqtt:null,resourceUsage:{},loggedInUser:!1,fullScreen:!1},mutations:{setSettings:function(t,e){t.settings=e},setMqtt:function(t,e){t.mqtt=e},setResourceUsage:function(t,e){t.resourceUsage=e},userLogin:function(t,e){t.loggedInUser=e},userLogout:function(t){t.loggedInUser={},a["a"].$cookies.remove("username"),a["a"].$cookies.remove("apiToken")},startCinemaMode:function(t){t.fullScreen=!0},stopCinemaMode:function(t){t.fullScreen=!1},toggleCinemaMode:function(t){t.fullScreen=!t.fullScreen}}}),ht=s("2b27"),ft=s.n(ht),pt=s("4dcf"),mt=s("1881"),gt=s.n(mt),vt=s("2536"),kt=s.n(vt),bt=s("7873"),wt=s.n(bt),Ct=s("03a5"),_t=s.n(Ct),$t=s("e37d"),yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"skill",attrs:{"data-tour":"0"}},[s("div",{staticClass:"skillTitle"},[s("div",{staticClass:"skillName"},[t._v(t._s(t.skill.name))]),s("div",{staticClass:"skillIcon"},[s("i",{class:t.skill.icon,attrs:{"aria-hidden":"true"}})])]),s("overlay",{attrs:{opened:t.viewInfos,visible:t.viewInfos,animate:"zoom-in",header:"Infos - "+t.skill.name},on:{closed:function(e){t.viewInfos=!1}}},[s("ul",{staticClass:"fa-ul"},[s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-code-branch",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.version))]),s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-compress-arrows-alt",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.aliceMinVersion))]),s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-user",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.author))]),s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-users",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.maintainers.join(", ")))]),s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-folder-open",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.category))]),s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-quote-right",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.description))])])]),s("overlay",{attrs:{opened:t.viewInstructions,visible:t.viewInstructions,animate:"zoom-in",header:"Instructions - "+t.skill.name},on:{closed:function(e){t.viewInstructions=!1}}},[t._v(" instructions ")]),s("overlay",{attrs:{opened:t.viewIntents,visible:t.viewIntents,animate:"zoom-in",header:"Intents - "+t.skill.name},on:{closed:function(e){t.viewIntents=!1}}},[t._v(" intents ")]),t.viewSkill?s("div",{staticClass:"skillBody"},[t.skill.instructions.length>0?s("div",{staticClass:"clickable",attrs:{"data-tour":"7"},on:{click:function(e){t.viewInstructions=!0}}},[t._v("Instructions")]):t._e(),s("div",{staticClass:"clickable",attrs:{"data-tour":"8"},on:{click:function(e){t.viewIntents=!0}}},[t._v("Intents")]),s("div",{staticClass:"clickable",attrs:{"data-tour":"9"},on:{click:function(e){t.viewInfos=!0}}},[t._v("Infos")]),s("div",{staticClass:"skillActions"},[Object.keys(t.skill.settings).length?s("i",{staticClass:"fas fa-cog clickable",attrs:{"aria-hidden":"true","data-tour":"1"}}):t._e(),t.skill.required?t._e():s("i",{staticClass:"fas fa-power-off clickable",attrs:{"aria-hidden":"true","data-tour":"2"},on:{click:t.toggle}}),t.skill.active?s("i",{staticClass:"fas fa-sync clickable",attrs:{"aria-hidden":"true","data-tour":"3"},on:{click:t.reloadSkill}}):t._e(),t.skill.updateAvailable?s("i",{staticClass:"fas fa-arrow-alt-circle-up clickable",attrs:{"aria-hidden":"true","data-tour":"4"},on:{click:t.update}}):t._e(),t.skill.required?t._e():s("i",{staticClass:"far fa-times-circle clickable",attrs:{"aria-hidden":"true","data-tour":"5"},on:{click:t.remove}})]),s("div",{staticClass:"skillStatusAround"}),s("div",{staticClass:"skillStatus",class:t.skill.active?"active":"disabled",attrs:{"data-tour":"6"}})]):t._e()],1)},Tt=[],It=(s("b0c0"),{name:"skill",data:function(){return{viewIntents:!1,viewInfos:!1,viewInstructions:!1,viewSkill:!0}},props:["skill","index"],methods:{reloadSkill:function(){var t=this;I()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(this.skill.name,"/reload/"),headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(e){"skill"in e.data&&(t.skill=e.data.skill)}))},toggle:function(){var t=this;I()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(this.skill.name,"/toggleActiveState/"),headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(e){return t.skill.active=!t.skill.active}))},update:function(){I()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(this.skill.name,"/checkUpdate/"),headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(t){}))},remove:function(){var t=this;I()({method:"delete",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(this.skill.name,"/"),headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(e){t.$destroy(),t.$el.parentNode.removeChild(t.$el)}))}}}),St=It,xt=(s("9f9d"),s("4c47"),Object(d["a"])(St,yt,Tt,!1,null,"3892084d",null)),Pt=xt.exports,Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"skill"},[s("div",{staticClass:"skillTitle"},[s("div",{staticClass:"skillName"},[t._v(t._s(t.skill.name))]),s("div",{staticClass:"skillIcon"},[s("i",{class:t.skill.icon,attrs:{"aria-hidden":"true"}})])]),s("div",{staticClass:"skillAuthor"},[s("i",{staticClass:"fas fa-user",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"clickable"},[t._v(t._s(t.skill.author))])]),s("div",{staticClass:"skillDescription"},[t._v(" "+t._s(t.skill.desc)+" ")]),s("div",{staticClass:"download",on:{click:t.handleDownloadClick}},[s("i",{staticClass:"fas clickable",class:{"fa-download":!t.isWanted&&!t.isDownloading,"fa-check":t.isWanted&&!t.isDownloading,"fa-spinner fa-spin":!t.isWanted&&t.isDownloading},attrs:{"aria-hidden":"true"}})])])},At=[],Ot={name:"storeSkill",data:function(){return{isWanted:!1,isDownloading:!1}},props:["skill","addMethod","removeMethod"],methods:{handleDownloadClick:function(){this.isWanted||this.isDownloading?this.isWanted&&!this.isDownloading&&(this.isWanted=!1,this.removeMethod(this.skill.name)):(this.isWanted=!0,this.addMethod(this.skill.name))},setIsDownloading:function(){this.isWanted=!1,this.isDownloading=!0}}},jt=Ot,Et=(s("b405"),Object(d["a"])(jt,Mt,At,!1,null,"9a3ddb5e",null)),Ut=Et.exports,Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu",class:{extended:t.isExtended}},t._l(t.menuItems.slice(0,t.isExtended?999:1),(function(e,a){return s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.isExtended&&e.extendedName||e.name,expression:"isExtended ? item.extendedName || item.name : item.name"}],key:e.name,staticClass:"menuButton clickable",class:t.isExtended&&e.extendedIcon||e.icon,attrs:{"aria-hidden":"true"},on:{click:function(s){"click"in e?e["click"]():t.handleClick(e)}}})})),0)},Nt=[],Wt={name:"actionsMenu",data:function(){return{isExtended:!1}},props:["menuItems"],methods:{toggle:function(){this.isExtended=!this.isExtended},handleClick:function(t){t.hasOwnProperty("isToggle")&&t.isToggle&&this.toggle(),t.hasOwnProperty("callback")&&t.callback()}}},qt=Wt,Lt=(s("0ef6"),Object(d["a"])(qt,Dt,Nt,!1,null,"993c57e6",null)),Bt=Lt.exports,Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"tabs"},[t._l(t.myTabs,(function(e){return s("div",{key:e.position,staticClass:"tab clickable",class:{active:t.activeTab===e.position},on:{click:function(s){return t.handleClick(e.position,e.id)},contextmenu:function(s){return s.preventDefault(),t.removeTab(e.id)},dblclick:function(s){return t.rename(e.id)}}},[s("i",{class:e.icon,attrs:{"aria-hidden":"true"}})])})),t.adding?s("div",{staticClass:"tab"},[s("i",{staticClass:"fa-spinner fa-spin",attrs:{"aria-hidden":"true"}})]):t._e(),s("div",{staticClass:"tab clickable",on:{click:t.addTab}},[s("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})])],2),t._l(t.myTabs,(function(e){return e.id===t.activeTab?s("div",{key:e.id,staticClass:"tab_page"}):t._e()}))],2)},zt=[],Kt=s("b85c"),Yt={name:"tabs",data:function(){return{activeTab:0,myTabs:this.tabs,adding:!1}},props:["tabs","onChange"],created:function(){},methods:{handleClick:function(t,e){this.activeTab=t,this.activeTabId=e,this.onChange&&this.onChange(e)},addTab:function(){var t=this;this.adding=!0,I()({method:"PUT",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/addPage/"),headers:{auth:this.$cookies.get("apiToken")}}).then((function(e){"newpage"in e.data&&t.tabs.push(JSON.parse(e.data.newpage))})).finally((function(){t.adding=!1}))},removeTab:function(t){var e=this;t<=1?this.$dialog.alert("You can't delete the default page").then():this.$dialog.confirm("Do you really want to delete this page?").then((function(){I()({method:"DELETE",url:"http://".concat(e.$store.state.settings["aliceIp"],":").concat(e.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/pages/").concat(t,"/"),headers:{auth:e.$cookies.get("apiToken")}}).then((function(t){if("pages"in t.data){e.myTabs=[];for(var s=0,a=Object.values(t.data.pages);s<a.length;s++){var i=a[s];e.myTabs.push(JSON.parse(i))}}}))})).catch((function(){}))},rename:function(t){var e=this,s=this;this.$dialog.prompt({title:"New icon",body:"Please enter the new fontawesome icon, including the prefix"},{promptHelp:"Example: fas fa-biohazard"}).then((function(a){var i,n=Object(Kt["a"])(e.myTabs);try{for(n.s();!(i=n.n()).done;){var o=i.value;o.id===t&&(o.icon=a.data||"fas fa-biohazard")}}catch(r){n.e(r)}finally{n.f()}a.data.length>0&&"fas fa-biohazard"!==a.data&&I()({method:"PATCH",url:"http://".concat(s.$store.state.settings["aliceIp"],":").concat(s.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/pages/").concat(t,"/"),data:{newIcon:a.data},headers:{auth:s.$cookies.get("apiToken")}}).then()}))}}},Gt=Yt,Ht=(s("eda2"),Object(d["a"])(Gt,Ft,zt,!1,null,"b80292cc",null)),Jt=Ht.exports;s("c5c5"),s("fdd8"),s("bee4"),s("ec1f"),s("7ad4"),s("88bc");s.e("chunk-76d2bae7").then(s.t.bind(null,"2440",7)),a["a"].config.productionTip=!1,a["a"].use(ct.a,I.a),a["a"].use(ft.a),a["a"].use(gt.a),a["a"].use(wt.a),a["a"].use(_t.a),a["a"].use(kt.a),a["a"].use($t["a"]),a["a"].$cookies.config("10y"),a["a"].component("VueToggles",pt["a"]),a["a"].component("skill",Pt),a["a"].component("storeSkill",Ut),a["a"].component("actionsMenu",Bt),a["a"].component("tabs",Jt),document.addEventListener("contextmenu",(function(t){return t.preventDefault()})),new a["a"]({store:ut,router:rt,render:function(t){return t(O)}}).$mount("#app")},"5b54":function(t,e,s){"use strict";s("494c")},"68ec":function(t,e,s){},"6cdb":function(t,e,s){},"7ad4":function(t,e,s){},"88bc":function(t,e,s){},"8e11":function(t,e,s){"use strict";s("3386")},"960f":function(t,e,s){},9668:function(t,e,s){},"984c":function(t,e,s){},"9abe":function(t,e,s){"use strict";s("4c98")},"9ceb":function(t,e,s){},"9f9d":function(t,e,s){"use strict";s("9ceb")},a263:function(t,e,s){},a595:function(t,e,s){},b405:function(t,e,s){"use strict";s("984c")},b42b:function(t,e,s){"use strict";s("960f")},bee4:function(t,e,s){},da53:function(t,e,s){"use strict";s("6cdb")},ec1f:function(t,e,s){},eda2:function(t,e,s){"use strict";s("68ec")},f276:function(t,e,s){"use strict";s("a263")},fdd8:function(t,e,s){}});
//# sourceMappingURL=app.582ecaac.js.map