(function(t){function e(e){for(var a,o,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"02ab":function(t,e,s){"use strict";s("f84f")},"06aa":function(t,e,s){"use strict";s("64f9")},"0929":function(t,e,s){"use strict";s("6fd9")},1101:function(t,e,s){"use strict";s("8602")},"151f":function(t,e,s){"use strict";s("2210")},1927:function(t,e,s){},"1ad6":function(t,e,s){},2210:function(t,e,s){},"2e61":function(t,e,s){},3386:function(t,e,s){},"33b6":function(t,e,s){"use strict";s("b102")},3877:function(t,e,s){"use strict";s("4bb0")},"3d4d":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"skill",style:"ProjectAliceDemo"===t.skill.name?"margin-left: 200px;":"",attrs:{"data-tour":"0"}},[s("div",{staticClass:"skillTitle"},[s("div",{staticClass:"skillName"},[t._v(t._s(t.skill.name))]),s("div",{staticClass:"skillIcon"},[s("i",{class:t.skill.icon,attrs:{"aria-hidden":"true"}})])]),s("overlay",{attrs:{opened:t.viewInfos,visible:t.viewInfos,animate:"zoom-in",header:"Infos - "+t.skill.name},on:{closed:function(e){t.viewInfos=!1}}},[s("ul",{staticClass:"fa-ul"},[s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-code-branch",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.version))]),s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-compress-arrows-alt",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.aliceMinVersion))]),s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-user",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.author))]),s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-users",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.maintainers.join(", ")))]),s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-folder-open",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.category))]),s("li",[s("span",{staticClass:"fa-li"},[s("i",{staticClass:"fas fa-quote-right",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.description))])])]),s("overlay",{attrs:{opened:t.viewIntents,visible:t.viewIntents,animate:"zoom-in",header:"Intents - "+t.skill.name},on:{closed:function(e){t.viewIntents=!1}}},t._l(t.skill["intents"],(function(e,a){return a.startsWith("hermes/intent/")&&e.length>0?s("p",[s("strong",[t._v(t._s(a.split("hermes/intent/")[1])+": «")]),t._v(" "),s("i",[t._v(t._s(e[Math.floor(Math.random()*e.length)]))]),t._v(" "),s("strong",[t._v("»")])]):t._e()})),0),s("overlay",{attrs:{opened:t.viewInstructions,visible:t.viewInstructions,animate:"zoom-in",header:"Instructions - "+t.skill.name},on:{closed:function(e){t.viewInstructions=!1}}},[s("vue-simple-markdown",{attrs:{source:t.skill.instructions}})],1),t.viewSkill?s("div",{staticClass:"skillBody"},[s("div",{staticClass:"clickable",attrs:{"data-tour":"7"},on:{click:function(e){-1===t.$tours["skills"].currentStep&&(t.viewIntents=!0)}}},[t._v(t._s(t.$t("skill.intents")))]),s("div",{staticClass:"clickable",attrs:{"data-tour":"8"},on:{click:function(e){-1===t.$tours["skills"].currentStep&&(t.viewInfos=!0)}}},[t._v(t._s(t.$t("skill.info")))]),t.skill.instructions.length>0?s("div",{staticClass:"clickable",attrs:{"data-tour":"9"},on:{click:function(e){-1===t.$tours["skills"].currentStep&&(t.viewInstructions=!0)}}},[t._v(t._s(t.$t("skill.instructions")))]):t._e(),s("div",{staticClass:"skillActions"},[Object.keys(t.skill.settings).length?s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.settings"),expression:"$t('tooltips.settings')"}],staticClass:"fas fa-cog clickable",attrs:{"aria-hidden":"true","data-tour":"1"},on:{click:function(e){-1===t.$tours["skills"].currentStep&&t.showSettings(t.skill)}}}):t._e(),t.skill.required?t._e():s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.skill.active?t.$t("tooltips.stop"):t.$t("tooltips.start"),expression:"skill.active ? $t('tooltips.stop') : $t('tooltips.start')"}],staticClass:"fas fa-power-off clickable",attrs:{"aria-hidden":"true","data-tour":"2"},on:{click:function(e){-1===t.$tours["skills"].currentStep&&t.toggle}}}),t.skill.active?s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.reload"),expression:"$t('tooltips.reload')"}],staticClass:"fas fa-sync clickable",attrs:{"aria-hidden":"true","data-tour":"3"},on:{click:function(e){-1===t.$tours["skills"].currentStep&&t.reloadSkill}}}):t._e(),t.skill.updateAvailable?s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.update"),expression:"$t('tooltips.update')"}],staticClass:"fas fa-arrow-alt-circle-up clickable",attrs:{"aria-hidden":"true","data-tour":"4"},on:{click:function(e){-1===t.$tours["skills"].currentStep&&t.update}}}):t._e(),t.skill.required?t._e():s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.remove"),expression:"$t('tooltips.remove')"}],staticClass:"far fa-times-circle clickable",attrs:{"aria-hidden":"true","data-tour":"5"},on:{click:function(e){-1===t.$tours["skills"].currentStep&&t.remove}}})]),s("div",{staticClass:"skillStatusAround"}),s("div",{staticClass:"skillStatus",class:t.skill.active?"active":"disabled",attrs:{"data-tour":"6"}})]):t._e()],1)},i=[],n=(s("99af"),s("b0c0"),s("bc3a")),o=s.n(n),r={name:"skill",data:function(){return{viewIntents:!1,viewInfos:!1,viewInstructions:!1,viewSkill:!0}},props:["skill","index"],methods:{reloadSkill:function(){var t=this;o()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(this.skill.name,"/reload/"),headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(e){"skill"in e.data&&(t.skill=e.data.skill)}))},toggle:function(){var t=this;o()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(this.skill.name,"/toggleActiveState/"),headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(){return t.skill.active=!t.skill.active}))},update:function(){o()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(this.skill.name,"/checkUpdate/"),headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(){}))},remove:function(){var t=this;o()({method:"delete",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(this.skill.name,"/"),headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(){t.$destroy(),t.$el.parentNode.removeChild(t.$el)}))},showSettings:function(t){var e=this,s=JSON.parse(JSON.stringify(t["settings"])),a={view:"skillSettingsPromptDialog",skill:t,parent:this};this.$dialog.prompt({},a).then((function(t){o()({method:"PATCH",url:"http://".concat(e.$store.state.settings["aliceIp"],":").concat(e.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(e.skill.name,"/"),headers:{auth:e.$store.state.loggedInUser["token"],"content-type":"application/json"},data:JSON.stringify(t.data)}).then((function(){return s={}}))})).catch((function(){return t["settings"]=s}))}}},l=r,c=(s("8b1f"),s("1101"),s("2877")),d=Object(c["a"])(l,a,i,!1,null,"190cc6da",null);e["a"]=d.exports},"42d4":function(t,e,s){"use strict";s("b3ac")},4738:function(t,e,s){"use strict";s("a595")},"494c":function(t,e,s){},"4bb0":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e),function(t){s("7db0"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var e=s("2b0e"),a=s("fb5a"),i=s("a18c"),n=s("bc3a"),o=s.n(n),r=s("2106"),l=s.n(r),c=s("cf79"),d=s("2b27"),u=s.n(d),p=s("4dcf"),g=s("1881"),m=s.n(g),h=s("2536"),f=s.n(h),v=s("7873"),k=s.n(v),b=s("03a5"),w=s.n(b),$=s("e37d"),_=s("fb19"),C=s.n(_),y=s("7602"),x=s.n(y),T=s("a925"),I=s("3d4d"),P=s("6359"),S=s("aa4b"),O=s("5eff"),N=(s("c5c5"),s("2440"),s("278f"),s("0ae1"),s("bee4"),s("ec1f"),s("7ad4"),s("88bc"),s("b2dc"),s("1927"),s("76b5")),M=s("fd0f"),j=s("dbc9");e["a"].config.productionTip=!1,e["a"].use(l.a,o.a),e["a"].use(u.a),e["a"].use(m.a),e["a"].use(k.a),e["a"].use(w.a),e["a"].use(f.a),e["a"].use($["a"]),e["a"].use(x.a),e["a"].use(T["a"]),e["a"].$cookies.config("10y"),e["a"].component("VueToggles",p["a"]),e["a"].component("vue-draggable-resizable",C.a),e["a"].component("skill",I["a"]),e["a"].component("storeSkill",P["a"]),e["a"].component("actionsMenu",S["a"]),e["a"].component("tabs",O["a"]),e["a"].dialog.registerComponent("fontawesomePromptDialog",N["a"]),e["a"].dialog.registerComponent("widgetOptionsPromptDialog",M["a"]),e["a"].dialog.registerComponent("skillSettingsPromptDialog",j["a"]),t.jQuery=s("1157");t.jQuery;window.$=t.jQuery,e["a"].directive("init",{bind:function(t,e,s){var a=s.data.directives.find((function(t){return"v-model"===t.rawName}));a&&(s.context[a.expression]=e.value)}});var D=new T["a"]({local:"en",fallbackLocale:"en",silentFallbackWarn:!0,messages:{}});c["a"].commit("setI18n",D),new e["a"]({store:c["a"],router:i["a"],i18n:D,render:function(t){return t(a["a"])}}).$mount("#app")}.call(this,s("c8ba"))},"5b1e":function(t,e,s){},"5b54":function(t,e,s){"use strict";s("494c")},"5eff":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tabs"},[t._l(t.tabs,(function(e){return s("div",{key:e.id,staticClass:"tab clickable",class:{active:t.activeTab===e.position},on:{click:function(s){return t.handleClick(e.position,e.id)},contextmenu:function(s){return s.preventDefault(),t.remove(e.id)},dblclick:function(s){return t.rename(e.id)}}},[s("i",{class:e.icon,attrs:{"aria-hidden":"true"}})])})),t.addTab&&t.$store.state.loggedInUser?s("div",{staticClass:"tab clickable",on:{click:t.add}},[s("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})]):t._e()],2)},i=[],n={name:"tabs",data:function(){return{activeTab:0}},props:["tabs","onChange","addTab","removeTab","renameTab"],methods:{handleClick:function(t,e){this.activeTab=t,this.activeTabId=e,this.onChange&&this.onChange(e)},rename:function(t){this.renameTab(t)},add:function(){this.addTab()},remove:function(t){this.removeTab(t)}}},o=n,r=(s("7faa"),s("2877")),l=Object(r["a"])(o,a,i,!1,null,"12835da3",null);e["a"]=l.exports},6205:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.connecting?s("div",{staticClass:"mainContainer centered vcentered"},[s("i",{staticClass:"fas fa-spinner fa-spin fa-5x"})]):s("div",{staticClass:"mainContainer centered vcentered"},[s("form",{staticClass:"fullpageForm",on:{submit:function(e){return e.preventDefault(),t.doConnect(e)}}},[s("p",{staticClass:"size-15x"},[t._v(" Unfortunately Project Alice couldn't be contacted. Please fill her ip and api port below ")]),s("p",[s("label",{attrs:{for:"ip"}},[t._v("Alice ip address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.ip,expression:"ip"}],attrs:{id:"ip",type:"text"},domProps:{value:t.ip},on:{input:function(e){e.target.composing||(t.ip=e.target.value)}}})]),s("p",[s("label",{attrs:{for:"port"}},[t._v("Alice API port")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.port,expression:"port"}],attrs:{id:"port",type:"text"},domProps:{value:t.port},on:{input:function(e){e.target.composing||(t.port=e.target.value)}}})]),s("p",[s("VueToggles",{attrs:{id:"remember",width:"100","checked-text":"Remember","unchecked-text":"",value:t.remember,uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.remember=!t.remember}}})],1),t._m(0)])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("button",[t._v("Connect")])])}],n=(s("99af"),s("a9e3"),s("4fad"),s("d3b7"),s("ac1f"),s("5319"),s("3835")),o=s("bc3a"),r=s.n(o),l=s("4259"),c=s.n(l),d={name:"connect",data:function(){return{connecting:!1,port:5001,ip:"",remember:!1}},created:function(){this.ip=this.$cookies.isKey("host")?this.$cookies.get("host"):"127.0.0.1",this.port=this.$cookies.isKey("apiPort")?this.$cookies.get("apiPort"):5001,this.doConnect()},methods:{doConnect:function(){var t=this;this.connecting=!0;var e=this;this.connect().then((function(){t.connectMQTT().then((function(){t.loadI18n().then((function(){t.validateToken().then((function(){e.$store.commit("uiConnected",!0),e.$router.replace("/").then()}))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)})).finally((function(){return e.connecting=!1}))},connect:function(){var t=this;return new Promise((function(e,s){r.a.get("http://".concat(t.ip,":").concat(t.port,"/api/v1.0.1/utils/config/")).then((function(s){t.$store.commit("setSettings",s.data.config),t.remember&&(t.$cookies.set("host",t.ip),t.$cookies.set("apiPort",t.port)),e()})).catch((function(e){t.ip="",s(new Error("Error connecting to Alice "+e))}))}))},connectMQTT:function(){var t=this;return new Promise((function(e,s){r.a.get("http://".concat(t.ip,":").concat(t.port,"/api/v1.0.1/utils/mqttConfig/")).then((function(s){var a=Math.floor(1e7*Math.random()+1),i=new c.a.Client(s.data.host,Number(s.data.port),"ProjectAliceInterface"+a);i.onMessageArrived=t.onMessage,i.onConnectionLost=t.onConnectionLost,i.onConnectionFailed=t.onConnectionFailed,i.connect({onSuccess:t.onConnected,onFailure:t.onConnectionFailed,timeout:5}),t.$store.commit("setMqtt",i),e()})).catch((function(t){s(new Error("Error getting MQTT info: "+t))}))}))},validateToken:function(){var t=this;return new Promise((function(e,s){t.$cookies.isKey("username")&&t.$cookies.isKey("apiToken")?r()({method:"post",url:"http://".concat(t.ip,":").concat(t.port,"/api/v1.0.1/login/checkToken/"),headers:{auth:t.$cookies.get("apiToken")}}).then((function(e){"success"in e.data?t.$store.commit("userLogin",{user:t.$cookies.get("username"),token:t.$cookies.get("apiToken")}):(t.$cookies.remove("username"),t.$cookies.remove("apiToken"))})).finally((function(){return e()})):e()}))},loadI18n:function(){var t=this;return new Promise((function(e,s){r.a.get("http://".concat(t.ip,":").concat(t.port,"/api/v1.0.1/utils/i18n/")).then((function(s){for(var a=t.$store.state.i18n,i=0,o=Object.entries(s.data["data"]);i<o.length;i++){var r=Object(n["a"])(o[i],2),l=r[0],c=r[1];a.setLocaleMessage(l,c)}t.$store.commit("setI18n",a),e()})).catch((function(t){s(Error("Failed loading i18n: "+t))}))}))},onMessage:function(t){this.$store.commit("mqttMessage",t)},onConnected:function(){console.log("Mqtt connected"),this.$store.state.mqtt.subscribe("projectalice/devices/resourceUsage"),this.$store.state.mqtt.subscribe("projectalice/logging/syslog"),this.$store.state.mqtt.subscribe("projectalice/logging/alicewatch")},onConnectionFailed:function(t){console.log("Mqtt connection failed")},onConnectionLost:function(){console.log("Mqtt connection lost")}}},u=d,p=s("2877"),g=Object(p["a"])(u,a,i,!1,null,null,null);e["a"]=g.exports},6359:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"skill"},[s("div",{staticClass:"skillTitle"},[s("div",{staticClass:"skillName"},[t._v(t._s(t.skill.name))]),s("div",{staticClass:"skillIcon"},[s("i",{class:t.skill.icon,attrs:{"aria-hidden":"true"}})])]),s("div",{staticClass:"skillAuthor"},[s("i",{staticClass:"fas fa-user",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"clickable"},[t._v(t._s(t.skill.author))])]),s("div",{staticClass:"skillDescription"},[t._v(" "+t._s(t.skill.desc)+" ")]),s("div",{staticClass:"download",on:{click:t.handleDownloadClick}},[s("i",{staticClass:"fas clickable",class:{"fa-download":!t.isWanted&&!t.isDownloading,"fa-check":t.isWanted&&!t.isDownloading,"fa-spinner fa-spin":!t.isWanted&&t.isDownloading},attrs:{"aria-hidden":"true"}})])])},i=[],n=(s("b0c0"),{name:"storeSkill",data:function(){return{isWanted:!1,isDownloading:!1}},props:["skill","addMethod","removeMethod"],methods:{handleDownloadClick:function(){this.isWanted||this.isDownloading?this.isWanted&&!this.isDownloading&&(this.isWanted=!1,this.removeMethod(this.skill.name)):(this.isWanted=!0,this.addMethod(this.skill.name))},setIsDownloading:function(){this.isWanted=!1,this.isDownloading=!0}}}),o=n,r=(s("b405"),s("2877")),l=Object(r["a"])(o,a,i,!1,null,"9a3ddb5e",null);e["a"]=l.exports},"64f9":function(t,e,s){},"6fd9":function(t,e,s){},"76b5":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"custom-view-wrapper"},[s("div",{staticClass:"dg-content-body dg-content-body--has-title"},[s("h6",{staticClass:"dg-title"},[t._v("New icon")]),s("div",{staticClass:"dg-content"},[t._v("Please enter the new font awesome icon, including the prefix")]),s("form",{staticClass:"dg-form",attrs:{autocomplete:"off","data-children-count":"1"}},[s("label",{attrs:{for:"dg-input-elem"}},[t._v("Example: fas fa-biohazard")]),s("br"),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.icon,expression:"icon"}],attrs:{type:"text",autocomplete:"off",id:"dg-input-elem"},domProps:{value:t.icon},on:{input:[function(e){e.target.composing||(t.icon=e.target.value)},t.update]}})])]),s("div",{staticClass:"dg-content-footer"},[s("button",{staticStyle:{"background-color":"var(--windowBG)"},on:{click:t.handleDismiss}},[t._v("Cancel")]),s("button",{staticClass:"dg-pull-right",staticStyle:{"background-color":"var(--windowBG)"},on:{click:t.handleConfirm}},[s("i",{staticClass:"fa-2x",class:t.icon,attrs:{"aria-hidden":"true"}})])])])},i=[],n=s("0fa0"),o=s.n(n),r={mixins:[o.a],data:function(){return{icon:"fas fa-biohazard"}},methods:{handleConfirm:function(){this.proceed(this.icon)},handleDismiss:function(){this.cancel()},update:function(){this.$forceUpdate()}}},l=r,c=s("2877"),d=Object(c["a"])(l,a,i,!1,null,null,null);e["a"]=d.exports},"783d":function(t,e,s){"use strict";s("2e61")},"7ad4":function(t,e,s){},"7faa":function(t,e,s){"use strict";s("1ad6")},"843d":function(t,e,s){},8602:function(t,e,s){},"88bc":function(t,e,s){},"8b1f":function(t,e,s){"use strict";s("5b1e")},"8e11":function(t,e,s){"use strict";s("3386")},"984c":function(t,e,s){},a18c:function(t,e,s){"use strict";var a=s("2b0e"),i=s("8c4f"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("overlay",{attrs:{opened:t.addWidgets,visible:t.addWidgets,animate:"zoom-in",header:t.$t("dialogs.titles.addWidgets")},on:{closed:function(e){t.addWidgets=!1}}},t._l(t.widgetTemplates,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"skillTemplate"},[t._v(t._s(a))]),t._l(e,(function(e){return s("div",{staticClass:"widgetTemplate clickable",on:{click:function(s){return t.addWidget(a,e)}}},[t._v(" "+t._s(e)+" ")])}))],2)})),0),t.$store.state.loggedInUser?s("actions-menu",{attrs:{menuItems:t.menuItems}}):t._e(),s("tabs",{attrs:{tabs:t.tabs,addTab:t.addTab,removeTab:t.removeTab,renameTab:t.renameTab,onChange:t.changePage}}),t._l(t.tabs,(function(e){return e.id===t.activePageId?s("div",{key:e.id,staticClass:"tab_page"},t._l(t.widgetInstances,(function(e){return e["page"]===t.activePageId?s("vue-draggable-resizable",{key:e.id,attrs:{"class-name":"widgetContainer",classNameActive:"nothingtoseehere",w:parseInt(e["params"]["size"].split("x")[0]),h:parseInt(e["params"]["size"].split("x")[1]),x:e["params"]["x"],"min-width":50,"min-height":50,y:e["params"]["y"],z:e["params"]["z"],grid:[10,10],parent:!0,draggable:t.dragAndResizeEnabled,resizable:t.dragAndResizeEnabled},on:{activated:function(s){t.selectedWidget=e.id},dragstop:t.savePosition,resizestop:t.saveSize}},[s("div",{staticClass:"widget",style:t.computeCustomStyle(e)},[s("style",{tag:"component",attrs:{type:"text/css",scoped:""}},[t._v(" "+t._s(e.css)+" ")]),e.params["title"]?s("div",{staticClass:"widgetIcon"},[s("i",{class:e.icon,attrs:{"aria-hidden":"true"}})]):t._e(),s("p",{domProps:{innerHTML:t._s(e.html)}}),s("script",{attrs:{type:"application/javascript"}},[t._v(" "+t._s(e.js)+" ")]),t.settings?s("div",{staticClass:"widgetTool optioner",on:{click:function(s){return t.openWidgetSettings(e)}}},[s("i",{staticClass:"fas fa-cogs clickable",attrs:{"aria-hidden":"true"}})]):t._e(),t.removeWidgets?s("div",{staticClass:"widgetTool deleter",on:{click:function(s){return t.removeWidget(e.id)}}},[s("i",{staticClass:"far fa-trash-alt clickable",attrs:{"aria-hidden":"true"}})]):t._e(),t.settings?s("div",{staticClass:"widgetTool zindexer"},[s("i",{staticClass:"fas fa-level-up-alt clickable",attrs:{"aria-hidden":"true"},on:{click:function(s){return t.moveZUp(e)}}}),s("i",{staticClass:"fas fa-level-down-alt clickable",attrs:{"aria-hidden":"true"},on:{click:function(s){return t.moveZDown(e)}}})]):t._e()],1)]):t._e()})),1):t._e()}))],2)},o=[],r=(s("99af"),s("d3b7"),s("07ac"),s("5530")),l=s("b85c"),c=s("bc3a"),d=s.n(c),u={name:"pa-widgets",data:function(){var t=this;return{tabs:{},menuItems:[{name:this.$t("tooltips.edit"),icon:"fas fa-pen-square",isToggle:!0,extendedIcon:"fas fa-times-circle",extendedName:this.$t("tooltips.close"),onClose:function(){t.removeWidgets=!1,t.settings=!1,t.dragAndResizeEnabled=!1},onOpen:function(){t.dragAndResizeEnabled=!0}},{name:this.$t("tooltips.theaterMode"),icon:"fas fa-person-booth",isToggle:!0,callback:this.cinemaMode},{name:this.$t("tooltips.settings"),icon:"fas fa-cog",onClick:function(){t.settings=!t.settings}},{name:this.$t("tooltips.uploadPresets"),icon:"fas fa-file-upload"},{name:this.$t("tooltips.downloadPresets"),icon:"fas fa-file-download"},{name:this.$t("tooltips.addWidgets"),icon:"far fa-plus-square",onClick:function(){t.addWidgets=!0}},{name:this.$t("tooltips.removeWidgets"),icon:"far fa-minus-square",onClick:function(){t.removeWidgets=!t.removeWidgets}}],settings:!1,addWidgets:!1,removeWidgets:!1,widgetTemplates:{},widgetInstances:{},activePageId:1,selectedWidget:-1,dragAndResizeEnabled:!1,hasTitle:!0}},created:function(){var t=this,e=this;document.addEventListener("keypress",(function(t){"Enter"===t.key&&e.$store.commit("stopCinemaMode")})),d()({method:"get",url:"http://".concat(this.$cookies.get("host"),":").concat(this.$cookies.get("apiPort"),"/api/v1.0.1/widgets/pages/"),headers:{auth:this.$cookies.get("apiToken")}}).then((function(e){"pages"in e.data&&(t.tabs=e.data.pages,t.fetchWidgetTemplates(),t.fetchWidgetInstances())}))},methods:{changePage:function(t){this.activePageId=t,this.$forceUpdate()},cinemaMode:function(){this.$store.commit("toggleCinemaMode")},fetchWidgetTemplates:function(){var t=this;d()({method:"get",url:"http://".concat(this.$cookies.get("host"),":").concat(this.$cookies.get("apiPort"),"/api/v1.0.1/widgets/templates/")}).then((function(e){"widgets"in e.data&&(t.widgetTemplates=e.data["widgets"])}))},fetchWidgetInstances:function(){var t=this;d()({method:"get",url:"http://".concat(this.$cookies.get("host"),":").concat(this.$cookies.get("apiPort"),"/api/v1.0.1/widgets/"),headers:{auth:this.$cookies.get("apiToken")}}).then((function(e){"widgets"in e.data&&(t.widgetInstances=e.data.widgets)}))},addWidget:function(t,e){var s=this;d()({method:"put",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/"),data:{skillName:t,widgetName:e,pageId:this.activePageId},headers:{auth:this.$cookies.get("apiToken"),"content-type":"application/json"}}).then((function(t){"widget"in t.data&&s.$set(s.widgetInstances,t.data["widget"]["id"],t.data["widget"])}))},removeWidget:function(t){var e=this;d()({method:"delete",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/").concat(t,"/"),headers:{auth:this.$cookies.get("apiToken")}}).then((function(s){if("success"in s.data&&s.data.success){var a=e.listOfWidgetOnPage(e.widgetInstances[t]["page"]),i=e.widgetInstances[t]["params"]["z"];e.$delete(e.widgetInstances,t);var n,o=Object(l["a"])(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.params["z"]>i&&(r.params["z"]-=1,e.saveWidgetParams(r))}}catch(c){o.e(c)}finally{o.f()}}}))},savePosition:function(t,e){var s=this;if(!(this.selectedWidget<=-1)){t=5*Math.ceil(t/5),e=5*Math.ceil(e/5);var a=this.selectedWidget;d()({method:"patch",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/").concat(a,"/savePosition/"),data:{x:t,y:e},headers:{auth:this.$cookies.get("apiToken")}}).then((function(i){if("success"in i.data&&i.data.success){var n=s.widgetInstances[a];n.params["x"]=t,n.params["y"]=e,s.$set(s.widgetInstances,a,n)}}))}},saveSize:function(t,e,s,a){var i=this;if(!(this.selectedWidget<=-1)){t=5*Math.ceil(t/5),e=5*Math.ceil(e/5),s=5*Math.ceil(s/5),a=5*Math.ceil(a/5);var n=this.selectedWidget;d()({method:"patch",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/").concat(n,"/saveSize/"),data:{x:t,y:e,w:s,h:a},headers:{auth:this.$cookies.get("apiToken")}}).then((function(o){if("success"in o.data&&o.data.success){var r=i.widgetInstances[n];r.params["x"]=t,r.params["y"]=e,r.params["w"]=s,r.params["h"]=a,i.$set(i.widgetInstances,n,r)}}))}},openWidgetSettings:function(t){var e=this,s=this,a=Object(r["a"])({},t.params);this.settings=!1;var i={},n={view:"widgetOptionsPromptDialog",widget:t,parent:this};this.$dialog.prompt(i,n).then((function(i){d()({method:"PATCH",url:"http://".concat(s.$store.state.settings["aliceIp"],":").concat(s.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/").concat(i.data.id,"/"),data:JSON.stringify(i.data.params),headers:{auth:s.$cookies.get("apiToken"),"content-type":"application/json"}}).catch((function(){t.params=a})).finally((function(){e.settings=!0}))})).catch((function(){t.params=a,e.settings=!0}))},saveWidgetParams:function(t){d()({method:"PATCH",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/").concat(t.id,"/"),data:JSON.stringify(t.params),headers:{auth:self.$cookies.get("apiToken"),"content-type":"application/json"}})},computeCustomStyle:function(t){var e="";return e+="color: ".concat(t.params["color"],";"),e+="background-color: ".concat(t.params["rgba"],";"),e+="font-size: ".concat(t.params["font-size"],"em;"),t.params["borders"]||(e+="box-shadow:none;"),t.params["rotation"]&&0!==t.params["rotation"]&&(e+="transform:rotate(".concat(t.params["rotation"],"deg);")),e},moveZUp:function(t){var e=t.params["z"],s=e+1,a=this.listOfWidgetOnPage(t["page"]);if(!(s>a.length)){var i,n=Object(l["a"])(a);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(o.params["z"]===s)return o.params["z"]-=1,t.params["z"]=s,this.saveWidgetParams(o),void this.saveWidgetParams(t)}}catch(r){n.e(r)}finally{n.f()}}},moveZDown:function(t){var e=t.params["z"],s=e-1,a=this.listOfWidgetOnPage(t["page"]);if(!(s<=0)){var i,n=Object(l["a"])(a);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(o.params["z"]===s)return o.params["z"]+=1,t.params["z"]=s,this.saveWidgetParams(o),void this.saveWidgetParams(t)}}catch(r){n.e(r)}finally{n.f()}}},listOfWidgetOnPage:function(t){for(var e=[],s=0,a=Object.values(this.widgetInstances);s<a.length;s++){var i=a[s];i["page"]===t&&e.push(i)}return e},removeTab:function(t){if(this.$store.state.loggedInUser){var e=this;t<=1?this.$dialog.alert("You can't delete the default page").then():this.$dialog.confirm("Do you really want to delete this page?").then((function(){d()({method:"DELETE",url:"http://".concat(e.$store.state.settings["aliceIp"],":").concat(e.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/pages/").concat(t,"/"),headers:{auth:e.$cookies.get("apiToken")}}).then((function(s){"pages"in s.data&&e.$delete(e.tabs,t)}))})).catch((function(){}))}},renameTab:function(t){var e=this;if(this.$store.state.loggedInUser){var s=this,a={},i={view:"fontawesomePromptDialog"};this.$dialog.prompt(a,i).then((function(a){var i=a.data||"fas fa-biohazard";d()({method:"PATCH",url:"http://".concat(s.$store.state.settings["aliceIp"],":").concat(s.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/pages/").concat(t,"/"),data:{newIcon:i},headers:{auth:s.$cookies.get("apiToken")}}).then((function(s){"success"in s.data&&s.data.success&&(e.tabs[t].icon=i)}))})).catch((function(){}))}},addTab:function(){var t=this;d()({method:"PUT",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/addPage/"),headers:{auth:this.$cookies.get("apiToken")}}).then((function(e){if("newpage"in e.data){var s=e.data.newpage;t.$set(t.tabs,s.id,s)}}))}}},p=u,g=(s("06aa"),s("42d4"),s("2877")),m=Object(g["a"])(p,n,o,!1,null,"eacd979a",null),h=m.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tileContainer"},[t._l(t.skills,(function(e,a){return t.shopOpen?t._e():s("skill",{key:e.name,attrs:{skill:e,index:a}})})),t._l(t.storeSkills,(function(e){return t.shopOpen?s("store-skill",{key:e.name,ref:e.name.toLowerCase(),refInFor:!0,attrs:{skill:e,addMethod:t.addSkillToDownload,removeMethod:t.removeSkillToDownload}}):t._e()})),s("actions-menu",{attrs:{menuItems:t.menuItems,"data-tour":"10"}}),s("v-tour",{attrs:{name:"skills",steps:t.steps,callbacks:t.tourCallbacks}})],2)},v=[],k=(s("4de4"),s("4fad"),s("3835")),b={name:"skills",data:function(){return{shopOpen:!1,skills:[],storeSkills:{},skillsToDownload:[],menuItems:[{name:this.$t("tooltips.shop"),icon:"fas fa-download",extendedIcon:"fas fa-times-circle",extendedName:this.$t("tooltips.close"),isToggle:!0,callback:this.toggleShop},{name:this.$t("tooltips.download"),icon:"fas fa-check-circle",isToggle:!0,callback:this.doDownload}],steps:[{target:'[data-tour="0"]',header:{title:"Your skills"},content:this.$t("tours.skills.data0"),params:{highlight:!0,placement:"right"}},{target:'[data-tour="1"]',content:this.$t("tours.skills.data1"),params:{highlight:!0}},{target:'[data-tour="2"]',content:this.$t("tours.skills.data2"),params:{highlight:!0}},{target:'[data-tour="3"]',content:this.$t("tours.skills.data3"),params:{highlight:!0}},{target:'[data-tour="4"]',content:this.$t("tours.skills.data4"),params:{highlight:!0}},{target:'[data-tour="5"]',content:this.$t("tours.skills.data5"),params:{highlight:!0}},{target:'[data-tour="6"]',content:this.$t("tours.skills.data6"),params:{highlight:!0}},{target:'[data-tour="7"]',content:this.$t("tours.skills.data7"),params:{placement:"right",highlight:!0}},{target:'[data-tour="8"]',content:this.$t("tours.skills.data8"),params:{placement:"right",highlight:!0}},{target:'[data-tour="9"]',content:this.$t("tours.skills.data9"),params:{placement:"right",highlight:!0}},{target:'[data-tour="10"]',content:this.$t("tours.skills.data10"),params:{placement:"left",highlight:!0}}],tourCallbacks:{onSkip:this.finishTour,onFinish:this.finishTour}}},mounted:function(){this.$cookies.isKey("skillsTourCompleted")?this.fetchSkills():(this.skills.push({name:"ProjectAliceDemo",author:"Alice",delayed:!1,active:!0,description:this.$t("demoDesc"),icon:"fas fa-biohazard",instructions:this.$t("demoInstructions"),required:!1,settings:{dummy:!0},updateAvailable:!0,version:"1.0.0",aliceMinVersion:"1.0.0-b4",category:"system",maintainers:["project","alice"]}),this.$tours["skills"].start()),setInterval(this.reloadStoreSkills,3e5),this.reloadStoreSkills()},methods:{fetchSkills:function(){var t=this;d()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/"),headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(e){"data"in e.data&&(t.skills=e.data.data)}))},finishTour:function(){this.$cookies.set("skillsTourCompleted",1),this.fetchSkills()},toggleShop:function(){this.shopOpen=!this.shopOpen},reloadStoreSkills:function(){var t=this;d()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/getStore/")}).then((function(e){"store"in e.data&&(t.storeSkills=e.data.store)}))},addSkillToDownload:function(t){this.skillsToDownload.push(t)},removeSkillToDownload:function(t){this.skillsToDownload=this.skillsToDownload.filter((function(e){return e!==t}))},doDownload:function(){var t=this;this.skillsToDownload.length<=0||d()({method:"put",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/installSkills/"),data:this.skillsToDownload,headers:{auth:this.$store.state.loggedInUser["token"]}}).then((function(e){if("status"in e.data)for(var s=0,a=Object.entries(e.data.status);s<a.length;s++){var i=Object(k["a"])(a[s],2),n=i[0];i[1];t.$refs[n.toLowerCase()][0].setIsDownloading()}}))}}},w=b,$=Object(g["a"])(w,f,v,!1,null,null,null),_=$.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("iframe",{attrs:{id:"nodered",title:"nodered",src:"http://192.168.1.168:1880"}})},y=[],x={name:"scenarios"},T=x,I=(s("4738"),Object(g["a"])(T,C,y,!1,null,"fe05331a",null)),P=I.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"centered vcentered"},[s("form",{staticClass:"fullpageForm",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("p",[s("label",{attrs:{for:"username"}},[t._v(t._s(t.$t("dialogs.labels.username")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{id:"username",type:"text",placeholder:t.$t("dialogs.labels.username")},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("p",[s("label",{attrs:{for:"pincode"}},[t._v(t._s(t.$t("dialogs.labels.pinCode")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pincode,expression:"pincode"}],attrs:{id:"pincode",type:"password"},domProps:{value:t.pincode},on:{input:function(e){e.target.composing||(t.pincode=e.target.value)}}})]),s("p",[s("label",{attrs:{for:"rememberMe"}},[t._v(t._s(t.$t("dialogs.labels.rememberMe")))]),s("VueToggles",{attrs:{id:"rememberMe","checked-text":t.$t("tooltips.yes"),"unchecked-text":t.$t("tooltips.no"),value:t.rememberMe,uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.rememberMe=!t.rememberMe}}})],1),s("p",[s("button",[t._v(t._s(t.$t("buttons.login")))])])])])},O=[],N=(s("ac1f"),s("5319"),{name:"login",data:function(){return{username:"",pincode:"",rememberMe:!1}},methods:{login:function(){var t=this,e=new FormData;e.append("username",this.username),e.append("pin",this.pincode),d()({method:"post",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/login/"),data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){"apiToken"in e.data&&(t.$store.commit("userLogin",{user:t.username,token:e.data.apiToken}),t.rememberMe&&(t.$cookies.set("username",t.username),t.$cookies.set("apiToken",e.data.apiToken)),t.$router.replace("/"))})).catch((function(t){console.log("Connection failed: "+t)}))}}}),M=N,j=(s("33b6"),Object(g["a"])(M,S,O,!1,null,"9d39f01c",null)),D=j.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("tabs",{attrs:{tabs:t.tabs}})],1)},W=[],E={name:"admin",data:function(){return{tabs:{1:{icon:"fas fa-biohazard",id:1,position:0},2:{icon:"fas fa-biohazard",id:1,position:1}}}},methods:{}},U=E,A=(s("ec46"),Object(g["a"])(U,z,W,!1,null,"1d50c005",null)),q=A.exports,B=s("6205"),V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"syslogContainer"},[s("actions-menu",{attrs:{menuItems:t.menuItems}}),s("div",{staticClass:"terminal",attrs:{id:"terminal"}},t._l(t.logs,(function(e){return s("div",{staticClass:"logLine"},[s("span",{staticClass:"logTime logDim"},[t._v("["+t._s(e.time)+"]")]),s("span",{staticClass:"logComponent logDim"},[t._v("["+t._s(e.component)+"]")]),s("span",{staticClass:"logMsg",class:"log"+e.level,domProps:{innerHTML:t._s(e.msg)}})])})),0),s("div",{staticClass:"terminalInput"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.sendCmd(e)}}},[s("label",{attrs:{for:"input"}},[t._v(t._s(t.$t("labels.sendCommand"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.cmd,expression:"cmd"}],attrs:{id:"input",type:"text"},domProps:{value:t.cmd},on:{input:function(e){e.target.composing||(t.cmd=e.target.value)}}}),s("button",[t._v(t._s(t.$t("buttons.send")))])])])],1)])},L=[],F=function(t){return t=t.replace(/\*\*(.*?)\*\*/gi,'<span class="logBold">$1</span>'),t=t.replace(/--(.*?)--/gi,'<span class="logDim">$1</span>'),t=t.replace(/__(.*?)__/gi,'<span class="logUnderlined">$1</span>'),t=t.replace(/!\[(red|green|yellow|blue|grey)]\((.*?)\)/gi,'<span class="$1">$2</span>'),t=t.replace(/\[=>]/gi,'<span class="logSpacer"> </span>'),t=t.replaceAll("\n","<br/>"),t},G={name:"syslog",data:function(){var t=this;return{cmd:"",unwatch:{},follow:!0,logs:[],menuItems:[{name:this.$t("tooltips.lock"),icon:"far fa-pause-circle",extendedIcon:"far fa-play-circle",extendedName:this.$t("tooltips.follow"),isToggle:!0,onClick:function(){t.follow=!t.follow}}]}},created:function(){var t=this;this.unwatch=this.$store.watch((function(t){return t.mqttMessage}),(function(e){if("projectalice/logging/syslog"===e.topic){var s=JSON.parse(e.payloadString);s.msg=F(s.msg),t.logs.push(s)}}))},updated:function(){if(this.follow){var t=this.$el.querySelector("#terminal");t.scrollTop=t.scrollHeight}},beforeDestroy:function(){this.$store.state.mqtt.unsubscribe("projectalice/devices/resourceUsage"),this.unwatch()},methods:{sendCmd:function(){var t=new FormData;t.append("cmd",this.cmd),d()({method:"post",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/utils/sysCmd/"),data:t,headers:{auth:this.$store.state.loggedInUser["token"],"Content-Type":"multipart/form-data"}})}}},H=G,J=(s("783d"),Object(g["a"])(H,V,L,!1,null,null,null)),R=J.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"syslogContainer"},[s("actions-menu",{attrs:{menuItems:t.menuItems}}),s("div",{staticClass:"logVerbosity"},[s("i",{staticClass:"fa-circle",class:t.verbosity>-1?"fas yellow":"far",attrs:{"aria-hidden":"true"}}),s("i",{staticClass:"fa-circle",class:t.verbosity>0?"fas yellow":"far",attrs:{"aria-hidden":"true"}}),s("i",{staticClass:"fa-circle",class:t.verbosity>1?"fas yellow":"far",attrs:{"aria-hidden":"true"}}),s("i",{staticClass:"fa-circle",class:t.verbosity>2?"fas yellow":"far",attrs:{"aria-hidden":"true"}}),s("i",{staticClass:"fa-circle",class:t.verbosity>3?"fas yellow":"far",attrs:{"aria-hidden":"true"}}),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.decreaseVerbosity"),expression:"$t('tooltips.decreaseVerbosity')"}],staticClass:"fas fa-minus-circle clickable",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setVerbosity(-1)}}}),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.increaseVerbosity"),expression:"$t('tooltips.increaseVerbosity')"}],staticClass:"fas fa-plus-circle clickable",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setVerbosity(1)}}})]),s("div",{staticClass:"terminal",attrs:{id:"terminal"}},t._l(t.logs,(function(e){return s("div",{staticClass:"logLine"},[s("span",{staticClass:"logTime logYellow"},[t._v("["+t._s(e.time)+"]")]),s("span",{staticClass:"logComponent logYellow"},[t._v("["+t._s(e.component)+"]")]),s("span",{staticClass:"logMsg",domProps:{innerHTML:t._s(e.text)}})])})),0)],1)])},K=[],Y={name:"alicewatch",data:function(){var t=this;return{verbosity:1,unwatch:{},follow:!0,logs:[],menuItems:[{name:this.$t("tooltips.lock"),icon:"far fa-pause-circle",extendedIcon:"far fa-play-circle",extendedName:this.$t("tooltips.follow"),isToggle:!0,onClick:function(){t.follow=!t.follow}}]}},created:function(){this.verbosity=this.$cookies.get("verbosity")||1;var t=this;this.unwatch=this.$store.watch((function(t){return t.mqttMessage}),(function(e){if("projectalice/logging/alicewatch"===e.topic){var s=JSON.parse(e.payloadString);if(s.verbosity>t.verbosity)return;s.text=F(s.text),t.logs.push(s)}}))},updated:function(){if(this.follow){var t=this.$el.querySelector("#terminal");t.scrollTop=t.scrollHeight}},beforeDestroy:function(){this.$store.state.mqtt.unsubscribe("projectalice/logging/alicewatch"),this.unwatch()},methods:{setVerbosity:function(t){this.verbosity=Math.max(0,Math.min(this.verbosity+t,4)),this.$cookies.set("verbosity",this.verbosity)}}},Z=Y,X=(s("ee12"),Object(g["a"])(Z,Q,K,!1,null,"1d4ff7ca",null)),tt=X.exports;a["a"].use(i["a"]);var et=[{path:"/connect",name:"Connect",component:B["a"],meta:{title:"connect"}},{path:"/skills",component:_,meta:{title:"skills"}},{path:"/scenarios",component:P,meta:{title:"scenarios"}},{path:"/login",component:D,meta:{title:"login"}},{path:"/syslog",component:R,meta:{title:"syslog"}},{path:"/alicewatch",component:tt,meta:{title:"alicewatch"}},{path:"/admin",component:q,meta:{title:"admin"}},{path:"/home",redirect:"/"},{path:"/widgets",redirect:"/"},{path:"*",name:"Home",component:h,meta:{title:"widgets"}}],st=new i["a"]({routes:et,mode:"abstract"});e["a"]=st},a263:function(t,e,s){},a4a4:function(t,e,s){},a595:function(t,e,s){},a9ec:function(t,e,s){"use strict";s("bf9e")},aa4b:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu",class:{extended:t.isExtended}},t._l(t.menuItems.slice(0,t.isExtended?999:1),(function(e,a){return s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.isExtended&&e.extendedName||e.name,expression:"isExtended ? item.extendedName || item.name : item.name"}],key:e.name,staticClass:"menuButton clickable",class:t.isExtended&&e.extendedIcon||e.icon,attrs:{"aria-hidden":"true"},on:{click:function(s){return t.handleClick(e)}}})})),0)},i=[],n={name:"actionsMenu",data:function(){return{isExtended:!1}},props:["menuItems"],methods:{toggle:function(t){this.isExtended=!this.isExtended,!this.isExtended&&t.hasOwnProperty("onClose")?t["onClose"]():this.isExtended&&t.hasOwnProperty("onOpen")&&t["onOpen"]()},handleClick:function(t){t.hasOwnProperty("isToggle")&&t.isToggle&&this.toggle(t),t.hasOwnProperty("onClick")&&t["onClick"](),t.hasOwnProperty("callback")&&t.callback(t)}}},o=n,r=(s("a9ec"),s("2877")),l=Object(r["a"])(o,a,i,!1,null,"19e60afa",null);e["a"]=l.exports},b102:function(t,e,s){},b2dc:function(t,e,s){},b3ac:function(t,e,s){},b405:function(t,e,s){"use strict";s("984c")},bee4:function(t,e,s){},bf9e:function(t,e,s){},cf79:function(t,e,s){"use strict";var a=s("2b0e"),i=s("2f62");a["a"].use(i["a"]),e["a"]=new i["a"].Store({state:{settings:{},mqtt:null,loggedInUser:!1,fullScreen:!1,i18n:{},uiConnected:!1,mqttMessage:{}},mutations:{setSettings:function(t,e){t.settings=e},setMqtt:function(t,e){t.mqtt=e},mqttMessage:function(t,e){t.mqttMessage=e},userLogin:function(t,e){t.loggedInUser=e},userLogout:function(t){t.loggedInUser={},a["a"].$cookies.remove("username"),a["a"].$cookies.remove("apiToken")},startCinemaMode:function(t){t.fullScreen=!0},stopCinemaMode:function(t){t.fullScreen=!1},toggleCinemaMode:function(t){t.fullScreen=!t.fullScreen},setI18n:function(t,e){t.i18n=e},uiConnected:function(t,e){t.uiConnected=e}}})},dbc9:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"custom-view-wrapper"},[s("h3",[t._v(t._s(t.parent.$t("dialogs.titles.skillSettings")))]),s("div",{staticClass:"configLayout"},[s("div",{staticClass:"labels"},t._l(t.options["skill"]["settingsTemplate"],(function(e,a){return s("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e["description"],expression:"settingTemplate['description']"}],attrs:{for:a}},[t._v(" "+t._s(a)+": ")])})),0),s("div",{staticClass:"inputs"},t._l(t.options["skill"]["settingsTemplate"],(function(e,a){return s("div",{staticClass:"input"},["string"!==e["dataType"]||e["isSensitive"]?t._e():s("input",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,type:"text",placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{input:function(e){e.target.composing||t.$set(t.options["skill"]["settings"],a,e.target.value)}}}),"string"===e["dataType"]&&e["isSensitive"]?s("input",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,type:"password",placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{input:function(e){e.target.composing||t.$set(t.options["skill"]["settings"],a,e.target.value)}}}):t._e(),"integer"!==e["dataType"]||e["isSensitive"]?t._e():s("input",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,type:"number",placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{input:function(e){e.target.composing||t.$set(t.options["skill"]["settings"],a,e.target.value)}}}),"integer"===e["dataType"]&&e["isSensitive"]?s("input",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,type:"password",placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{input:function(e){e.target.composing||t.$set(t.options["skill"]["settings"],a,e.target.value)}}}):t._e(),"boolean"===e["dataType"]?s("VueToggles",{attrs:{id:a,"checked-text":t.parent.$t("tooltips.yes"),"unchecked-text":t.parent.$t("tooltips.no"),value:t.options["skill"]["settings"][a],uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.options["skill"]["settings"][a]=!t.options["skill"]["settings"][a]}}}):t._e(),"range"===e["dataType"]?s("input",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,type:"range",min:e["dataType"]["min"],max:e["dataType"]["max"],step:e["dataType"]["step"],placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{__r:function(e){return t.$set(t.options["skill"]["settings"],a,e.target.value)}}}):t._e(),"longstring"===e["dataType"]?s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{input:function(e){e.target.composing||t.$set(t.options["skill"]["settings"],a,e.target.value)}}}):t._e()],1)})),0)]),s("div",[s("button",{on:{click:t.handleDismiss}},[t._v(t._s(t.parent.$t("buttons.cancel")))]),s("button",{staticClass:"dg-pull-right",on:{click:t.handleConfirm}},[t._v(t._s(t.parent.$t("buttons.confirm")))])])])},i=[],n=s("0fa0"),o=s.n(n),r={mixins:[o.a],data:function(){return{parent:this.options["parent"]}},methods:{handleConfirm:function(){this.proceed(this.options["skill"]["settings"])},handleDismiss:function(){this.cancel()}}},l=r,c=s("2877"),d=Object(c["a"])(l,a,i,!1,null,null,null);e["a"]=d.exports},ec1f:function(t,e,s){},ec46:function(t,e,s){"use strict";s("843d")},ee12:function(t,e,s){"use strict";s("a4a4")},f276:function(t,e,s){"use strict";s("a263")},f84f:function(t,e,s){},fb5a:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mainContainer"},[t.$store.state.uiConnected?s("pa-main"):s("pa-connect")],1)},i=[],n=(s("ac1f"),s("5319"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mainContainer"},[s("pa-header"),s("div",{attrs:{id:"main"}},[s("pa-nav"),s("pa-content")],1)],1)}),o=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{class:{collapsed:this.$store.state.fullScreen}},[s("div",{staticClass:"pageTitle"},[t._v(t._s(t.title))]),s("div",{staticClass:"aliceStatus",attrs:{id:"aliceStatus"}}),this.$store.state.settings["displaySystemUsage"]?s("div",{staticClass:"resourceUsage"},[t._v(" CPU: "+t._s(t.resources.cpu)+"% RAM: "+t._s(t.resources.ram)+"% SWP: "+t._s(t.resources.swp)+"% ")]):t._e(),s("div",{staticClass:"updateChannelMarker"})])},l=[],c=(s("fb6a"),{name:"pa-header",data:function(){return{title:"",unwatch:{},resources:{cpu:0,ram:0,swp:0}}},created:function(){var t=this;this.unwatch=this.$store.watch((function(t){return t.mqttMessage}),(function(e){"projectalice/devices/resourceUsage"===e.topic&&(t.resources=JSON.parse(e.payloadString))}))},beforeDestroy:function(){this.$store.state.mqtt.unsubscribe("projectalice/devices/resourceUsage"),this.unwatch()},watch:{$route:{immediate:!0,handler:function(t,e){this.title=t.meta.title||"Home",document.title="Project Alice - ".concat(this.title.charAt(0).toUpperCase()+this.title.slice(1))}}}}),d=c,u=(s("0929"),s("2877")),p=Object(u["a"])(d,r,l,!1,null,"4fa2fe0c",null),g=p.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{class:{collapsed:this.$store.state.fullScreen}},[s("router-link",{attrs:{tag:"button",to:"/widgets"}},[t._v(t._s(t.$t("nav.widgets")))]),this.$store.state.loggedInUser?s("router-link",{attrs:{tag:"button",to:"/skills"}},[t._v(t._s(t.$t("nav.skills")))]):t._e(),s("router-link",{attrs:{tag:"button",to:"/widgets"}},[t._v(t._s(t.$t("nav.myhome")))]),this.$store.state.loggedInUser&&this.$store.state.settings["scenariosActive"]?s("router-link",{attrs:{tag:"button",to:"/scenarios"}},[t._v(t._s(t.$t("nav.scenarios")))]):t._e(),this.$store.state.loggedInUser?s("router-link",{attrs:{tag:"button",to:"/syslog"}},[t._v(t._s(t.$t("nav.syslog")))]):t._e(),this.$store.state.loggedInUser?s("router-link",{attrs:{tag:"button",to:"/alicewatch"}},[t._v(t._s(t.$t("nav.alicewatch")))]):t._e(),this.$store.state.settings["devMode"]&&this.$store.state.loggedInUser?s("router-link",{attrs:{tag:"button",to:"/widgets"}},[t._v(t._s(t.$t("nav.devmode")))]):t._e(),this.$store.state.loggedInUser?s("router-link",{attrs:{tag:"button",to:"/admin"}},[t._v(t._s(t.$t("nav.admin")))]):t._e(),this.$store.state.loggedInUser?t._e():s("router-link",{staticClass:"lastItem",attrs:{tag:"button",to:"/login"}},[t._v(t._s(t.$t("nav.login")))]),this.$store.state.loggedInUser?s("button",{staticClass:"lastItem",on:{click:t.logout}},[t._v(t._s(t.$t("nav.logout")))]):t._e()],1)},h=[],f={name:"pa-nav",methods:{logout:function(){this.$store.commit("userLogout"),window.location.reload()}}},v=f,k=(s("02ab"),Object(u["a"])(v,m,h,!1,null,"485e409a",null)),b=k.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"mainSection"}},[s("keep-alive",[s("router-view")],1)],1)},$=[],_={name:"pa-content"},C=_,y=(s("5b54"),Object(u["a"])(C,w,$,!1,null,null,null)),x=y.exports,T={name:"Main",components:{paContent:x,paHeader:g,paNav:b}},I=T,P=Object(u["a"])(I,n,o,!1,null,null,null),S=P.exports,O=s("6205"),N={name:"ProjectAlice",components:{paMain:S,paConnect:O["a"]},mounted:function(){this.$store.state.uiConnected||"/connect"!==this.$router.currentRoute.path&&this.$router.replace("/connect").then()}},M=N,j=(s("f276"),s("151f"),s("3877"),s("8e11"),Object(u["a"])(M,a,i,!1,null,null,null));e["a"]=j.exports},fd0f:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"custom-view-wrapper"},[s("h3",[t._v(t._s(t.parent.$t("dialogs.titles.widgetOptions")))]),s("div",{staticClass:"configLayout"},[s("div",{staticClass:"labels"},[s("label",{attrs:{for:"title"}},[t._v(t._s(t.parent.$t("dialogs.labels.displayTitle"))+": ")]),s("label",{attrs:{for:"borders"}},[t._v(t._s(t.parent.$t("dialogs.labels.displayBorders"))+": ")]),s("label",{attrs:{for:"rotation"}},[t._v(t._s(t.parent.$t("dialogs.labels.rotation"))+": ")]),s("label",{attrs:{for:"background"}},[t._v(t._s(t.parent.$t("dialogs.labels.backgroundColor"))+": ")]),s("label",{attrs:{for:"opacity"}},[t._v(t._s(t.parent.$t("dialogs.labels.backgroundOpacity"))+": ")]),s("label",{attrs:{for:"font-size"}},[t._v(t._s(t.parent.$t("dialogs.labels.fontSize"))+": ")]),s("label",{attrs:{for:"font-color"}},[t._v(t._s(t.parent.$t("dialogs.labels.fontColor"))+": ")])]),s("div",{staticClass:"inputs"},[s("div",{staticClass:"input"},[s("VueToggles",{attrs:{id:"title","checked-text":t.parent.$t("tooltips.yes"),"unchecked-text":t.parent.$t("tooltips.no"),value:t.options["widget"]["params"]["title"],uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.options["widget"]["params"]["title"]=!t.options["widget"]["params"]["title"]}}})],1),s("div",{staticClass:"input"},[s("VueToggles",{attrs:{id:"borders","checked-text":t.parent.$t("tooltips.yes"),"unchecked-text":t.parent.$t("tooltips.no"),value:t.options["widget"]["params"]["borders"],uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.options["widget"]["params"]["borders"]=!t.options["widget"]["params"]["borders"]}}})],1),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.options["widget"].params["rotation"],expression:"options['widget'].params['rotation']"},{name:"init",rawName:"v-init",value:t.options["widget"].params["rotation"],expression:"options['widget'].params['rotation']"}],attrs:{id:"rotation",type:"range",min:"-180",max:"180",step:"5"},domProps:{value:t.options["widget"].params["rotation"]},on:{__r:function(e){return t.$set(t.options["widget"].params,"rotation",e.target.value)}}}),t._v(t._s(t.options["widget"].params["rotation"])+"° ")]),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.options["widget"].params["background"],expression:"options['widget'].params['background']"},{name:"init",rawName:"v-init",value:t.options["widget"].params["background"],expression:"options['widget'].params['background']"}],attrs:{id:"background",type:"color"},domProps:{value:t.options["widget"].params["background"]},on:{input:[function(e){e.target.composing||t.$set(t.options["widget"].params,"background",e.target.value)},t.hex2rgba]}})]),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.options["widget"].params["background-opacity"],expression:"options['widget'].params['background-opacity']"},{name:"init",rawName:"v-init",value:t.options["widget"].params["background-opacity"],expression:"options['widget'].params['background-opacity']"}],attrs:{id:"opacity",type:"range",min:"0",max:"1",step:"0.1"},domProps:{value:t.options["widget"].params["background-opacity"]},on:{input:t.hex2rgba,__r:function(e){return t.$set(t.options["widget"].params,"background-opacity",e.target.value)}}}),t._v(t._s(100*parseFloat(t.options["widget"].params["background-opacity"]))+"% ")]),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.options["widget"].params["font-size"],expression:"options['widget'].params['font-size']"},{name:"init",rawName:"v-init",value:t.options["widget"].params["font-size"],expression:"options['widget'].params['font-size']"}],attrs:{id:"font-size",type:"range",min:"0.25",max:"5",step:"0.01"},domProps:{value:t.options["widget"].params["font-size"]},on:{__r:function(e){return t.$set(t.options["widget"].params,"font-size",e.target.value)}}}),t._v(t._s(t.options["widget"].params["font-size"])+"em ")]),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.options["widget"].params["color"],expression:"options['widget'].params['color']"},{name:"init",rawName:"v-init",value:t.options["widget"].params["font-size"],expression:"options['widget'].params['font-size']"}],attrs:{id:"font-color",type:"color"},domProps:{value:t.options["widget"].params["color"]},on:{input:function(e){e.target.composing||t.$set(t.options["widget"].params,"color",e.target.value)}}})])])]),s("div",[s("button",{on:{click:t.handleDismiss}},[t._v(t._s(t.parent.$t("buttons.cancel")))]),s("button",{staticClass:"dg-pull-right",on:{click:t.handleConfirm}},[t._v(t._s(t.parent.$t("buttons.confirm")))])])])},i=[],n=(s("99af"),s("d81d"),s("ac1f"),s("466d"),s("3835")),o=s("0fa0"),r=s.n(o),l={mixins:[r.a],data:function(){return{parent:this.options["parent"]}},methods:{handleConfirm:function(){this.proceed(this.options["widget"])},handleDismiss:function(){this.cancel()},hex2rgba:function(){var t=this.options["widget"].params["background"],e=this.options["widget"].params["background-opacity"],s=t.match(/\w\w/g).map((function(t){return parseInt(t,16)})),a=Object(n["a"])(s,3),i=a[0],o=a[1],r=a[2];this.options["widget"].params["rgba"]="rgba(".concat(i,", ").concat(o,", ").concat(r,", ").concat(e,")")}}},c=l,d=s("2877"),u=Object(d["a"])(c,a,i,!1,null,null,null);e["a"]=u.exports}});
//# sourceMappingURL=app.76ec870f.js.map