(function(t){function e(e){for(var a,o,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,r=1;r<i.length;r++){var l=i[r];0!==s[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},s={app:0},n=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0254":function(t,e,i){},"0299":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.data.displayName,expression:"data.displayName"}],ref:"dev_"+t.data.id,staticClass:"device clickable",style:t.computeCustomStyle(),attrs:{id:"dev_"+t.data.id},on:{click:t.handleClick,mouseenter:t.onMouseEnter,mouseleave:t.onMouseExit}},[i("div",{staticClass:"deviceState"},[-1===parseInt(t.data.uid)?i("span",[i("i",{staticClass:"fas fa-unlink red",attrs:{"aria-hidden":"true"}})]):t.data.connected?i("span",[t.data.deviceParams.micMuted?i("i",{staticClass:"fas fa-microphone-alt-slash red",attrs:{"aria-hidden":"true"}}):t._e(),t.data.deviceParams.soundMuted?i("i",{staticClass:"fas fa-volume-mute red",attrs:{"aria-hidden":"true"}}):t._e()]):i("span",[i("i",{staticClass:"fas fa-heart-broken red",attrs:{"aria-hidden":"true"}})])]),1!==t.data.id&&t.myHome.toolsState.deletingDevices?i("div",{staticClass:"widgetTool deleter",on:{click:t.deleteMe}},[i("i",{staticClass:"far fa-trash-alt clickable",attrs:{"aria-hidden":"true"}})]):t._e(),t.myHome.toolsState.settingDevices?i("div",{staticClass:"widgetTool zindexer"},[i("i",{staticClass:"fas fa-level-up-alt clickable",attrs:{"aria-hidden":"true"}}),i("i",{staticClass:"fas fa-level-down-alt clickable",attrs:{"aria-hidden":"true"}})]):t._e()])},s=[],n=(i("99af"),i("4de4"),i("a630"),i("07ac"),i("3ca3"),i("b85c")),o=i("bc3a"),r=i.n(o),l=i("c9d9"),c={name:"device",data:function(){return{rotationDelta:0,targetParentLocation:0,checkHeartbeat:null,myLinks:{}}},props:["data","device","myHome"],created:function(){var t=this;this.unwatch=this.$store.watch((function(t){return t.mqttMessage}),(function(e){var i;try{i=JSON.parse(e.payloadString)}catch(a){return}i["uid"]===t.data.uid&&(e.topic===l["e"]||e.topic===l["g"]||e.topic===l["f"]?(null!==t.checkHeartbeat&&clearTimeout(t.checkHeartbeat),t.data.connected=!0,t.checkHeartbeat=setTimeout((function(){console.log("disconnected"),t.data.connected=!1}),2500*t.data["heartbeatRate"])):e.topic===l["d"]?(t.data.connected=!1,null!==t.checkHeartbeat&&clearTimeout(t.checkHeartbeat)):e.topic===l["h"]&&(t.myHome.devices[t.data.id]=i["device"]))}))},beforeDestroy:function(){this.$store.state.mqtt.unsubscribe(l["e"]),this.$store.state.mqtt.unsubscribe(l["g"]),this.$store.state.mqtt.unsubscribe(l["h"]),this.unwatch()},methods:{computeCustomStyle:function(){return this.myHome.moveableItem.computeCustomStyle(this.data,"background: url('http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/devices/").concat(this.data.id,"/device.png') no-repeat; background-size: 100% 100%;"))},save:function(){if(-1!==this.data.uid){var t={parentLocation:this.data.parentLocation,settings:this.data.settings};r()({method:"patch",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/devices/").concat(this.data.id,"/"),data:t,headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then()}},handleClick:function(t){var e=this;if(!this.myHome.toolsState.addingDevice&&-1!==this.data.uid)if(t.stopPropagation(),this.myHome.removeDroppable(),this.myHome.devicesEditMode&&this.myHome.toolsState.linkingDevices)this.myHome.newConnectionLine(this.data.id);else if(this.myHome.devicesEditMode&&t.target.classList.contains("device")){this.myHome.setMoveable(t.target,this),this.myHome.moveableItem.setBoundaries(this.$el,0);Array.from(document.querySelectorAll(".device")).filter((function(t){var i=t.id.substring(4);return!(i===e.data.id)}));this.myHome.moveableItem.setGuidelines([])}else this.myHome.devicesEditMode||this.myHome.locationsEditMode||r()({method:"patch",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/devices/").concat(this.data.uid,"/onClick/"),headers:{auth:localStorage.getItem("apiToken")}}).then()},handleDrag:function(t,e,i,a,s){var o,r=document.elementsFromPoint(a,s),l=Object(n["a"])(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(c.classList.contains("location")){var d=parseInt(c.id.substring(4));if(c!==this.$el&&d!==this.data.parentLocation){this.myHome.removeDroppable(),c.classList.add("droppable"),this.targetParentLocation=d;break}}else this.targetParentLocation=0,this.myHome.removeDroppable()}}catch(u){l.e(u)}finally{l.f()}this.myHome.refreshDeviceLinks()},setPosition:function(t){try{if(0!==this.targetParentLocation&&this.data.parentLocation!==this.targetParentLocation){var e=document.querySelector("#loc_".concat(this.targetParentLocation));this.myHome.devices[this.data.id].parentLocation=this.targetParentLocation,this.myHome.devices[this.data.id].settings["x"]=parseInt(t.style.left.substring(-2))-parseInt(e.style.left.substring(-2)),this.myHome.devices[this.data.id].settings["y"]=parseInt(t.style.top.substring(-2))-parseInt(e.style.top.substring(-2)),this.targetParentLocation=0}}catch(i){console.error(i)}},deleteMe:function(t){var e=this;t.stopPropagation(),r()({method:"delete",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/devices/").concat(this.data.id,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(t){"success"in t.data&&t.data.success&&e.myHome.$delete(e.myHome.devices,e.data.id)}))},onMouseEnter:function(){if(this.myHome.locationsEditMode&&this.myHome.toolsState.none)for(var t=0,e=Object.values(this.myLinks);t<e.length;t++){var i=e[t];i.show("draw")}},onMouseExit:function(){if(this.myHome.locationsEditMode&&this.myHome.toolsState.none)for(var t=0,e=Object.values(this.myLinks);t<e.length;t++){var i=e[t];i.hide("draw")}}}},d=c,u=(i("d9d0"),i("2877")),p=Object(u["a"])(d,a,s,!1,null,"3217bd8c",null);e["a"]=p.exports},"0492":function(t,e,i){},"07d1":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"location",class:{painting:t.myHome.toolsState.paintingFloors,clickable:t.myHome.locationsEditMode&&!t.myHome.toolsState.addingLocation&&!t.myHome.toolsState.paintingFloors},style:t.computeCustomStyle(),attrs:{id:"loc_"+t.data.id},on:{click:t.handleClick,mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[t._l(t.locations,(function(e){return e.parentLocation===t.data.id?i("location",{key:"loc_"+e.id,attrs:{data:e,constructions:t.constructions,devices:t.devices,furnitures:t.furnitures,locations:t.locations,myHome:t.myHome}}):t._e()})),t._l(t.furnitures,(function(e){return e.parentLocation===t.data.id?i("furniture",{key:"fur_"+e.id,attrs:{data:e,myHome:t.myHome}}):t._e()})),t._l(t.constructions,(function(e){return e.parentLocation===t.data.id?i("construction",{key:"con_"+e.id,attrs:{data:e,myHome:t.myHome}}):t._e()})),t._l(t.devices,(function(e){return e.parentLocation===t.data.id?i("device",{key:"dev_"+e.uid,attrs:{data:e,myHome:t.myHome}}):t._e()})),t.myHome.locationsEditMode?i("span",{directives:[{name:"fit2box",rawName:"v-fit2box",value:t.data.name,expression:"data.name"}],staticClass:"locationName",class:{clickable:t.myHome.locationsEditMode&&!t.myHome.toolsState.addingLocation&&!t.myHome.toolsState.paintingFloors},on:{click:t.rename}}):t._e(),t.myHome.toolsState.settingLocations?i("div",{staticClass:"widgetTool optioner",on:{click:t.openSettings}},[i("i",{staticClass:"fas fa-cogs clickable",attrs:{"aria-hidden":"true"}})]):t._e(),t.myHome.toolsState.deletingLocations?i("div",{staticClass:"widgetTool deleter",on:{click:t.deleteMe}},[i("i",{staticClass:"far fa-trash-alt clickable",attrs:{"aria-hidden":"true"}})]):t._e(),t.myHome.toolsState.settingLocations?i("div",{staticClass:"widgetTool zindexer"},[i("i",{staticClass:"fas fa-level-up-alt clickable",attrs:{"aria-hidden":"true"},on:{click:t.moveZUp}}),i("i",{staticClass:"fas fa-level-down-alt clickable",attrs:{"aria-hidden":"true"},on:{click:t.moveZDown}})]):t._e()],2)},s=[],n=(i("99af"),i("4de4"),i("a630"),i("b0c0"),i("4fad"),i("07ac"),i("3ca3"),i("9911"),i("b85c")),o=i("bc3a"),r=i.n(o),l={name:"location",data:function(){return{rotationDelta:0,targetParentLocation:0}},props:["data","locations","constructions","furnitures","devices","myHome"],methods:{computeCustomStyle:function(){return this.myHome.moveableItem.computeCustomStyle(this.data,"background: url('http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/locations/floors/").concat(this.data.settings["t"]||"floor-80",".png');background-color: var(--windowBG);"))},save:function(){var t={id:this.data.id,name:this.data.name,parentLocation:this.data.parentLocation,synonyms:this.data.synonyms,settings:this.data.settings};r()({method:"patch",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/locations/").concat(this.data.id,"/"),data:t,headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then()},handleClick:function(t){var e=this;if(t.stopPropagation(),this.myHome.removeDroppable(),this.myHome.toolsState.paintingFloors&&""!==this.myHome.activeFloorTile)this.myHome.locations[this.data.id].settings["t"]=this.myHome.activeFloorTile,this.save();else if(this.myHome.toolsState.addingDevice&&""!==this.myHome.activeDeviceTile){if(!this.checkDevicePerLocationLimit())return;var i={deviceType:this.myHome.activeDeviceTile.deviceTypeName,skillName:this.myHome.activeDeviceTile.skillName,parentLocation:this.data.id,settings:{x:t.layerX-25,y:t.layerY-25}};r()({method:"put",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/devices/"),data:i,headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then((function(t){if("device"in t.data){var i=t.data["device"];e.myHome.$set(e.myHome.devices,i.id,i)}e.myHome.setActiveTool("none")}))}else if(this.myHome.toolsState.placingFurniture){if(""===this.myHome.activeFurnitureTile)return;var a={parentLocation:this.data.id,settings:{x:t.layerX-25,y:t.layerY-25,w:50,h:50,z:0,r:0,t:this.myHome.activeFurnitureTile}};r()({method:"put",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/furniture/"),data:a,headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then((function(t){if("furniture"in t.data){var i=t.data["furniture"];e.myHome.$set(e.myHome.furnitures,i.id,i)}}))}else if(this.myHome.toolsState.placingConstructions){if(""===this.myHome.activeConstructionTile)return;var s={parentLocation:this.data.id,settings:{x:t.layerX-25,y:t.layerY-25,w:50,h:50,r:0,t:this.myHome.activeConstructionTile,b:""}};r()({method:"put",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/constructions/"),data:s,headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then((function(t){if("construction"in t.data){var i=t.data["construction"];e.myHome.$set(e.myHome.constructions,i.id,i)}}))}else if(this.myHome.toolsState.linkingDevices&&null!==this.myHome.newConnectionLink){var n={targetLocation:this.data.id,deviceId:parseInt(this.myHome.newConnectionLink.start.id.substring(4))};r()({method:"put",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/deviceLinks/"),data:n,headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then((function(t){if("link"in t.data){var i=t.data["link"];e.myHome.$set(e.myHome.deviceLinks,i.id,i),e.myHome.drawDeviceLinks(i.id)}else e.myHome.setActiveTool("none")}))}else if(!this.myHome.toolsState.settingLocations&&!this.myHome.toolsState.deletingLocations&&!this.myHome.toolsState.paintingFloors&&this.myHome.locationsEditMode){if(t.target.classList.contains("dragging"))return;this.myHome.setMoveable(t.target,this),this.myHome.moveableItem.setBoundaries(this.$el,10);var o=Array.from(document.querySelectorAll(".location")).filter((function(t,i,a){var s=parseInt(t.id.substring(4));return!(s===e.data.id||e.myHome.locations[s].parentLocation===e.data.id)}));this.myHome.moveableItem.setGuidelines(o)}},rename:function(t){if(this.myHome.locationsEditMode&&!this.myHome.toolsState.addingLocation&&!this.myHome.toolsState.paintingFloors){t.stopPropagation();var e=this;this.$dialog.prompt({title:this.$t("dialogs.titles.enterNewLocationName"),body:""},{promptHelp:"",okText:this.$t("buttons.ok"),cancelText:this.$t("buttons.cancel")}).then((function(t){e.data.name=t.data,e.$set(e.myHome.locations,e.data.id,e.data),e.$forceUpdate(),e.save()}))}},deleteMe:function(t){var e=this;t.stopPropagation(),r()({method:"delete",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/locations/").concat(this.data.id,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(t){"success"in t.data&&t.data.success&&e.myHome.$delete(e.locations,e.data.id)}))},handleDrag:function(t,e,i,a,s){var o,r=document.elementsFromPoint(a,s),l=Object(n["a"])(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(c.classList.contains("location")){var d=parseInt(c.id.substring(4));if(c!==this.$el&&d!==this.data.parentLocation){this.myHome.removeDroppable(),c.classList.add("droppable"),this.targetParentLocation=d;break}}else this.targetParentLocation=0,this.myHome.removeDroppable()}}catch(u){l.e(u)}finally{l.f()}this.myHome.refreshDeviceLinks()},setPosition:function(t){try{if(0!==this.targetParentLocation&&this.data.parentLocation!==this.targetParentLocation){for(var e=0,i=Object.entries(this.myHome.locations);e<i.length;e++){var a=i[e];if(a.parentLocation===this.data.id)return}var s=document.querySelector("#loc_".concat(this.targetParentLocation));this.myHome.locations[this.data.id].parentLocation=this.targetParentLocation,this.myHome.locations[this.data.id].settings["x"]=parseInt(t.style.left.substring(-2))-parseInt(s.style.left.substring(-2)),this.myHome.locations[this.data.id].settings["y"]=parseInt(t.style.top.substring(-2))-parseInt(s.style.top.substring(-2)),this.targetParentLocation=0}}catch(n){console.error(n)}},moveZUp:function(){this.myHome.moveZUp(this)},moveZDown:function(){this.myHome.moveZDown(this)},openSettings:function(){var t=this;this.settings=!1;var e={},i={view:"locationSettingsPromptDialog",data:this.data,parent:this};this.$dialog.prompt(e,i).then((function(){t.save()})).catch()},checkDevicePerLocationLimit:function(){var t=this.myHome.activeDeviceTile,e=t.perLocationLimit;if(0!==e){for(var i=0,a=0,s=Object.values(this.devices);a<s.length;a++){var n=s[a];n.skillName===t.skillName&&n.deviceType===t.deviceTypeName&&n.parentLocation===this.data.id&&i++}return console.log(i,e),i<e}this.$el.classList.add("droppable")},onMouseEnter:function(){this.myHome.toolsState.addingDevice&&(this.checkDevicePerLocationLimit()?this.$el.classList.add("droppable"):this.$el.classList.add("notDroppable"))},onMouseLeave:function(){this.$el.classList.remove("droppable"),this.$el.classList.remove("notDroppable")}}},c=l,d=(i("f460"),i("2560"),i("2877")),u=Object(d["a"])(c,a,s,!1,null,"1830b8d4",null);e["a"]=u.exports},"151f":function(t,e,i){"use strict";i("2210")},1927:function(t,e,i){},"1ad6":function(t,e,i){},"1e2d":function(t,e,i){},2210:function(t,e,i){},2560:function(t,e,i){"use strict";i("b192")},"27ae":function(t,e,i){"use strict";i("29e2")},"282c":function(t,e,i){"use strict";i("1e2d")},"29e2":function(t,e,i){},"2cbf":function(t,e,i){"use strict";i("4a7a")},"2e61":function(t,e,i){},"2f33":function(t,e,i){},3209:function(t,e,i){"use strict";i("ef3a")},3386:function(t,e,i){},3877:function(t,e,i){"use strict";i("4bb0")},"3d4d":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"skill",style:"ProjectAliceDemo"===t.skill.name?"margin-left: 200px;":"",attrs:{"data-tour":"0"}},[i("div",{staticClass:"skillTitle"},[i("div",{staticClass:"skillName"},[t._v(t._s(t.skill.name))]),i("div",{staticClass:"skillIcon"},[i("i",{class:t.skill.icon,attrs:{"aria-hidden":"true"}})])]),i("overlay",{attrs:{opened:t.viewInfos,visible:t.viewInfos,animate:"zoom-in",header:"Infos - "+t.skill.name},on:{closed:function(e){t.viewInfos=!1}}},[i("ul",{staticClass:"fa-ul"},[i("li",[i("span",{staticClass:"fa-li"},[i("i",{staticClass:"fas fa-code-branch",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.version))]),i("li",[i("span",{staticClass:"fa-li"},[i("i",{staticClass:"fas fa-compress-arrows-alt",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.aliceMinVersion))]),i("li",[i("span",{staticClass:"fa-li"},[i("i",{staticClass:"fas fa-user",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.author))]),i("li",[i("span",{staticClass:"fa-li"},[i("i",{staticClass:"fas fa-users",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.maintainers.join(", ")))]),i("li",[i("span",{staticClass:"fa-li"},[i("i",{staticClass:"fas fa-folder-open",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.category))]),i("li",[i("span",{staticClass:"fa-li"},[i("i",{staticClass:"fas fa-quote-right",attrs:{"aria-hidden":"true"}})]),t._v(t._s(t.skill.description))])])]),i("overlay",{attrs:{opened:t.viewIntents,visible:t.viewIntents,animate:"zoom-in",header:"Intents - "+t.skill.name},on:{closed:function(e){t.viewIntents=!1}}},t._l(t.skill["intents"],(function(e,a){return a.startsWith("hermes/intent/")&&e.length>0?i("p",[i("strong",[t._v(t._s(a.split("hermes/intent/")[1])+": «")]),t._v(" "),i("i",[t._v(t._s(e[Math.floor(Math.random()*e.length)]))]),t._v(" "),i("strong",[t._v("»")])]):t._e()})),0),i("overlay",{attrs:{opened:t.viewInstructions,visible:t.viewInstructions,animate:"zoom-in",header:"Instructions - "+t.skill.name},on:{closed:function(e){t.viewInstructions=!1}}},[i("vue-simple-markdown",{attrs:{source:t.skill.instructions}})],1),t.viewSkill?i("div",{staticClass:"skillBody"},[i("div",{staticClass:"clickable",attrs:{"data-tour":"7"},on:{click:function(e){-1===t.$tours["skills"].currentStep&&(t.viewIntents=!0)}}},[t._v(t._s(t.$t("skill.intents")))]),i("div",{staticClass:"clickable",attrs:{"data-tour":"8"},on:{click:function(e){-1===t.$tours["skills"].currentStep&&(t.viewInfos=!0)}}},[t._v(t._s(t.$t("skill.info")))]),t.skill.instructions.length>0?i("div",{staticClass:"clickable",attrs:{"data-tour":"9"},on:{click:function(e){-1===t.$tours["skills"].currentStep&&(t.viewInstructions=!0)}}},[t._v(t._s(t.$t("skill.instructions")))]):t._e(),i("div",{staticClass:"skillActions"},[Object.keys(t.skill.settings).length?i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.settings"),expression:"$t('tooltips.settings')"}],staticClass:"fas fa-cog clickable",attrs:{"aria-hidden":"true","data-tour":"1"},on:{click:t.showSettings}}):t._e(),t.skill.required?t._e():i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.skill.active?t.$t("tooltips.stop"):t.$t("tooltips.start"),expression:"skill.active ? $t('tooltips.stop') : $t('tooltips.start')"}],staticClass:"fas fa-power-off clickable",attrs:{"aria-hidden":"true","data-tour":"2"},on:{click:t.toggle}}),t.skill.active?i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.reload"),expression:"$t('tooltips.reload')"}],staticClass:"fas fa-sync clickable",attrs:{"aria-hidden":"true","data-tour":"3"},on:{click:t.reloadSkill}}):t._e(),t.skill.updateAvailable?i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.update"),expression:"$t('tooltips.update')"}],staticClass:"fas fa-arrow-alt-circle-up clickable",attrs:{"aria-hidden":"true","data-tour":"4"},on:{click:t.update}}):t._e(),t.skill.required?t._e():i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.remove"),expression:"$t('tooltips.remove')"}],staticClass:"far fa-times-circle clickable",attrs:{"aria-hidden":"true","data-tour":"5"},on:{click:t.remove}})]),i("div",{staticClass:"skillStatusAround"}),i("div",{staticClass:"skillStatus",class:t.skill.active?"active":"disabled",attrs:{"data-tour":"6"}})]):t._e()],1)},s=[],n=(i("99af"),i("b0c0"),i("bc3a")),o=i.n(n),r={name:"skill",data:function(){return{viewIntents:!1,viewInfos:!1,viewInstructions:!1,viewSkill:!0}},props:["skill","index"],methods:{reloadSkill:function(){var t=this;-1===this.$tours["skills"].currentStep&&o()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(this.skill.name,"/reload/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){"skill"in e.data&&t.$parent.updateSkillData(e.data.skill)}))},toggle:function(){var t=this;-1===this.$tours["skills"].currentStep&&o()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(this.skill.name,"/toggleActiveState/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(){return t.skill.active=!t.skill.active}))},update:function(){-1===this.$tours["skills"].currentStep&&o()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(this.skill.name,"/checkUpdate/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(){}))},remove:function(){if(-1===this.$tours["skills"].currentStep){var t=this;this.$dialog.confirm(this.$t("dialogs.titles.confirmSkillDeletion"),{okText:this.$t("dialogs.labels.yes"),cancelText:this.$t("dialogs.labels.cancel")}).then((function(){o()({method:"delete",url:"http://".concat(t.$store.state.settings["aliceIp"],":").concat(t.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(t.skill.name,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(){t.$el.parentNode.removeChild(t.$el),t.$destroy()}))})).catch()}},showSettings:function(){var t=this;if(-1===this.$tours["skills"].currentStep){var e=JSON.parse(JSON.stringify(this.skill["settings"])),i={view:"skillSettingsPromptDialog",skill:this.skill,parent:this};this.$dialog.prompt({},i).then((function(i){o()({method:"PATCH",url:"http://".concat(t.$store.state.settings["aliceIp"],":").concat(t.$store.state.settings["apiPort"],"/api/v1.0.1/skills/").concat(t.skill.name,"/"),headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"},data:JSON.stringify(i.data)}).then((function(){e={},t.$parent.updateSkillData(t.skill)}))})).catch((function(){return t.skill["settings"]=e}))}}}},l=r,c=(i("9ec4"),i("b0e0"),i("2877")),d=Object(c["a"])(l,a,s,!1,null,"722635e0",null);e["a"]=d.exports},4678:function(t,e,i){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=n(t);return i(e)}function n(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=n,t.exports=s,s.id="4678"},4738:function(t,e,i){"use strict";i("a595")},"494c":function(t,e,i){},"4a7a":function(t,e,i){},"4b2d":function(t,e,i){"use strict";i("0254")},"4bb0":function(t,e,i){},"4eca":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"custom-view-wrapper"},[i("h3",[t._v(t._s(t.parent.$t("dialogs.titles.addDevice")))]),i("p",[i("label",{attrs:{for:"deviceList"}},[t._v(t._s(t.parent.$t("dialogs.bodies.chooseDevice")))]),i("br")]),i("p",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{id:"deviceList",name:"device"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?i:i[0]}}},t._l(t.parent.deviceTypes,(function(e,a){return i("optgroup",{key:a,attrs:{label:a.toUpperCase()}},t._l(e,(function(e){return t.canAddDevice(e)?i("option",{key:e.deviceTypeName,domProps:{value:e}},[t._v(t._s(e.deviceTypeName))]):t._e()})),0)})),0)]),i("div",[i("button",{on:{click:t.handleDismiss}},[t._v(t._s(t.parent.$t("buttons.cancel")))]),i("button",{staticClass:"dg-pull-right",on:{click:t.handleConfirm}},[t._v(t._s(t.parent.$t("buttons.confirm")))])])])},s=[],n=(i("07ac"),i("0fa0")),o=i.n(n),r={mixins:[o.a],data:function(){return{selected:null,parent:this.options["parent"],error:!1}},methods:{canAddDevice:function(t){if(t.totalDeviceLimit>0){for(var e=0,i=0,a=Object.values(this.parent.devices);i<a.length;i++){var s=a[i];t.skillName===s.skillName&&t.deviceTypeName===s.typeName&&e++}return e<t.totalDeviceLimit}return!0},handleConfirm:function(){this.selected||this.cancel(),this.proceed(this.selected)},handleDismiss:function(){this.cancel()}}},l=r,c=i("2877"),d=Object(c["a"])(l,a,s,!1,null,null,null);e["a"]=d.exports},"500b":function(t,e,i){"use strict";i("67ab")},"50a1":function(t,e,i){"use strict";i("6b6f")},5403:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e),function(t){i("7db0"),i("e260"),i("e6cf"),i("cca6"),i("a79d");var e=i("2b0e"),a=i("fb5a"),s=i("a18c"),n=i("bc3a"),o=i.n(n),r=i("2106"),l=i.n(r),c=i("cf79"),d=i("4dcf"),u=i("1881"),p=i.n(u),m=i("2536"),h=i.n(m),f=i("7873"),v=i.n(f),g=i("03a5"),_=i.n(g),b=i("e37d"),k=i("fb19"),y=i.n(k),w=i("7602"),$=i.n(w),C=i("a925"),S=i("33cf"),T=i("67b0"),I=i("3d4d"),x=i("6359"),P=i("aa4b"),D=i("5eff"),L=i("dec7"),j=i("07d1"),E=i("cbec"),M=i("e982"),O=i("0299"),H=(i("c5c5"),i("2440"),i("278f"),i("0ae1"),i("bee4"),i("ec1f"),i("7ad4"),i("88bc"),i("b2dc"),i("1927"),i("c18f"),i("76b5")),N=i("fd0f"),A=i("dbc9"),z=i("6d85"),q=i("4eca"),R=i("8b5b");e["a"].config.productionTip=!1,e["a"].use(l.a,o.a),e["a"].use(p.a),e["a"].use(v.a),e["a"].use(_.a),e["a"].use(h.a),e["a"].use(b["a"]),e["a"].use($.a),e["a"].use(C["a"]),e["a"].use(T["a"]),e["a"].component("VueToggles",d["a"]),e["a"].component("vue-draggable-resizable",y.a),e["a"].component("skill",I["a"]),e["a"].component("storeSkill",x["a"]),e["a"].component("actionsMenu",P["a"]),e["a"].component("tabs",D["a"]),e["a"].component("reactive-icon",L["a"]),e["a"].component("location",j["a"]),e["a"].component("dialogView",R["a"]),e["a"].component("furniture",E["a"]),e["a"].component("construction",M["a"]),e["a"].component("device",O["a"]),e["a"].directive("fit2box",S["a"]),e["a"].dialog.registerComponent("fontawesomePromptDialog",H["a"]),e["a"].dialog.registerComponent("widgetOptionsPromptDialog",N["a"]),e["a"].dialog.registerComponent("skillSettingsPromptDialog",A["a"]),e["a"].dialog.registerComponent("locationSettingsPromptDialog",z["a"]),e["a"].dialog.registerComponent("addDevicePromptDialog",q["a"]),t.jQuery=i("1157");t.jQuery;window.$=t.jQuery,e["a"].directive("init",{bind:function(t,e,i){var a=i.data.directives.find((function(t){return"v-model"===t.rawName}));a&&(i.context[a.expression]=e.value)}});var B=new C["a"]({local:"en",fallbackLocale:"en",messages:{}});document.addEventListener("contextmenu",(function(t){return t.preventDefault()})),new e["a"]({store:c["a"],router:s["a"],i18n:B,render:function(t){return t(a["a"])}}).$mount("#app")}.call(this,i("c8ba"))},"5b54":function(t,e,i){"use strict";i("494c")},"5b94":function(t,e,i){"use strict";i("9a40")},"5eff":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tabs"},[t._l(t.tabs,(function(e){return i("div",{key:e.id,staticClass:"tab clickable",class:{active:t.activeTab===e.position},on:{click:function(i){return t.handleClick(e.position,e.id)},contextmenu:function(i){return i.preventDefault(),t.remove(e.id)},dblclick:function(i){return t.rename(e.id)}}},[i("i",{class:e.icon,attrs:{"aria-hidden":"true"}})])})),t.addTab&&t.$store.state.loggedInUser?i("div",{staticClass:"tab clickable",on:{click:t.add}},[i("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})]):t._e()],2)},s=[],n={name:"tabs",data:function(){return{activeTab:0,activeId:1}},props:["tabs","onChange","addTab","removeTab","renameTab"],methods:{handleClick:function(t,e){this.activeTab=t,this.$parent.activeTab=t,this.onChange&&this.onChange(e),this.tabs[e].hasOwnProperty("onChangeTo")&&this.tabs[e].onChangeTo(),this.tabs[this.activeId].hasOwnProperty("onLeaveFrom")&&this.tabs[this.activeId].onLeaveFrom(),this.activeId=e},rename:function(t){this.renameTab&&this.renameTab(t)},add:function(){this.addTab&&this.addTab()},remove:function(t){this.removeTab&&this.removeTab(t)}}},o=n,r=(i("7faa"),i("2877")),l=Object(r["a"])(o,a,s,!1,null,"12835da3",null);e["a"]=l.exports},6205:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.connecting?i("div",{staticClass:"mainContainer centered vcentered"},[i("i",{staticClass:"fas fa-spinner fa-spin fa-5x"})]):i("div",{staticClass:"mainContainer centered vcentered"},[i("form",{staticClass:"fullpageForm",on:{submit:function(e){return e.preventDefault(),t.doConnect(e)}}},[i("p",{staticClass:"size-15x"},[t._v(" Unfortunately Project Alice couldn't be contacted. Please fill her ip and api port below ")]),i("p",[i("label",{attrs:{for:"ip"}},[t._v("Alice ip address")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.ip,expression:"ip"}],attrs:{id:"ip",type:"text"},domProps:{value:t.ip},on:{input:function(e){e.target.composing||(t.ip=e.target.value)}}})]),i("p",[i("label",{attrs:{for:"port"}},[t._v("Alice API port")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.port,expression:"port"}],attrs:{id:"port",type:"text"},domProps:{value:t.port},on:{input:function(e){e.target.composing||(t.port=e.target.value)}}})]),i("p",[i("VueToggles",{attrs:{id:"remember",width:"100","checked-text":"Remember","unchecked-text":"",value:t.remember,uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.remember=!t.remember}}})],1),t._m(0)])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("button",[t._v("Connect")])])}],n=(i("99af"),i("a9e3"),i("4fad"),i("d3b7"),i("ac1f"),i("5319"),i("3835")),o=i("bc3a"),r=i.n(o),l=i("4259"),c=i.n(l),d=i("c9d9"),u={name:"connect",data:function(){return{connecting:!1,port:5001,ip:"",remember:!1}},created:function(){this.ip=localStorage.getItem("host")||"127.0.0.1",this.port=localStorage.getItem("apiPort")||5001,this.doConnect()},methods:{doConnect:function(){var t=this;this.connecting=!0;var e=this;this.connect().then((function(){t.connectMQTT().then((function(){t.loadI18n().then((function(){t.validateToken().then((function(){e.$store.commit("uiConnected",!0),e.$router.replace("/").then()}))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)})).finally((function(){return e.connecting=!1}))},connect:function(){var t=this;return new Promise((function(e,i){r()({method:"get",url:"http://".concat(t.ip,":").concat(t.port,"/api/v1.0.1/utils/config/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(i){t.$store.commit("setSettings",i.data.config),t.$store.commit("setSettingTemplates",i.data.templates),t.$store.commit("setSettingCategories",i.data.categories),t.remember&&(localStorage.setItem("host",t.ip),localStorage.setItem("apiPort",t.port)),e()})).catch((function(e){t.ip="",i(new Error("Error connecting to Alice "+e))}))}))},connectMQTT:function(){var t=this;return new Promise((function(e,i){r.a.get("http://".concat(t.ip,":").concat(t.port,"/api/v1.0.1/utils/mqttConfig/")).then((function(i){var a=Math.floor(1e7*Math.random()+1),s=new c.a.Client(i.data.host,Number(i.data.port),"ProjectAliceInterface"+a);s.onMessageArrived=t.onMessage,s.onConnectionLost=t.onConnectionLost,s.onConnectionFailed=t.onConnectionFailed,s.connect({onSuccess:t.onConnected,onFailure:t.onConnectionFailed,timeout:5}),t.$store.commit("setMqtt",s),e()})).catch((function(t){i(new Error("Error getting MQTT info: "+t))}))}))},validateToken:function(){var t=this;return new Promise((function(e,i){localStorage.getItem("apiToken")&&localStorage.getItem("username")?r()({method:"post",url:"http://".concat(t.ip,":").concat(t.port,"/api/v1.0.1/login/checkToken/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){"success"in e.data?t.$store.commit("userLogin",{user:localStorage.getItem("username"),token:localStorage.getItem("apiToken"),authLevel:e.data.authLevel}):(localStorage.removeItem("username"),localStorage.removeItem("apiToken"))})).finally((function(){return e()})):e()}))},loadI18n:function(){var t=this;return new Promise((function(e,i){r.a.get("http://".concat(t.ip,":").concat(t.port,"/api/v1.0.1/utils/i18n/")).then((function(i){for(var a=0,s=Object.entries(i.data["data"]);a<s.length;a++){var o=Object(n["a"])(s[a],2),r=o[0],l=o[1];t.$i18n.setLocaleMessage(r,l)}t.$i18n.locale=t.$store.state.settings["activeLanguage"],e()})).catch((function(t){i(Error("Failed loading i18n: "+t))}))}))},onMessage:function(t){this.$store.commit("mqttMessage",t)},onConnected:function(){console.log("Mqtt connected"),this.$store.state.mqtt.subscribe(d["k"]),this.$store.state.mqtt.subscribe(d["e"]),this.$store.state.mqtt.subscribe(d["g"]),this.$store.state.mqtt.subscribe(d["h"]),this.$store.state.mqtt.subscribe(d["d"]),this.$store.state.mqtt.subscribe(d["f"]),this.$store.state.mqtt.subscribe(d["a"]),this.$store.state.mqtt.subscribe(d["n"]),this.$store.state.mqtt.subscribe(d["m"]),this.$store.state.mqtt.subscribe(d["j"]),this.$store.state.mqtt.subscribe(d["l"]),this.$store.state.mqtt.subscribe(d["i"]),this.$store.state.mqtt.subscribe(d["b"]),this.$store.state.mqtt.subscribe(d["c"])},onConnectionFailed:function(t){console.log("Mqtt connection failed")},onConnectionLost:function(){console.log("Mqtt connection lost")}}},p=u,m=i("2877"),h=Object(m["a"])(p,a,s,!1,null,null,null);e["a"]=h.exports},6359:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"skill"},[i("div",{staticClass:"skillTitle"},[i("div",{directives:[{name:"fit2box",rawName:"v-fit2box",value:t.skill.name,expression:"skill.name"}],staticClass:"skillName"}),i("div",{staticClass:"skillIcon"},[i("i",{class:t.skill.icon,attrs:{"aria-hidden":"true"}})])]),i("div",{staticClass:"skillAuthor"},[i("i",{staticClass:"fas fa-user",attrs:{"aria-hidden":"true"}}),t._v(" "),i("span",{staticClass:"clickable"},[t._v(t._s(t.skill.author))])]),i("div",{staticClass:"skillDescription"},[t._v(" "+t._s(t.skill.desc)+" ")]),i("div",{staticClass:"download",on:{click:t.handleDownloadClick}},[i("i",{staticClass:"fas clickable",class:{"fa-download":!t.isWanted&&!t.isDownloading,"fa-check":t.isWanted&&!t.isDownloading,"fa-spinner fa-spin":!t.isWanted&&t.isDownloading},attrs:{"aria-hidden":"true"}})])])},s=[],n=(i("b0c0"),{name:"storeSkill",data:function(){return{isWanted:!1,isDownloading:!1}},props:["skill","addMethod","removeMethod"],methods:{handleDownloadClick:function(){this.isWanted||this.isDownloading?this.isWanted&&!this.isDownloading&&(this.isWanted=!1,this.removeMethod(this.skill.name)):(this.isWanted=!0,this.addMethod(this.skill.name))},setIsDownloading:function(){this.isWanted=!1,this.isDownloading=!0}}}),o=n,r=(i("ec1b"),i("2877")),l=Object(r["a"])(o,a,s,!1,null,"13220fac",null);e["a"]=l.exports},"67ab":function(t,e,i){},"67f4":function(t,e,i){},"6b6f":function(t,e,i){},"6d85":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"custom-view-wrapper"},[i("h3",[t._v(t._s(t.parent.$t("dialogs.titles.locationSetting")))]),i("div",{staticClass:"synonyms"},t._l(t.data.synonyms,(function(e){return i("div",{key:"syn_"+e,staticClass:"synonym"},[i("i",{staticClass:"fas fa-minus-circle fa-pull-left clickable",attrs:{"aria-hidden":"true"},on:{click:function(i){return t.removeSynonym(e)}}}),t._v(t._s(e)+" ")])})),0),i("p",[i("label",{attrs:{for:"newSynonym"}},[t._v(t._s(t.parent.$t("dialogs.labels.addLocationSynonym")))]),t._v(": "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.newSynonym,expression:"newSynonym"}],class:{error:t.error},attrs:{id:"newSynonym",placeholder:t.parent.$t("dialogs.placeholders.typeAndPressEnter"),name:"newSynonym",type:"text"},domProps:{value:t.newSynonym},on:{keyup:[t.checkSynonym,function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addSynonym(e)}],input:function(e){e.target.composing||(t.newSynonym=e.target.value)}}})]),i("div",[i("button",{on:{click:t.handleDismiss}},[t._v(t._s(t.parent.$t("buttons.cancel")))]),i("button",{staticClass:"dg-pull-right",on:{click:t.handleConfirm}},[t._v(t._s(t.parent.$t("buttons.confirm")))])])])},s=[],n=(i("4de4"),i("0fa0")),o=i.n(n),r={mixins:[o.a],data:function(){return{parent:this.options["parent"],data:this.options["data"],newSynonym:"",error:!1}},methods:{checkSynonym:function(){this.error=!this.parent.myHome.checkIfSynonymIsFree(this.newSynonym)},addSynonym:function(){this.newSynonym.length<=0||!this.parent.myHome.checkIfSynonymIsFree(this.newSynonym)||(this.parent.data.synonyms.push(this.newSynonym),this.newSynonym="")},removeSynonym:function(t){this.parent.data.synonyms=this.parent.data.synonyms.filter((function(e){return e!==t}))},handleConfirm:function(){this.proceed()},handleDismiss:function(){this.cancel()}}},l=r,c=(i("c52a"),i("2877")),d=Object(c["a"])(l,a,s,!1,null,"7a48b905",null);e["a"]=d.exports},"76b5":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"custom-view-wrapper"},[i("div",{staticClass:"dg-content-body dg-content-body--has-title"},[i("h6",{staticClass:"dg-title"},[t._v("New icon")]),i("div",{staticClass:"dg-content"},[t._v("Please enter the new font awesome icon, including the prefix")]),i("form",{staticClass:"dg-form",attrs:{autocomplete:"off","data-children-count":"1"}},[i("label",{attrs:{for:"dg-input-elem"}},[t._v("Example: fas fa-biohazard")]),i("br"),i("br"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.icon,expression:"icon"}],attrs:{type:"text",autocomplete:"off",id:"dg-input-elem"},domProps:{value:t.icon},on:{input:[function(e){e.target.composing||(t.icon=e.target.value)},t.update]}})])]),i("div",{staticClass:"dg-content-footer"},[i("button",{staticStyle:{"background-color":"var(--windowBG)"},on:{click:t.handleDismiss}},[t._v("Cancel")]),i("button",{staticClass:"dg-pull-right",staticStyle:{"background-color":"var(--windowBG)"},on:{click:t.handleConfirm}},[i("i",{staticClass:"fa-2x",class:t.icon,attrs:{"aria-hidden":"true"}})])])])},s=[],n=i("0fa0"),o=i.n(n),r={mixins:[o.a],data:function(){return{icon:"fas fa-biohazard"}},methods:{handleConfirm:function(){this.proceed(this.icon)},handleDismiss:function(){this.cancel()},update:function(){this.$forceUpdate()}}},l=r,c=i("2877"),d=Object(c["a"])(l,a,s,!1,null,null,null);e["a"]=d.exports},"783d":function(t,e,i){"use strict";i("2e61")},"7ad4":function(t,e,i){},"7faa":function(t,e,i){"use strict";i("1ad6")},8308:function(t,e,i){"use strict";i("b3c1")},8859:function(t,e,i){"use strict";i("b4ea")},"88bc":function(t,e,i){},"8b5b":function(t,e,i){"use strict";i("99af"),i("caad"),i("2532");var a=i("bc3a"),s=i.n(a),n=i("c9d9"),o=i("e7b1");e["a"]={name:"dialogView",components:{SpeechBubble:o["a"]},data:function(){return{cmd:"",unwatch:{},msgs:[],say:"",currentSpeech:void 0,currentSession:void 0,menuItems:[{name:this.$t("tooltips.close"),icon:"far fa-pause-circle",extendedIcon:"far fa-play-circle",extendedName:this.$t("tooltips.close"),isToggle:!0,onClick:function(){}}]}},created:function(){var t=this;this.unwatch=this.$store.watch((function(t){return t.mqttMessage}),(function(e){n["m"]===e.topic&&(t.currentSession=void 0),[n["j"],n["l"],n["m"]].includes(e.topic)&&t.msgs.push(e),[n["c"],n["b"]].includes(e.topic)&&(t.currentSpeech=e),n["j"]===e.topic&&(t.currentSpeech=void 0)}))},updated:function(){var t=this.$el.querySelector("#messageContainer");t.scrollTop=t.scrollHeight},beforeDestroy:function(){this.$store.state.mqtt.unsubscribe(n["j"]),this.$store.state.mqtt.unsubscribe(n["l"]),this.$store.state.mqtt.unsubscribe(n["m"]),this.unwatch()},methods:{sendQuery:function(){var t=this;if(""!==this.say){var e=new FormData;e.append("query",this.say),e.append("siteId","Test"),void 0===this.currentSession?s()({method:"post",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/dialog/process/"),data:e,headers:{auth:localStorage.getItem("apiToken"),"Content-Type":"multipart/form-data"}}).then((function(e){"sessionId"in e.data&&(t.currentSession=e.data.sessionId)})):(e.append("sessionId",this.currentSession),s()({method:"post",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/dialog/continue/"),data:e,headers:{auth:localStorage.getItem("apiToken"),"Content-Type":"multipart/form-data"}})),this.say=""}}}}},"8e11":function(t,e,i){"use strict";i("3386")},9838:function(t,e,i){"use strict";i("9b2e")},"9a40":function(t,e,i){},"9b2e":function(t,e,i){},"9ec4":function(t,e,i){"use strict";i("a364")},a18c:function(t,e,i){"use strict";var a,s,n=i("2b0e"),o=i("8c4f"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container flexrow yscroll"},[i("actions-menu",{attrs:{menuItems:t.menuItems,"data-tour":"10"}}),i("v-tour",{attrs:{name:"skills",steps:t.steps,callbacks:t.tourCallbacks}}),t._l(t.skills,(function(e){return t.shopOpen?t._e():i("skill",{key:e.name,attrs:{skill:e}})})),t._l(t.storeSkills,(function(e){return t.shopOpen?i("store-skill",{key:e.name,ref:e.name.toLowerCase(),refInFor:!0,attrs:{skill:e,addMethod:t.addSkillToDownload,removeMethod:t.removeSkillToDownload}}):t._e()}))],2)},l=[],c=(i("99af"),i("4de4"),i("b0c0"),i("4fad"),i("d3b7"),i("ddb0"),i("3835")),d=i("b85c"),u=i("bc3a"),p=i.n(u),m={name:"skills",data:function(){return{shopOpen:!1,skills:[],storeSkills:{},skillsToDownload:[],menuItems:[{name:this.$t("tooltips.shop"),icon:"fas fa-download",extendedIcon:"fas fa-times-circle",extendedName:this.$t("tooltips.close"),isToggle:!0,callback:this.toggleShop},{name:this.$t("tooltips.download"),icon:"fas fa-check-circle",isToggle:!0,callback:this.doDownload}],steps:[{target:'[data-tour="0"]',header:{title:"Your skills"},content:this.$t("tours.skills.data0"),params:{highlight:!0,placement:"right"}},{target:'[data-tour="1"]',content:this.$t("tours.skills.data1"),params:{highlight:!0}},{target:'[data-tour="2"]',content:this.$t("tours.skills.data2"),params:{highlight:!0}},{target:'[data-tour="3"]',content:this.$t("tours.skills.data3"),params:{highlight:!0}},{target:'[data-tour="4"]',content:this.$t("tours.skills.data4"),params:{highlight:!0}},{target:'[data-tour="5"]',content:this.$t("tours.skills.data5"),params:{highlight:!0}},{target:'[data-tour="6"]',content:this.$t("tours.skills.data6"),params:{highlight:!0}},{target:'[data-tour="7"]',content:this.$t("tours.skills.data7"),params:{placement:"right",highlight:!0}},{target:'[data-tour="8"]',content:this.$t("tours.skills.data8"),params:{placement:"right",highlight:!0}},{target:'[data-tour="9"]',content:this.$t("tours.skills.data9"),params:{placement:"right",highlight:!0}},{target:'[data-tour="10"]',content:this.$t("tours.skills.data10"),params:{placement:"left",highlight:!0}}],tourCallbacks:{onSkip:this.finishTour,onFinish:this.finishTour}}},mounted:function(){localStorage.getItem("skillsTourCompleted")?this.fetchSkills():(this.skills.push({name:"ProjectAliceDemo",author:"Alice",delayed:!1,active:!0,description:this.$t("skill.demoDesc"),icon:"fas fa-biohazard",instructions:this.$t("skill.demoInstructions"),required:!1,settings:{dummy:!0},updateAvailable:!0,version:"1.0.0",aliceMinVersion:"1.0.0-b4",category:"system",maintainers:["project","alice"]}),this.$tours["skills"].start()),setInterval(this.reloadStoreSkills,3e5),this.reloadStoreSkills()},methods:{updateSkillData:function(t){var e,i=Object(d["a"])(this.skills.entries());try{for(i.s();!(e=i.n()).done;){var a=Object(c["a"])(e.value,2),s=a[0],n=a[1];if(n.name===t.name)return void(this.skills[s]=t)}}catch(o){i.e(o)}finally{i.f()}},fetchSkills:function(){var t=this;p()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){"data"in e.data&&(t.skills=e.data.data)}))},finishTour:function(){localStorage.setItem("skillsTourCompleted",!0),this.fetchSkills()},toggleShop:function(){-1===this.$tours["skills"].currentStep&&(this.shopOpen=!this.shopOpen)},reloadStoreSkills:function(){var t=this;p()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/getStore/")}).then((function(e){"store"in e.data&&(t.storeSkills=e.data.store)}))},addSkillToDownload:function(t){this.skillsToDownload.push(t)},removeSkillToDownload:function(t){this.skillsToDownload=this.skillsToDownload.filter((function(e){return e!==t}))},doDownload:function(){var t=this;this.skillsToDownload.length<=0||p()({method:"put",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/installSkills/"),data:this.skillsToDownload,headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){if("status"in e.data)for(var i=0,a=Object.entries(e.data.status);i<a.length;i++){var s=Object(c["a"])(a[i],2),n=s[0];s[1];t.$refs[n.toLowerCase()][0].setIsDownloading()}}))}}},h=m,f=i("2877"),v=Object(f["a"])(h,r,l,!1,null,null,null),g=v.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("iframe",{attrs:{id:"nodered",title:"nodered",src:"http://192.168.1.168:1880"}})},b=[],k={name:"scenarios"},y=k,w=(i("4738"),Object(f["a"])(y,_,b,!1,null,"fe05331a",null)),$=w.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"centered vcentered"},[i("form",{ref:"form",staticClass:"fullpageForm",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[i("p",[i("label",{attrs:{for:"username"}},[t._v(t._s(t.$t("dialogs.labels.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{id:"username",type:"text",placeholder:t.$t("dialogs.labels.username")},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),i("p",[i("label",{attrs:{for:"pincode"}},[t._v(t._s(t.$t("dialogs.labels.pinCode")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.pincode,expression:"pincode"}],attrs:{id:"pincode",type:"password"},domProps:{value:t.pincode},on:{input:function(e){e.target.composing||(t.pincode=e.target.value)}}})]),i("p",[i("label",{attrs:{for:"rememberMe"}},[t._v(t._s(t.$t("dialogs.labels.rememberMe")))]),i("VueToggles",{attrs:{id:"rememberMe","checked-text":t.$t("tooltips.yes"),"unchecked-text":t.$t("tooltips.no"),value:t.rememberMe,uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.rememberMe=!t.rememberMe}}})],1),i("p",[i("button",[t._v(t._s(t.$t("buttons.login")))])])])])},S=[],T=(i("ac1f"),i("5319"),{name:"login",data:function(){return{username:"",pincode:"",rememberMe:!1}},methods:{login:function(){var t=this,e=new FormData;e.append("username",this.username),e.append("pin",this.pincode),p()({method:"post",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/login/"),data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if("apiToken"in e.data)t.$store.commit("userLogin",{user:t.username,token:e.data.apiToken,authLevel:e.data.authLevel}),t.rememberMe&&(localStorage.setItem("username",t.username),localStorage.setItem("apiToken",e.data.apiToken)),p()({method:"get",url:"http://".concat(t.$store.state.settings["aliceIp"],":").concat(t.$store.state.settings["apiPort"],"/api/v1.0.1/utils/config/"),headers:{auth:e.data.apiToken}}).then((function(e){t.$store.commit("setSettings",e.data.config),t.$store.commit("setSettingTemplates",e.data.templates),t.$store.commit("setSettingCategories",e.data.categories)})),t.$router.replace("/").then();else{t.username="",t.pincode="";var i=t;t.$refs.form.classList.add("failed"),setTimeout((function(){i.$refs.form.classList.remove("failed")}),2e3)}})).catch((function(t){console.log("Connection failed: "+t)}))}}}),I=T,x=(i("9838"),Object(f["a"])(I,C,S,!1,null,"639f6722",null)),P=x.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container flexcolumn"},[i("tabs",{attrs:{tabs:t.tabs}}),0===t.activeTab?i("div",{staticClass:"tab_page"},[i("div",{staticClass:"settingsContainer"},t._l(t.$store.state.settingCategories,(function(e){return i("div",{staticClass:"settingsCategory"},[i("div",{staticClass:"title"},[t._v(t._s(e.toUpperCase()))]),i("div",{staticClass:"configLayout"},[i("div",{staticClass:"labels"},t._l(t.$store.state.settingTemplates,(function(a,s){return"hidden"!==a["display"]&&a["category"].toLowerCase()===e.toLowerCase()&&t.checkSettingVisibility(s)?i("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:a["description"],expression:"settingTemplate['description']"}],class:"longstring"===a["dataType"]?"textAreaLabel":"",attrs:{for:s,id:"label_"+s}},[t._v(" "+t._s(s)+": ")]):t._e()})),0),i("div",{staticClass:"inputs"},t._l(t.$store.state.settingTemplates,(function(a,s){return"hidden"!==a["display"]&&a["category"].toLowerCase()===e.toLowerCase()&&t.checkSettingVisibility(s)?i("div",{staticClass:"input",attrs:{id:"input_"+s}},["string"!==a["dataType"]||a["isSensitive"]?t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"},{name:"init",rawName:"v-init",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"}],attrs:{id:s,placeholder:a["defaultValue"],type:"text"},domProps:{value:t.$store.state.settings[s]},on:{input:function(e){e.target.composing||t.$set(t.$store.state.settings,s,e.target.value)}}}),"string"===a["dataType"]&&a["isSensitive"]?i("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"},{name:"init",rawName:"v-init",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"}],attrs:{id:s,placeholder:a["defaultValue"],type:"password"},domProps:{value:t.$store.state.settings[s]},on:{input:function(e){e.target.composing||t.$set(t.$store.state.settings,s,e.target.value)}}}):t._e(),"integer"!==a["dataType"]||a["isSensitive"]?t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"},{name:"init",rawName:"v-init",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"}],attrs:{id:s,placeholder:a["defaultValue"],type:"number"},domProps:{value:t.$store.state.settings[s]},on:{input:function(e){e.target.composing||t.$set(t.$store.state.settings,s,e.target.value)}}}),"integer"===a["dataType"]&&a["isSensitive"]?i("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"}],attrs:{id:s,placeholder:a["defaultValue"],type:"password"},domProps:{value:t.$store.state.settings[s]},on:{input:function(e){e.target.composing||t.$set(t.$store.state.settings,s,e.target.value)}}}):t._e(),"list"===a["dataType"]?i("select",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"}],attrs:{id:s},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$store.state.settings,s,e.target.multiple?i:i[0])}}},[t._l(a["values"],(function(e,s){return a["values"].constructor===Object?i("option",{domProps:{value:e}},[t._v(" "+t._s(s)+" ")]):t._e()})),t._l(a["values"],(function(e){return a["values"].constructor===Array?i("option",{domProps:{value:e}},[t._v(" "+t._s(e)+" ")]):t._e()}))],2):t._e(),"boolean"===a["dataType"]?i("VueToggles",{attrs:{id:s,"checked-text":t.$t("tooltips.yes"),"unchecked-text":t.$t("tooltips.no"),value:t.$store.state.settings[s],checkedBg:"var(--windowBG)",uncheckedBg:"var(--windowBG)"},on:{click:function(e){t.$store.state.settings[s]=!t.$store.state.settings[s]}}}):t._e(),"range"===a["dataType"]?i("div",{staticClass:"rangeInput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"},{name:"init",rawName:"v-init",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"}],attrs:{id:s,max:a["max"],min:a["min"],placeholder:a["defaultValue"],step:a["step"],type:"range"},domProps:{value:t.$store.state.settings[s]},on:{__r:function(e){return t.$set(t.$store.state.settings,s,e.target.value)}}}),t._v(" "+t._s(t.$store.state.settings[s])+" ")]):t._e(),"longstring"===a["dataType"]?i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"},{name:"init",rawName:"v-init",value:t.$store.state.settings[s],expression:"$store.state.settings[settingName]"}],attrs:{id:s,placeholder:a["defaultValue"]},domProps:{value:t.$store.state.settings[s]},on:{input:function(e){e.target.composing||t.$set(t.$store.state.settings,s,e.target.value)}}}):t._e()],1):t._e()})),0)]),i("div",[i("reactive-icon",{attrs:{"data-success":"false",icon:"far fa-save",tooltip:"tooltips.save",onClick:t.save,timing:[1,2]}})],1)])})),0)]):t._e(),1===t.activeTab?i("div",{staticClass:"tab_page"},[i("div",{staticClass:"container flexrow"},[i("div",{staticClass:"utility clickable",on:{click:function(e){return t.utilityRequestAndRedirect("restart")}}},[t._m(0),i("p",{staticClass:"utilityName"},[t._v(" "+t._s(t.$t("utilities.restart"))+" ")])]),i("div",{staticClass:"utility clickable",on:{click:function(e){return t.utilityRequestAndRedirect("reboot")}}},[t._m(1),i("p",{staticClass:"utilityName"},[t._v(" "+t._s(t.$t("utilities.reboot"))+" ")])]),i("div",{staticClass:"utility clickable",on:{click:function(e){return t.utilityRequestAndCheck("train","projectalice.core.training")}}},[t._m(2),i("p",{staticClass:"utilityName"},[t._v(" "+t._s(t.$t("utilities.train"))+" ")])]),i("div",{staticClass:"utility clickable",on:{click:function(e){return t.utilityRequestAndCheck("update","projectalice.core.updating")}}},[t._m(3),i("p",{staticClass:"utilityName"},[t._v(" "+t._s(t.$t("utilities.update"))+" ")])]),i("div",{staticClass:"utility clickable",on:{click:function(e){return t.utilitySimpleRequest("addUser")}}},[t._m(4),i("p",{staticClass:"utilityName"},[t._v(" "+t._s(t.$t("utilities.addUser"))+" ")])]),i("div",{staticClass:"utility clickable",on:{click:function(e){return t.utilitySimpleRequest("addWakeword")}}},[t._m(5),i("p",{staticClass:"utilityName"},[t._v(" "+t._s(t.$t("utilities.addWakeword"))+" ")])]),i("div",{staticClass:"utility clickable",on:{click:function(e){return t.utilitySimpleRequest("tuneWakeword")}}},[t._m(6),i("p",{staticClass:"utilityName"},[t._v(" "+t._s(t.$t("utilities.tuneWakeword"))+" ")])]),i("div",{staticClass:"utility clickable",on:{click:function(e){return t.utilityRequestAndRedirect("wipeAll")}}},[t._m(7),i("p",{staticClass:"utilityName"},[t._v(" "+t._s(t.$t("utilities.wipe"))+" ")])])])]):t._e()],1)},L=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"utilityIcon"},[i("i",{staticClass:"fas fa-redo-alt",attrs:{id:"utilityRestart"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"utilityIcon"},[i("i",{staticClass:"fas fa-power-off",attrs:{id:"utilityReboot"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"utilityIcon"},[i("i",{staticClass:"fas fa-brain",attrs:{id:"utilityTrain"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"utilityIcon"},[i("i",{staticClass:"fas fa-sync",attrs:{id:"utilityUpdate"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"utilityIcon"},[i("i",{staticClass:"fas fa-user-plus",attrs:{id:"utilityAddUser"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"utilityIcon"},[i("i",{staticClass:"fas fa-comment-medical",attrs:{id:"utilityAddWakeword"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"utilityIcon"},[i("i",{staticClass:"fas fa-volume-up",attrs:{id:"utilityTuneWakeword"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"utilityIcon"},[i("i",{staticClass:"fas fa-bomb",attrs:{id:"utilityWipeAll"}})])}],j=(i("fb6a"),{name:"admin",data:function(){return{activeTab:0,tabs:{1:{icon:"fas fa-cogs",id:1,position:0},2:{icon:"fas fa-tools",id:2,position:1}}}},methods:{checkSettingVisibility:function(t){if("parent"in this.$store.state.settingTemplates[t]){var e=this.$store.state.settingTemplates[t]["parent"],i=e["config"],a=e["condition"],s=e["value"],n=this.$store.state.settings[i];return"is"===a&&n===s||"isnot"===a&&n!==s||"isgreater"===a&&n>s||"islower"===a&&n<s}return!0},save:function(t){var e=this;t.target["data-success"]=!1,p()({method:"PATCH",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/utils/config/"),headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"},data:this.$store.state.settings}).then((function(){t.target["data-success"]=!0,e.$i18n.locale=e.$store.state.settings["activeLanguage"]}))},utilityRequestAndRedirect:function(t){var e=this.startIcon(t),i=this;p()({method:"GET",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/utils/").concat(t,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(){setTimeout((function(){e.classList.add("green"),i.$router.replace("/syslog").then()}),2e3)})).catch((function(){setTimeout((function(){e.classList.add("red")}),2e3)})).finally((function(){setTimeout((function(){e.classList.remove("fa-spin"),e.classList.remove("red"),e.classList.remove("green")}),4e3)}))},utilityRequestAndCheck:function(t,e){var i=this.startIcon(t),a=this;p()({method:"GET",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/utils/").concat(t,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(){a.checkState(e,i)})).catch((function(){setTimeout((function(){i.classList.remove("fa-spin"),i.classList.add("red")}),1e3)}))},utilitySimpleRequest:function(t){var e=this.startIcon(t);p()({method:"GET",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/utils/").concat(t,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(t){"success"in t.data&&t.data["success"]?setTimeout((function(){e.classList.remove("fa-spin"),e.classList.add("green")}),2e3):e.classList.add("red")})).catch((function(){setTimeout((function(){e.classList.remove("fa-spin"),e.classList.add("red")}),2e3)})).finally((function(){setTimeout((function(){e.classList.remove("fa-spin"),e.classList.remove("red"),e.classList.remove("green")}),4e3)}))},startIcon:function(t){var e=document.querySelector("#utility".concat(t.charAt(0).toUpperCase()+t.slice(1)));return e.classList.add("fa-spin"),e},checkState:function(t,e){var i=this;p()({method:"GET",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/state/").concat(t,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(a){"state"in a.data?4===a.data["state"]?(e.classList.remove("fa-spin"),e.classList.add("green"),setTimeout((function(){e.classList.remove("green")}),2e3)):9===a.data["state"]?(e.classList.remove("fa-spin"),e.classList.add("red")):1===a.data["state"]&&setTimeout(i.checkState(t,e),1e3):setTimeout(i.checkState(t,e),1e3)})).catch((function(){e.classList.remove("fa-spin"),e.classList.add("red")}))}}}),E=j,M=(i("ea99"),i("5b94"),Object(f["a"])(E,D,L,!1,null,"44951b32",null)),O=M.exports,H=i("6205"),N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container flexcolumn"},[i("div",{staticClass:"syslogContainer"},[i("actions-menu",{attrs:{menuItems:t.menuItems}}),i("div",{staticClass:"terminal",attrs:{id:"terminal"}},t._l(t.logs,(function(e){return i("div",{staticClass:"logLine"},[i("span",{staticClass:"logTime logDim"},[t._v("["+t._s(e.time)+"]")]),i("span",{staticClass:"logComponent logDim"},[t._v("["+t._s(e.component)+"]")]),i("span",{staticClass:"logMsg",class:"log"+e.level,domProps:{innerHTML:t._s(e.msg)}})])})),0),i("div",{staticClass:"terminalInput"},[i("form",{on:{submit:function(e){return e.preventDefault(),t.sendCmd(e)}}},[i("label",{attrs:{for:"input"}},[t._v(t._s(t.$t("labels.sendCommand"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cmd,expression:"cmd"}],attrs:{id:"input",type:"text"},domProps:{value:t.cmd},on:{input:function(e){e.target.composing||(t.cmd=e.target.value)}}}),i("button",[t._v(t._s(t.$t("buttons.send")))])])])],1)])},A=[],z=function(t){return t=t.replace(/\*\*(.*?)\*\*/gi,'<span class="logBold">$1</span>'),t=t.replace(/--(.*?)--/gi,'<span class="logDim">$1</span>'),t=t.replace(/__(.*?)__/gi,'<span class="logUnderlined">$1</span>'),t=t.replace(/!\[(red|green|yellow|blue|grey)]\((.*?)\)/gi,'<span class="$1">$2</span>'),t=t.replace(/\[=>]/gi,'<span class="logSpacer"> </span>'),t=t.replaceAll("\n","<br/>"),t},q=i("c9d9"),R={name:"syslog",data:function(){var t=this;return{cmd:"",unwatch:{},follow:!0,logs:[],menuItems:[{name:this.$t("tooltips.lock"),icon:"far fa-pause-circle",extendedIcon:"far fa-play-circle",extendedName:this.$t("tooltips.follow"),isToggle:!0,onClick:function(){t.follow=!t.follow}}]}},created:function(){var t=this;this.unwatch=this.$store.watch((function(t){return t.mqttMessage}),(function(e){if(e.topic===q["n"]){var i=JSON.parse(e.payloadString);i.msg=z(i.msg),t.logs.push(i)}}))},updated:function(){if(this.follow){var t=this.$el.querySelector("#terminal");t.scrollTop=t.scrollHeight}},beforeDestroy:function(){this.$store.state.mqtt.unsubscribe(q["n"]),this.unwatch()},methods:{sendCmd:function(){var t=new FormData;t.append("cmd",this.cmd),p()({method:"post",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/utils/sysCmd/"),data:t,headers:{auth:localStorage.getItem("apiToken"),"Content-Type":"multipart/form-data"}})}}},B=R,W=(i("783d"),Object(f["a"])(B,N,A,!1,null,null,null)),U=W.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container flexcolumn"},[i("div",{staticClass:"syslogContainer"},[i("actions-menu",{attrs:{menuItems:t.menuItems}}),i("div",{staticClass:"logVerbosity"},[i("i",{staticClass:"fa-circle",class:t.verbosity>-1?"fas yellow":"far",attrs:{"aria-hidden":"true"}}),i("i",{staticClass:"fa-circle",class:t.verbosity>0?"fas yellow":"far",attrs:{"aria-hidden":"true"}}),i("i",{staticClass:"fa-circle",class:t.verbosity>1?"fas yellow":"far",attrs:{"aria-hidden":"true"}}),i("i",{staticClass:"fa-circle",class:t.verbosity>2?"fas yellow":"far",attrs:{"aria-hidden":"true"}}),i("i",{staticClass:"fa-circle",class:t.verbosity>3?"fas yellow":"far",attrs:{"aria-hidden":"true"}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.decreaseVerbosity"),expression:"$t('tooltips.decreaseVerbosity')"}],staticClass:"fas fa-minus-circle clickable",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setVerbosity(-1)}}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.increaseVerbosity"),expression:"$t('tooltips.increaseVerbosity')"}],staticClass:"fas fa-plus-circle clickable",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setVerbosity(1)}}})]),i("div",{staticClass:"terminal",attrs:{id:"terminal"}},t._l(t.logs,(function(e){return i("div",{staticClass:"logLine"},[i("span",{staticClass:"logTime logYellow"},[t._v("["+t._s(e.time)+"]")]),i("span",{staticClass:"logComponent logYellow"},[t._v("["+t._s(e.component)+"]")]),i("span",{staticClass:"logMsg",domProps:{innerHTML:t._s(e.text)}})])})),0)],1)])},V=[],Y={name:"alicewatch",data:function(){var t=this;return{verbosity:1,unwatch:{},follow:!0,logs:[],menuItems:[{name:this.$t("tooltips.lock"),icon:"far fa-pause-circle",extendedIcon:"far fa-play-circle",extendedName:this.$t("tooltips.follow"),isToggle:!0,onClick:function(){t.follow=!t.follow}}]}},created:function(){var t=localStorage.getItem("alicewatchVerbosity")||1;this.verbosity=parseInt(t);var e=this;this.unwatch=this.$store.watch((function(t){return t.mqttMessage}),(function(t){if(t.topic===q["a"]){var i=JSON.parse(t.payloadString);if(i.verbosity>e.verbosity)return;i.text=z(i.text),e.logs.push(i)}}))},updated:function(){if(this.follow){var t=this.$el.querySelector("#terminal");t.scrollTop=t.scrollHeight}},beforeDestroy:function(){this.$store.state.mqtt.unsubscribe(q["a"]),this.unwatch()},methods:{setVerbosity:function(t){this.verbosity=Math.max(0,Math.min(this.verbosity+t,4)),isNaN(this.verbosity)&&(this.verbosity=0),localStorage.setItem("alicewatchVerbosity",this.verbosity)}}},G=Y,K=(i("8859"),Object(f["a"])(G,F,V,!1,null,"3a578264",null)),X=K.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container flexcolumn"},[i("tabs",{attrs:{tabs:t.tabs}}),0===t.activeTab?i("div",{staticClass:"tab_page yscroll"},[i("form",{ref:"data",on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}}},[i("div",{staticClass:"configLayout"},[i("div",{staticClass:"labels"},[i("label",{attrs:{for:"skillName"}},[t._v(t._s(t.$t("labels.skillName")))]),i("label",{attrs:{for:"skillSpeakableName"}},[t._v(t._s(t.$t("labels.skillSpeakableName")))]),i("label",{attrs:{for:"skillDescription"}},[t._v(t._s(t.$t("labels.skillDescription")))]),i("label",{attrs:{for:"skillCategory"}},[t._v(t._s(t.$t("labels.skillCategory")))]),i("label",{staticStyle:{height:"200px","align-items":"flex-start"},attrs:{for:"skillLanguages"}},[t._v(t._s(t.$t("labels.skillLanguages")))]),i("label",{attrs:{for:"skillInstructions"}},[t._v(t._s(t.$t("labels.skillInstructions")))]),i("label",{attrs:{for:"skillPipRequirements"}},[t._v(t._s(t.$t("labels.skillPipRequirements")))]),i("label",{attrs:{for:"skillSystemRequirements"}},[t._v(t._s(t.$t("labels.skillSystemRequirements")))]),i("label",{attrs:{for:"skillOnline"}},[t._v(t._s(t.$t("labels.skillOnline")))]),i("label",{attrs:{for:"skillArbitrary"}},[t._v(t._s(t.$t("labels.skillArbitrary")))]),i("label",{attrs:{for:"skillRequiredSkills"}},[t._v(t._s(t.$t("labels.skillRequiredSkills")))]),i("label",{attrs:{for:"skillConflictingSkills"}},[t._v(t._s(t.$t("labels.skillConflictingSkills")))]),i("label",{attrs:{for:"skillRequiredManagers"}},[t._v(t._s(t.$t("labels.skillRequiredManagers")))]),i("label",{attrs:{for:"skillWidgets"}},[t._v(t._s(t.$t("labels.skillWidgets")))]),i("label",{attrs:{for:"skillScenarioNodes"}},[t._v(t._s(t.$t("labels.skillScenarioNodes")))]),i("label",{staticStyle:{"justify-content":"flex-end"}},[i("i",{ref:"animatedIcon",staticClass:"fas fa-spinner fa-pulse fa-2x initialHidden",attrs:{"aria-hidden":"true"}})])]),i("div",{staticClass:"inputs longInputs"},[i("div",{staticClass:"input"},[i("input",{ref:"skillName",staticClass:"inputError",attrs:{type:"text",id:"skillName",disabled:t.created},on:{input:function(e){return t.validateTextInput(5,20,!0,e)}}}),i("span",{ref:"skillNameExists",staticClass:"red initialHidden",staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.$t("devMode.skillAlreadyExists")))])]),i("div",{staticClass:"input"},[i("input",{ref:"skillSpeakableName",staticClass:"inputError",attrs:{type:"text",id:"skillSpeakableName",disabled:t.created},on:{input:function(e){return t.validateTextInput(5,50,!1,e)}}})]),i("div",{staticClass:"input"},[i("input",{ref:"skillDescription",staticClass:"inputError",attrs:{type:"text",id:"skillDescription",disabled:t.created},on:{input:function(e){return t.validateTextInput(20,200,!1,e)}}})]),i("div",{staticClass:"input"},[i("select",{ref:"skillCategory",staticClass:"inputValid",attrs:{id:"skillCategory",disabled:t.created}},[i("option",{attrs:{value:"weather"}},[t._v("weather")]),i("option",{attrs:{value:"information"}},[t._v("information")]),i("option",{attrs:{value:"entertainment"}},[t._v("entertainment")]),i("option",{attrs:{value:"music"}},[t._v("music")]),i("option",{attrs:{value:"game"}},[t._v("game")]),i("option",{attrs:{value:"kid"}},[t._v("kid")]),i("option",{attrs:{value:"automation"}},[t._v("automation")]),i("option",{attrs:{value:"assistance",selected:""}},[t._v("assistance")]),i("option",{attrs:{value:"security"}},[t._v("security")]),i("option",{attrs:{value:"planning"}},[t._v("planning")]),i("option",{attrs:{value:"shopping"}},[t._v("shopping")]),i("option",{attrs:{value:"organisation"}},[t._v("organisation")]),i("option",{attrs:{value:"household"}},[t._v("household")]),i("option",{attrs:{value:"health"}},[t._v("health")])])]),i("div",{staticClass:"inputMultiline",staticStyle:{"min-height":"200px"},attrs:{id:"skillLanguages"}},[i("div",{staticClass:"line"},[i("VueToggles",{attrs:{"checked-text":t.$t("tooltips.yes"),"unchecked-text":t.$t("tooltips.no"),value:t.english,checkedBg:"var(--windowBG)",uncheckedBg:"var(--windowBG)",disabled:t.created}}),i("span",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.$t("misc.english")))])],1),i("div",{staticClass:"line"},[i("VueToggles",{attrs:{"checked-text":t.$t("tooltips.yes"),"unchecked-text":t.$t("tooltips.no"),value:t.german,checkedBg:"var(--windowBG)",uncheckedBg:"var(--windowBG)",disabled:t.created},on:{click:function(e){t.german=!t.german}}}),i("span",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.$t("misc.german")))])],1),i("div",{staticClass:"line"},[i("VueToggles",{attrs:{"checked-text":t.$t("tooltips.yes"),"unchecked-text":t.$t("tooltips.no"),value:t.french,checkedBg:"var(--windowBG)",uncheckedBg:"var(--windowBG)",disabled:t.created},on:{click:function(e){t.french=!t.french}}}),i("span",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.$t("misc.french")))])],1),i("div",{staticClass:"line"},[i("VueToggles",{attrs:{"checked-text":t.$t("tooltips.yes"),"unchecked-text":t.$t("tooltips.no"),value:t.italian,checkedBg:"var(--windowBG)",uncheckedBg:"var(--windowBG)",disabled:t.created},on:{click:function(e){t.italian=!t.italian}}}),i("span",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.$t("misc.italian")))])],1),i("div",{staticClass:"line"},[i("VueToggles",{attrs:{"checked-text":t.$t("tooltips.yes"),"unchecked-text":t.$t("tooltips.no"),value:t.polish,checkedBg:"var(--windowBG)",uncheckedBg:"var(--windowBG)",disabled:t.created},on:{click:function(e){t.polish=!t.polish}}}),i("span",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.$t("misc.polish")))])],1)]),i("div",{staticClass:"input"},[i("VueToggles",{attrs:{id:"skillInstructions","checked-text":t.$t("tooltips.yes"),"unchecked-text":t.$t("tooltips.no"),value:t.instructions,checkedBg:"var(--windowBG)",uncheckedBg:"var(--windowBG)",disabled:t.created},on:{click:function(e){t.instructions=!t.instructions}}})],1),i("div",{staticClass:"input"},[i("input",{ref:"skillPipRequirements",staticClass:"inputValid",attrs:{type:"text",id:"skillPipRequirements",placeholder:t.$t("devMode.listExplain"),disabled:t.created}})]),i("div",{staticClass:"input"},[i("input",{ref:"skillSystemRequirements",staticClass:"inputValid",attrs:{type:"text",id:"skillSystemRequirements",placeholder:t.$t("devMode.listExplain"),disabled:t.created}})]),i("div",{staticClass:"input"},[i("VueToggles",{attrs:{id:"skillOnline","checked-text":t.$t("tooltips.yes"),"unchecked-text":t.$t("tooltips.no"),value:t.internet,checkedBg:"var(--windowBG)",uncheckedBg:"var(--windowBG)",disabled:t.created},on:{click:function(e){t.internet=!t.internet}}})],1),i("div",{staticClass:"input"},[i("VueToggles",{attrs:{id:"skillArbitrary","checked-text":t.$t("tooltips.yes"),"unchecked-text":t.$t("tooltips.no"),value:t.arbitrary,checkedBg:"var(--windowBG)",uncheckedBg:"var(--windowBG)",disabled:t.created},on:{click:function(e){t.arbitrary=!t.arbitrary}}})],1),i("div",{staticClass:"input"},[i("input",{ref:"skillRequiredSkills",staticClass:"inputValid",attrs:{type:"text",id:"skillRequiredSkills",placeholder:t.$t("devMode.listExplain"),disabled:t.created}})]),i("div",{staticClass:"input"},[i("input",{ref:"skillConflictingSkills",staticClass:"inputValid",attrs:{type:"text",id:"skillConflictingSkills",placeholder:t.$t("devMode.listExplain"),disabled:t.created}})]),i("div",{staticClass:"input"},[i("input",{ref:"skillRequiredManagers",staticClass:"inputValid",attrs:{type:"text",id:"skillRequiredManagers",placeholder:t.$t("devMode.listExplain"),disabled:t.created}})]),i("div",{staticClass:"input"},[i("input",{ref:"skillWidgets",staticClass:"inputValid",attrs:{type:"text",id:"skillWidgets",placeholder:t.$t("devMode.listExplain"),disabled:t.created}})]),i("div",{staticClass:"input"},[i("input",{ref:"skillScenarioNodes",staticClass:"inputValid",attrs:{type:"text",id:"skillScenarioNodes",placeholder:t.$t("devMode.listExplain"),disabled:t.created}})]),i("div",{staticClass:"input"},[t.created||!t.allValid||t.waiting?t._e():i("button",{on:{click:t.createSkill}},[t._v(t._s(t.$t("buttons.create")))]),t.waiting?t._e():i("button",{on:{click:t.reset}},[t._v(t._s(t.$t("buttons.reset")))]),!t.created||t.uploaded||t.waiting?t._e():i("button",{on:{click:t.uploadSkill}},[t._v(t._s(t.$t("buttons.uploadToGithub")))]),t.created&&t.uploaded&&!t.waiting?i("button",{on:{click:t.checkOnGithub}},[t._v(t._s(t.$t("buttons.checkOnGithub")))]):t._e()])])])])]):t._e(),1===t.activeTab?i("div",{staticClass:"tab_page yscroll"}):t._e()],1)},Z=[],Q=(i("caad"),i("b64b"),i("2532"),{name:"devmode",data:function(){return{activeTab:0,tabs:{1:{icon:"fas fa-plus-circle",id:1,position:0},2:{icon:"fas fa-edit",id:2,position:1}},skills:[],storeSkills:[],allValid:!1,waiting:!1,created:!1,uploaded:!1,githubUrl:"",english:!0,german:!1,french:!1,italian:!1,polish:!1,instructions:!1,internet:!1,arbitrary:!1,skillName:"",skillSpeakableName:"",skillDescription:"",skillCategory:"assistance",skillPipRequirements:"",skillSystemRequirements:"",skillRequiredSkills:"",skillConflictingSkills:"",skillRequiredManagers:"",skillWidgets:"",skillScenarioNodes:""}},mounted:function(){var t=this;p()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/getStore/")}).then((function(e){if("store"in e.data)for(var i=0,a=Object.keys(e.data["store"]);i<a.length;i++){var s=a[i];t.storeSkills.push(s.toLowerCase())}})),this.fetchSkills()},methods:{startCapture:function(){var t=this;console.log("start"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0,width:{min:1280},height:{min:720}}).then((function(e){t.$refs.video.srcObject=e}))},validateTextInput:function(t,e,i,a){var s=a.target.value;1===s.length?a.target.value=s.toUpperCase():(i&&" "===s.slice(-1)||s.length>e)&&(a.target.value=s.slice(0,-1)),s.length>=t?(a.target.classList.add("inputValid"),a.target.classList.remove("inputError")):(a.target.classList.add("inputError"),a.target.classList.remove("inputValid")),"skillName"===a.target.id&&(this.storeSkills.includes(s.toLowerCase())?(this.$refs.skillNameExists.classList.remove("initialHidden"),a.target.classList.remove("inputValid"),a.target.classList.add("inputError")):this.$refs.skillNameExists.classList.add("initialHidden")),this.allValid=document.querySelectorAll(".inputError").length<=0},setWaiting:function(){this.waiting=!0,this.$refs.animatedIcon.classList="fas fa-spinner fa-pulse fa-2x"},setSuccess:function(){this.waiting=!1;var t=this;setTimeout((function(){t.$refs.animatedIcon.classList="fas fa-check fa-2x green",setTimeout((function(){t.$refs.animatedIcon.classList.add("initialHidden")}),5e3)}),100)},setFailed:function(){this.waiting=!1;var t=this;setTimeout((function(){t.$refs.animatedIcon.classList="fas fa-exclamation-triangle fa-2x red",setTimeout((function(){t.$refs.animatedIcon.classList.add("initialHidden")}),5e3)}),1e3)},createSkill:function(t){t.preventDefault(),this.setWaiting();var e=new FormData;e.append("skillName",this.$refs.skillName.value),e.append("skillSpeakableName",this.$refs.skillSpeakableName.value),e.append("skillDescription",this.$refs.skillDescription.value),e.append("skillCategory",this.$refs.skillCategory.value),e.append("skillPipRequirements",this.$refs.skillPipRequirements.value),e.append("skillSystemRequirements",this.$refs.skillSystemRequirements.value),e.append("skillRequiredSkills",this.$refs.skillRequiredSkills.value),e.append("skillConflictingSkills",this.$refs.skillConflictingSkills.value),e.append("skillRequiredManagers",this.$refs.skillRequiredManagers.value),e.append("skillWidgets",this.$refs.skillWidgets.value),e.append("skillScenarioNodes",this.$refs.skillScenarioNodes.value),e.append("fr",this.french),e.append("de",this.german),e.append("it",this.italian),e.append("pl",this.polish),e.append("skillOnline",this.internet),e.append("skillInstructions",this.instructions),e.append("skillArbitrary",this.arbitrary);var i=this;p()({method:"PUT",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/createSkill/"),headers:{auth:localStorage.getItem("apiToken"),"content-type":"multipart/form-data"},data:e}).then((function(t){"success"in t.data&&(t.data["success"]?(i.created=!0,i.setSuccess()):i.setFailed())})).catch((function(){this.setFailed()}))},uploadSkill:function(t){t.preventDefault(),this.setWaiting();var e=new FormData;e.append("skillName",this.$refs.skillName.value),e.append("skillDesc",this.$refs.skillDescription.value);var i=this;p()({method:"POST",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/uploadSkill/"),data:e,headers:{auth:localStorage.getItem("apiToken"),"content-type":"multipart/form-data"}}).then((function(t){"success"in t.data&&(t.data["success"]?(i.setSuccess(),i.githubUrl=t.data["url"],i.uploaded=!0):i.setFailed())})).catch((function(){i.setFailed()}))},checkOnGithub:function(t){t.preventDefault(),this.uploaded&&this.githubUrl&&window.open(this.githubUrl,"_blank")},reset:function(t){t.preventDefault(),this.$refs.data.reset(),this.waiting=!1,this.created=!1,this.uploaded=!1,this.githubUrl=""},fetchSkills:function(){var t=this;p()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/skills/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){"data"in e.data&&(t.skills=e.data.data)}))}}}),tt=Q,et=(i("2cbf"),Object(f["a"])(tt,J,Z,!1,null,"30c6f09e",null)),it=et.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.uid,staticClass:"container flexcolumn"},[t.$store.state.loggedInUser?i("actions-menu",{attrs:{menuItems:t.menuItems}}):t._e(),t.locationsEditMode?i("div",{staticClass:"tools rightSideTools"},[i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.addLocations"),expression:"$t('tooltips.addLocations')"}],staticClass:"fas fa-plus-circle fa-2x fa-fw clickable",class:{yellow:t.toolsState.addingLocation},attrs:{"aria-hidden":"true"},on:{click:t.addLocationDialog}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.removeLocations"),expression:"$t('tooltips.removeLocations')"}],staticClass:"fas fa-trash-alt fa-2x fa-fw clickable",class:{yellow:t.toolsState.deletingLocations},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setActiveTool("deletingLocations",!0)}}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.settings"),expression:"$t('tooltips.settings')"}],staticClass:"fas fa-cogs fa-2x fa-fw clickable",class:{yellow:t.toolsState.settingLocations},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setActiveTool("settingLocations",!0)}}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.paintFloors"),expression:"$t('tooltips.paintFloors')"}],staticClass:"fas fa-paint-roller fa-2x fa-fw clickable",class:{yellow:t.toolsState.paintingFloors},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setActiveTool("paintingFloors",!0)}}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.buildMode"),expression:"$t('tooltips.buildMode')"}],staticClass:"fas fa-hard-hat fa-2x fa-fw clickable",class:{yellow:t.toolsState.placingConstructions},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setActiveTool("placingConstructions",!0)}}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.manageFurniture"),expression:"$t('tooltips.manageFurniture')"}],staticClass:"fas fa-couch fa-2x fa-fw clickable",class:{yellow:t.toolsState.placingFurniture},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setActiveTool("placingFurniture",!0)}}})]):t._e(),t.devicesEditMode?i("div",{staticClass:"tools rightSideTools"},[i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.addDevice"),expression:"$t('tooltips.addDevice')"}],staticClass:"fas fa-plus-circle fa-2x fa-fw clickable",class:{yellow:t.toolsState.addingDevice},attrs:{"aria-hidden":"true"},on:{click:t.addDeviceDialog}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.removeDevice"),expression:"$t('tooltips.removeDevice')"}],staticClass:"fas fa-trash-alt fa-2x fa-fw clickable",class:{yellow:t.toolsState.deletingDevices},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setActiveTool("deletingDevices",!0)}}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.settings"),expression:"$t('tooltips.settings')"}],staticClass:"fas fa-cogs fa-2x fa-fw clickable",class:{yellow:t.toolsState.settingDevices},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setActiveTool("settingDevices",!0)}}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("tooltips.linkDevice"),expression:"$t('tooltips.linkDevice')"}],staticClass:"fas fa-link fa-2x fa-fw clickable",class:{yellow:t.toolsState.linkingDevices},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.setActiveTool("linkingDevices",!0)}}})]):t._e(),t.locationsEditMode&&t.toolsState.paintingFloors?i("div",{staticClass:"tools sideTools paintFloors"},t._l(t.floorTiles,(function(e){return i("img",{key:e,staticClass:"clickable",class:{selected:e===t.activeFloorTile},attrs:{alt:"unknown",src:"http://"+t.$store.state.settings["aliceIp"]+":"+t.$store.state.settings["apiPort"]+"/api/v1.0.1/myHome/locations/floors/"+e+".png"},on:{click:function(i){t.activeFloorTile===e?t.activeFloorTile="":t.activeFloorTile=e}}})})),0):t._e(),t.locationsEditMode&&t.toolsState.placingFurniture?i("div",{staticClass:"tools sideTools placeFurniture"},t._l(t.furnitureTiles,(function(e){return i("img",{key:e,staticClass:"clickable",class:{selected:e===t.activeFurnitureTile},attrs:{src:"http://"+t.$store.state.settings["aliceIp"]+":"+t.$store.state.settings["apiPort"]+"/api/v1.0.1/myHome/furniture/"+e+".png",alt:"unknown"},on:{click:function(i){t.activeFurnitureTile===e?t.activeFurnitureTile="":t.activeFurnitureTile=e}}})})),0):t._e(),t.locationsEditMode&&t.toolsState.placingConstructions?i("div",{staticClass:"tools sideTools placeConstructions"},t._l(t.constructionTiles,(function(e){return i("img",{key:e,staticClass:"clickable",class:{selected:e===t.activeConstructionTile},attrs:{src:"http://"+t.$store.state.settings["aliceIp"]+":"+t.$store.state.settings["apiPort"]+"/api/v1.0.1/myHome/constructions/"+e+".png",alt:"unknown"},on:{click:function(i){t.activeConstructionTile===e?t.activeConstructionTile="":t.activeConstructionTile=e}}})})),0):t._e(),i("div",{ref:"myHomeEditor",staticClass:"myHomeEditor",class:{fullscreen:t.$store.state.fullScreen,editMode:t.locationsEditMode}},[i("div",{ref:"ghost",staticClass:"ghost",class:{hidden:!t.activeFloorTile&&!t.activeFurnitureTile&&!t.activeConstructionTile},style:t.ghostBackground}),i("div",{ref:"floorPlan",staticClass:"floorPlan",class:{locationsEditMode:t.locationsEditMode,addLocation:t.toolsState.addingLocation},style:"\n\t\t\t\ttransform: scale("+t.zoomLevel+");\n\t\t\t\tleft:"+t.floorPlanX+"px;\n\t\t\t\ttop:"+t.floorPlanY+"px;\n\t\t\t",on:{click:t.floorPlanClick,mousedown:t.mouseDown,mousemove:t.mouseMove,mouseup:t.handleClick}},[t.toolsState.addingLocation?i("div",{staticClass:"reactiveLayer",on:{mousedown:t.mouseDown,mousemove:t.mouseMove,mouseup:t.handleClick}},[t.toolsState.addingLocation&&t.clicked?i("div",{ref:"areaSelector",staticClass:"areaSelector",style:"top: "+t.areaSelectorY+"px; left: "+t.areaSelectorX+"px; width: "+t.areaSelectorW+"px; height: "+t.areaSelectorH+"px"}):t._e()]):t._e(),t._l(t.locations,(function(e){return 0===e.parentLocation?i("location",{key:e.id,attrs:{data:e,locations:t.locations,furnitures:t.furnitures,constructions:t.constructions,devices:t.devices,myHome:t.me}}):t._e()})),t._l(t.devices,(function(e){return 0===e.parentLocation?i("device",{key:"dev_"+e.id,attrs:{data:e,myHome:t.me}}):t._e()}))],2)])],1)},st=[],nt=(i("7db0"),i("4160"),i("07ac"),i("159b"),i("ec26")),ot=(i("38cf"),i("d4ec")),rt=i("bee2"),lt=i("533b"),ct=function(){function t(e){Object(ot["a"])(this,t),this.controller=e,this.moveable=new lt["a"],this.rotationDelta=0,this.altDown=!1,this.paddingBox={left:15,right:15,top:15,bottom:15};var i=this;document.addEventListener("keyup",(function(t){if(!t.repeat&&"Control"===t.key)try{i.moveable.snapThreshold=15}catch(e){}})),document.addEventListener("keydown",(function(t){if(!t.repeat&&"Control"===t.key)try{i.moveable.snapThreshold=1}catch(e){}}))}return Object(rt["a"])(t,[{key:"destroyMoveable",value:function(){if(!this.altDown)try{this.moveable.destroy()}catch(t){}}},{key:"computeCustomStyle",value:function(t,e){var i="left:".concat(t["settings"]["x"],"px;");return i+="top:".concat(t["settings"]["y"],"px;"),i+="width:".concat(t["settings"]["w"],"px;"),i+="height:".concat(t["settings"]["h"],"px;"),i+="z-index:".concat(t["settings"]["z"],";"),i+="transform:rotate(".concat(t["settings"]["r"],"deg);"),i+=e,t["settings"].hasOwnProperty("b")&&(i+="border-radius:".concat(t["settings"]["b"])),i}},{key:"setGuidelines",value:function(t){this.moveable.elementGuidelines=t}},{key:"setMoveable",value:function(t,e){var i=this;this.destroyMoveable();var a=document.querySelector(".floorPlan");0!==e.data.parentLocation&&(a=document.querySelector("#loc_".concat(e.data.parentLocation))),this.moveable=new lt["a"](a,{target:t,props:e,draggable:!0,resizable:!0,rotatable:!0,snappable:!0,roundable:!1,isDisplaySnapDigit:!0,snapCenter:!0,snapGap:!1,snapThreshold:15,throttleDrag:1,throttleResize:1,throttleRotate:5,scalable:!1,keepRatio:!1,edge:!1,origin:!1}),this.moveable.on("dragStart",(function(t){var e=t.target;i.dragging=!0;try{i.moveable.props.dragStart(e)}catch(a){}finally{e.classList.add("dragging")}})).on("drag",(function(t){var e=t.target,a=t.left,s=t.top,n=t.clientX,o=t.clientY;try{i.moveable.props.handleDrag(e,a,s,n,o)}catch(r){}finally{e.style.left="".concat(a,"px"),e.style.top="".concat(s,"px")}})).on("dragEnd",(function(t){var e=t.target;i.setPosition(e);try{i.moveable.props.setPosition(e)}catch(a){}finally{i.save(),i.dragging=!1,e.classList.remove("dragging")}})),this.moveable.on("resize",(function(t){var e=t.target,a=t.width,s=t.height,n=t.delta,o=t.direction;try{i.moveable.props.handleResize(e,a,s,n,o)}catch(r){}finally{i.handleResize(e,a,s,n,o)}})).on("resizeEnd",(function(t){var e=t.target;try{i.moveable.props.setSize(e)}catch(a){}finally{i.setSize(e),i.save()}})),this.moveable.on("rotate",(function(t){var e=t.target,a=t.dist,s=t.transform;try{i.moveable.props.handleRotate(e,a,s)}catch(n){}finally{i.handleRotate(e,a,s)}})).on("rotateEnd",(function(t){var e=t.target;try{i.moveable.props.setRotation(e)}catch(a){}finally{i.setRotation(e),i.save()}})),this.moveable.on("round",(function(t){try{i.moveable.props.handleBorderRadius(t.target)}catch(e){}finally{i.handleBorderRadius(t)}})).on("roundEnd",(function(t){try{i.moveable.props.setBorderRadius(t)}catch(e){}finally{i.setBorderRadius(t),i.save()}}))}},{key:"setBoundaries",value:function(t,e){var i=t.parentElement;this.moveable.bounds={left:-e,right:parseInt(i.style.width.substring(-2))+e,top:-e,bottom:parseInt(i.style.height.substring(-2))+e}}},{key:"save",value:function(){this.moveable.props.save()}},{key:"startDrag",value:function(t){t.classList.add("dragging")}},{key:"getItem",value:function(t){var e=this.getId(t);return t.classList.contains("location")?this.controller.locations[e]:t.classList.contains("furniture")?this.controller.furnitures[e]:t.classList.contains("construction")?this.controller.constructions[e]:t.classList.contains("device")?this.controller.devices[t.id.substring(4)]:void 0}},{key:"getId",value:function(t){return parseInt(t.id.substring(4))}},{key:"setPosition",value:function(t){var e=this.getItem(t);e.settings["x"]=parseInt(t.style.left.substring(-2)),e.settings["y"]=parseInt(t.style.top.substring(-2)),this.controller.removeDroppable()}},{key:"setSize",value:function(t){var e=this.getItem(t);e.settings["x"]=parseInt(t.style.left.substring(-2)),e.settings["y"]=parseInt(t.style.top.substring(-2)),e.settings["w"]=parseInt(t.style.width.substring(-2)),e.settings["h"]=parseInt(t.style.height.substring(-2))}},{key:"setRotation",value:function(t){var e=this.getItem(t);0===e.settings["r"]?e.settings["r"]=this.rotationDelta:e.settings["r"]=e.settings["r"]+this.rotationDelta,this.rotationDelta=0}},{key:"setBorderRadius",value:function(t){var e=this.getItem(t.target);e.settings["b"]=t.target.style["border-radius"]}},{key:"handleResize",value:function(t,e,i,a,s){if(-1===s[0]){var n=parseInt(t.style.left.slice(0,-2))-a[0];t.style.left="".concat(n,"px")}if(-1===s[1]){var o=parseInt(t.style.top.slice(0,-2))-a[1];t.style.top="".concat(o,"px")}t.style.width="".concat(e,"px"),t.style.height="".concat(i,"px")}},{key:"handleRotate",value:function(t,e,i){this.rotationDelta=e,t.style.transform=i}},{key:"handleBorderRadius",value:function(t){t.target.style.borderRadius=t.borderRadius}}]),t}(),dt=i("3e5b"),ut=i.n(dt),pt={name:"myhome",data:function(){return{uid:Object(nt["a"])(),me:"",menuItems:[{name:this.$t("tooltips.edit"),icon:"fas fa-pen-square",isToggle:!0,extendedIcon:"fas fa-times-circle",extendedName:this.$t("tooltips.close"),onClose:this.closeEditor,onOpen:this.openEditor},{name:this.$t("tooltips.theaterMode"),icon:"fas fa-person-booth",isToggle:!0,callback:this.cinemaMode},{name:this.$t("tooltips.manageLocations"),icon:"fas fa-map-marked-alt",callback:this.setLocationsEditMode},{name:this.$t("tooltips.manageDevices"),icon:"fas fa-plug",callback:this.setDevicesEditMode}],moveableItem:new ct(this,this.locations),locationsEditMode:!1,devicesEditMode:!1,toolsState:{none:!0,addingLocation:!1,paintingFloors:!1,deletingLocations:!1,addingDevice:!1,deletingDevices:!1,settingDevices:!1,linkingDevices:!1,settingLocations:!1,placingFurniture:!1,placingConstructions:!1},newLocationName:"",locations:{},constructions:{},furnitures:{},devices:{},deviceTypes:{},deviceLinks:{},floorTiles:[],furnitureTiles:[],constructionTiles:[],activeFloorTile:"",activeFurnitureTile:"",activeConstructionTile:"",activeDeviceTile:"",zoomLevel:1,areaSelectorX:0,areaSelectorY:0,areaSelectorStartX:0,areaSelectorStartY:0,areaSelectorW:0,areaSelectorH:0,clicked:!1,dragging:!1,draggingPlan:!1,draggingPlanStartX:0,draggingPlanStartY:0,floorPlanX:0,floorPlanY:0,deviceLinkParent:0,deviceLinkTarget:0,newConnectionLink:null,connectionLinks:{}}},computed:{ghostBackground:function(){var t="locations/floors/floor-80.png";return this.activeFloorTile?t="locations/floors/".concat(this.activeFloorTile,".png"):this.activeFurnitureTile?t="furniture/".concat(this.activeFurnitureTile,".png"):this.activeConstructionTile?t="constructions/".concat(this.activeConstructionTile,".png"):this.activeDeviceTile&&(t="deviceTypes/".concat(this.activeDeviceTile.skillName.toLowerCase(),"/").concat(this.activeDeviceTile.deviceTypeName.toLowerCase(),".png")),"background-image: url('http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/").concat(t,"');")}},created:function(){var t=this;this.me=this;var e=this;document.addEventListener("keyup",(function(t){"Enter"===t.key?e.$store.state.fullScreen&&e.$store.commit("stopCinemaMode"):"Escape"===t.key&&(e.activeConstructionTile="",e.activeFurnitureTile="",e.activeFloorTile="",e.activeDeviceTile="",e.newConnectionLink&&e.newConnectionLink.remove(),e.newConnectionLink=null,e.setActiveTool("none"))})),document.addEventListener("wheel",(function(t){t.deltaY>1?e.zoomLevel=Math.max(e.zoomLevel-.05,.1):e.zoomLevel=Math.min(e.zoomLevel+.05,3),e.moveableItem.destroyMoveable(),e.refreshDeviceLinks()})),document.addEventListener("contextmenu",(function(t){e.setActiveTool("none")})),p()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/locations/floors/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){"data"in e.data&&(t.floorTiles=e.data.data)})),p()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/furniture/tiles/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){"data"in e.data&&(t.furnitureTiles=e.data.data)})),p()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/constructions/tiles/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){"data"in e.data&&(t.constructionTiles=e.data.data)})),p()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/deviceTypes/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){"types"in e.data&&(t.deviceTypes=e.data.types)})),p()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){"data"in e.data&&(t.locations=e.data.data.locations,t.constructions=e.data.data.constructions,t.furnitures=e.data.data.furnitures,t.deviceLinks=e.data.data.links,t.devices=e.data.data.devices)}))},mounted:function(){var t=this;this.areaSelector=this.$refs.areaSelector;var e=this;this.$watch((function(){return t.devicesEditMode}),(function(t,i){if(t)for(var a=0,s=Object.values(e.connectionLinks);a<s.length;a++){var n=s[a];n.show("draw")}else for(var o=0,r=Object.values(e.connectionLinks);o<r.length;o++){var l=r[o];l.hide("fade")}}),{deep:!0})},activated:function(){this.uid=Object(nt["a"])()},methods:{drawDeviceLinks:function(t){for(var e=this,i=function(){var i=s[a];if(t&&i.id!==t)return"continue";var n,o=null,r=Object(d["a"])(e.$children.filter((function(t){return"location"===t.$options.name})));try{for(r.s();!(n=r.n()).done;){var l=n.value;if(o=l.$children.find((function(t){return"device"===t.$options.name&&t.data.id===i.deviceId})),o)break}}catch(p){r.e(p)}finally{r.f()}if(!o)return"continue";var c=document.querySelector("#loc_".concat(i.targetLocation)),u=new ut.a(o.$el,ut.a.pointAnchor(c,{x:c.style.width/2,y:c.style.height/2}),{color:"#343434",size:3,dash:{animation:{duration:250,timing:"linear"}},dropShadow:!0,hide:!0,middleLabel:e.locations[i.targetLocation].name});o.myLinks[i.id]=u,e.connectionLinks[i.id]=u,e.devicesEditMode&&u.show("draw")},a=0,s=Object.values(this.deviceLinks);a<s.length;a++)i()},refreshDeviceLinks:function(){for(var t=0,e=Object.values(this.connectionLinks);t<e.length;t++){var i=e[t];i.position()}},setActiveTool:function(t,e){var i=this;Object.keys(this.toolsState).forEach((function(a,s){return i.toolsState[a]=a===t&&(!e||!i.toolsState[a])}));var a=!1;for(var s in this.toolsState)!0===this.toolsState[s]&&(a=!0);a||(i.toolsState["none"]=!0),this.newConnectionLink&&(this.newConnectionLink.remove(),this.newConnectionLink=null),this.moveableItem.destroyMoveable(),this.removeDroppable()},removeDroppable:function(){document.querySelectorAll(".droppable").forEach((function(t){t.classList.remove("droppable")})),document.querySelectorAll(".notDroppable").forEach((function(t){t.classList.remove("notDroppable")}))},setMoveable:function(t,e){this.moveableItem.setMoveable(t,e)},cinemaMode:function(){this.$store.commit("toggleCinemaMode")},setLocationsEditMode:function(){this.locationsEditMode=!0,this.devicesEditMode=!1,this.setActiveTool("none")},setDevicesEditMode:function(){this.locationsEditMode=!1,this.devicesEditMode=!0,this.setActiveTool("none")},openEditor:function(){0===Object.keys(this.connectionLinks).length&&this.drawDeviceLinks()},closeEditor:function(){this.setActiveTool("none"),this.locationsEditMode=!1,this.devicesEditMode=!1,this.moveableItem.destroyMoveable(),this.removeDroppable()},removeConnectionLinks:function(){for(var t=0,e=Object.values(this.connectionLinks);t<e.length;t++){var i=e[t];i.remove()}this.connectionLinks={}},floorPlanClick:function(){this.moveableItem.destroyMoveable()},addLocationDialog:function(){if(this.toolsState.none){var t=this;this.$dialog.prompt({title:this.$t("dialogs.titles.enterLocationName"),body:this.$t("dialogs.bodies.clickToAddLocation")},{promptHelp:"",okText:this.$t("buttons.ok"),cancelText:this.$t("buttons.cancel")}).then((function(e){p()({method:"get",url:"http://".concat(t.$store.state.settings["aliceIp"],":").concat(t.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/locations/").concat(e.data,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(i){"location"in i.data?t.$dialog.alert(t.$t("dialogs.bodies.locationNameOrSynonymAlreadyExist")).then():(t.setActiveTool("addingLocation"),t.newLocationName=e.data)}))})).catch((function(){t.setActiveTool("locationsEditMode"),t.newLocationName=""}))}},addDeviceDialog:function(){if(this.toolsState.none){var t=this,e={},i={view:"addDevicePromptDialog",parent:this};this.$dialog.prompt(e,i).then((function(e){e.data&&(t.setActiveTool("addingDevice"),t.activeDeviceTile=e.data)})).catch()}},mouseDown:function(t){this.toolsState.addingLocation?(this.clicked=!0,this.areaSelectorStartX=t.offsetX,this.areaSelectorStartY=t.offsetY,this.drawSelectionArea(this.areaSelectorStartX,this.areaSelectorStartY)):t.target.classList.contains("floorPlan")&&this.toolsState.none&&(t.target.classList.add("grabbed"),this.draggingPlan=!0,this.draggingPlanStartX=t.clientX,this.draggingPlanStartY=t.clientY)},mouseMove:function(t){if(this.toolsState.addingLocation){if(!this.clicked)return;this.drawSelectionArea(t.offsetX,t.offsetY)}else if(this.draggingPlan)this.floorPlanX+=t.clientX-this.draggingPlanStartX,this.floorPlanY+=t.clientY-this.draggingPlanStartY,this.draggingPlanStartX=t.clientX,this.draggingPlanStartY=t.clientY,this.refreshDeviceLinks();else if(this.toolsState.paintingFloors&&""!==this.activeFloorTile||this.toolsState.placingFurniture&&""!==this.activeFurnitureTile||this.toolsState.placingConstructions&&""!==this.activeConstructionTile||this.toolsState.addingDevice&&""!==this.activeDeviceTile||this.toolsState.linkingDevices){var e=this.$refs["myHomeEditor"].getBoundingClientRect();this.$refs["ghost"].style.top="".concat(t.clientY-25-e.top,"px"),this.$refs["ghost"].style.left="".concat(t.clientX-25-e.left,"px"),null!==this.newConnectionLink&&this.newConnectionLink.position()}},drawSelectionArea:function(t,e){var i=Math.min(this.areaSelectorStartX,t),a=Math.max(this.areaSelectorStartX,t),s=Math.min(this.areaSelectorStartY,e),n=Math.max(this.areaSelectorStartY,e);this.areaSelectorX=i,this.areaSelectorY=s,this.areaSelectorW=a-i,this.areaSelectorH=n-s},newConnectionLine:function(t){this.newConnectionLink=new ut.a(document.querySelector("#dev_".concat(t)),this.$refs.ghost,{color:"blue",size:4,dash:{animation:{duration:250,timing:"linear"}},dropShadow:!0})},handleClick:function(t){var e=this;if(this.clicked=!1,this.toolsState.addingLocation){t.preventDefault(),t.stopPropagation();var i={name:this.newLocationName,parentLocation:0,settings:{x:this.areaSelectorStartX,y:this.areaSelectorStartY,w:this.areaSelectorW||150,h:this.areaSelectorH||150}};this.areaSelectorX=0,this.areaSelectorY=0,this.areaSelectorStartX=0,this.areaSelectorStartY=0,this.areaSelectorW=0,this.areaSelectorH=0,this.newLocationName="",this.setActiveTool("locationsEditMode"),p()({method:"put",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/locations/"),data:i,headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then((function(t){if("location"in t.data){var i=t.data["location"];e.$set(e.locations,i.id,i)}}))}else this.draggingPlan&&(t.target.classList.remove("grabbed"),this.draggingPlan=!1)},moveZUp:function(t){var e=t.data,i=e.settings["z"],a=i+1;if(!(a>this.locations.length))for(var s=0,n=Object.values(this.locations);s<n.length;s++){var o=n[s];if(o.settings["z"]===a)return o.settings["z"]-=1,e.settings["z"]=a,this.saveLocationSettings(o),void this.saveLocationSettings(t)}},moveZDown:function(t){var e=t.data,i=e.settings["z"],a=i-1;if(e.parentLocation>0){var s=document.querySelector("#loc_".concat(e.parentLocation));if(a<=parseInt(s.style["z-index"]))return}if(!(a<0))for(var n=0,o=Object.values(this.locations);n<o.length;n++){var r=o[n];if(r.settings["z"]===a)return r.settings["z"]+=1,e.settings["z"]=a,this.saveLocationSettings(r),void this.saveLocationSettings(e)}},saveLocationSettings:function(t){var e={id:t.id,settings:t.settings};p()({method:"patch",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/locations/").concat(e.id,"/"),data:e,headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then()},checkIfSynonymIsFree:function(t){for(var e=0,i=Object.values(this.locations);e<i.length;e++){var a=i[e];if(a.name.toLowerCase()===t.toLowerCase())return!1;var s,n=Object(d["a"])(a.synonyms);try{for(n.s();!(s=n.n()).done;){var o=s.value;if(o.toLowerCase()===t.toLowerCase())return!1}}catch(r){n.e(r)}finally{n.f()}}return!0}},watch:{$route:{immediate:!0,handler:function(t){"/myhome"!==t.path&&(this.closeEditor(),this.removeConnectionLinks())}}}},mt=pt,ht=(i("f609"),Object(f["a"])(mt,at,st,!1,null,"8209a85c",null)),ft=ht.exports,vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dialogView"},[i("div",{staticClass:"messageContainer",attrs:{id:"messageContainer"}},[t._l(t.msgs,(function(t,e){return i("SpeechBubble",{key:e,attrs:{msg:t}})})),void 0!==t.currentSpeech?i("SpeechBubble",{key:t.msgs.length,attrs:{msg:t.currentSpeech}}):t._e()],2),i("div",{staticClass:"dvInput"},[i("input",{attrs:{type:"text"},domProps:{value:t.say},on:{input:function(e){t.say=e.target.value},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendQuery(e)}}}),i("button",{on:{click:t.sendQuery}},[i("i",{staticClass:"fas fa-paper-plane",attrs:{"aria-hidden":"true"}})])])])},gt=[],_t=i("e7b1"),bt={name:"dialogView",components:{SpeechBubble:_t["a"]},data:function(){return{cmd:"",unwatch:{},msgs:[],say:"",currentSpeech:void 0,currentSession:void 0,menuItems:[{name:this.$t("tooltips.close"),icon:"far fa-pause-circle",extendedIcon:"far fa-play-circle",extendedName:this.$t("tooltips.close"),isToggle:!0,onClick:function(){}}]}},created:function(){var t=this;this.unwatch=this.$store.watch((function(t){return t.mqttMessage}),(function(e){q["m"]===e.topic&&(t.currentSession=void 0),[q["j"],q["l"],q["m"]].includes(e.topic)&&t.msgs.push(e),[q["c"],q["b"]].includes(e.topic)&&(t.currentSpeech=e),q["j"]===e.topic&&(t.currentSpeech=void 0)}))},updated:function(){var t=this.$el.querySelector("#messageContainer");t.scrollTop=t.scrollHeight},beforeDestroy:function(){this.$store.state.mqtt.unsubscribe(q["j"]),this.$store.state.mqtt.unsubscribe(q["l"]),this.$store.state.mqtt.unsubscribe(q["m"]),this.unwatch()},methods:{sendQuery:function(){var t=this;if(""!==this.say){var e=new FormData;e.append("query",this.say),e.append("siteId","Test"),void 0===this.currentSession?p()({method:"post",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/dialog/process/"),data:e,headers:{auth:localStorage.getItem("apiToken"),"Content-Type":"multipart/form-data"}}).then((function(e){"sessionId"in e.data&&(t.currentSession=e.data.sessionId)})):(e.append("sessionId",this.currentSession),p()({method:"post",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/dialog/continue/"),data:e,headers:{auth:localStorage.getItem("apiToken"),"Content-Type":"multipart/form-data"}})),this.say=""}}}},kt=bt,yt=(i("ab42"),Object(f["a"])(kt,vt,gt,!1,null,"f8d7ba68",null)),wt=yt.exports,$t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.uid,staticClass:"container flexcolumn"},[i("overlay",{attrs:{opened:t.addWidgets,visible:t.addWidgets,animate:"zoom-in",header:t.$t("dialogs.titles.addWidgets")},on:{closed:function(e){t.addWidgets=!1}}},t._l(t.widgetTemplates,(function(e,a){return i("div",{key:a},[i("div",{staticClass:"skillTemplate"},[t._v(t._s(a))]),t._l(e,(function(e){return i("div",{staticClass:"widgetTemplate clickable",on:{click:function(i){return t.addWidget(a,e)}}},[t._v(" "+t._s(e)+" ")])}))],2)})),0),t.$store.state.loggedInUser?i("actions-menu",{attrs:{menuItems:t.menuItems}}):t._e(),i("tabs",{attrs:{tabs:t.tabs,addTab:t.addTab,removeTab:t.removeTab,renameTab:t.renameTab,onChange:t.changePage}}),t._l(t.tabs,(function(e){return e.id===t.activePageId?i("div",{key:e.id,staticClass:"tab_page"},t._l(t.widgetInstances,(function(e){return e["page"]===t.activePageId?i("vue-draggable-resizable",{key:e.id,attrs:{"class-name":"widgetContainer",classNameActive:"nothingtoseehere",w:parseInt(e["params"]["size"].split("x")[0]),h:parseInt(e["params"]["size"].split("x")[1]),x:e["params"]["x"],"min-width":50,"min-height":50,y:e["params"]["y"],z:e["params"]["z"],grid:[10,10],parent:!0,draggable:t.dragAndResizeEnabled,resizable:t.dragAndResizeEnabled},on:{activated:function(i){t.selectedWidget=e.id},dragstop:t.savePosition,resizestop:t.saveSize}},[i("div",{staticClass:"widget",style:t.computeCustomStyle(e)},[i("style",{tag:"component",attrs:{type:"text/css",scoped:""}},[t._v(" "+t._s(e.css)+" ")]),e.params["title"]?i("div",{staticClass:"widgetIcon"},[i("i",{class:e.icon,attrs:{"aria-hidden":"true"}})]):t._e(),i("p",{domProps:{innerHTML:t._s(e.html)}}),t.settings?i("div",{staticClass:"widgetTool optioner",on:{click:function(i){return t.openWidgetSettings(e)}}},[i("i",{staticClass:"fas fa-cogs clickable",attrs:{"aria-hidden":"true"}})]):t._e(),t.removeWidgets?i("div",{staticClass:"widgetTool deleter",on:{click:function(i){return t.removeWidget(e.id)}}},[i("i",{staticClass:"far fa-trash-alt clickable",attrs:{"aria-hidden":"true"}})]):t._e(),t.settings?i("div",{staticClass:"widgetTool zindexer"},[i("i",{staticClass:"fas fa-level-up-alt clickable",attrs:{"aria-hidden":"true"},on:{click:function(i){return t.moveZUp(e)}}}),i("i",{staticClass:"fas fa-level-down-alt clickable",attrs:{"aria-hidden":"true"},on:{click:function(i){return t.moveZDown(e)}}})]):t._e()],1)]):t._e()})),1):t._e()}))],2)},Ct=[],St=i("c3b2"),Tt=St["a"],It=(i("8308"),i("500b"),Object(f["a"])(Tt,$t,Ct,!1,null,"556c6ed2",null)),xt=It.exports,Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.advancedMode?i("div",[i("label",[t._v(" Filter: "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.input,expression:"filter.input"}],domProps:{value:t.filter.input},on:{input:[function(e){e.target.composing||t.$set(t.filter,"input",e.target.value)},function(e){return t.buildSelection()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addAllOrShow()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.clearSelectionOrGraph()}}})])]):t._e(),t.advancedMode?t._e():i("div",{attrs:{id:"filter"}},[i("label",{attrs:{for:"service"}},[t._v("Service:")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.service,expression:"filter.service"}],attrs:{id:"service"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"service",e.target.multiple?i:i[0])},function(e){return t.buildSelection()}]}},[i("option",{attrs:{selected:""}}),t._l(t.available.services,(function(e){return i("option",{domProps:{value:e}},[t._v(t._s(e))])}))],2),i("label",{attrs:{for:"locations"}},[t._v("Locations:")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.location,expression:"filter.location"}],attrs:{id:"locations"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"location",e.target.multiple?i:i[0])},function(e){return t.buildSelection()}]}},[i("option",{attrs:{selected:""}}),t._l(t.available.locations,(function(e){return i("option",{domProps:{value:e.id}},[t._v(t._s(e.id)+" - "+t._s(e.name))])}))],2),i("label",{attrs:{for:"devices"}},[t._v("Devices:")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.device,expression:"filter.device"}],attrs:{id:"devices"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"device",e.target.multiple?i:i[0])},function(e){return t.buildSelection()}]}},[i("option",{attrs:{selected:""}}),t._l(t.available.devices,(function(e){return i("option",{domProps:{value:e.id}},[t._v(t._s(e.id)+" - "+t._s(e.name))])}))],2),i("label",{attrs:{for:"telemetryType"}},[t._v("Telemetry Type:")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.telemetryType,expression:"filter.telemetryType"}],attrs:{id:"telemetryType"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"telemetryType",e.target.multiple?i:i[0])},function(e){return t.buildSelection()}]}},[i("option",{attrs:{selected:""}}),t._l(t.available.telemetryType,(function(e){return i("option",{domProps:{value:e}},[t._v(t._s(e))])}))],2)]),i("div",{staticClass:"selections"},[i("div",{staticClass:"floaty",attrs:{id:"listPossibles"}},t._l(t.available.combinations,(function(e){return i("div",{staticClass:"addMe",on:{click:function(i){return t.addSelection(e)}}},[t._v(" "+t._s(e["service"])+": "+t._s(e["location"])+" - "+t._s(e["device"])+" - "+t._s(e["type"])+" ")])})),0),i("div",{staticClass:"floaty",attrs:{id:"listSelected"}},t._l(t.selection,(function(e){return i("div",{staticClass:"added",on:{click:function(i){return t.removeSelection(e)}}},[t._v(t._s(e["service"])+": "+t._s(e["location"])+" - "+t._s(e["device"])+" - "+t._s(e["type"])+" ")])})),0)]),i("div",{staticStyle:{display:"flex","text-align":"center","align-items":"center","margin-left":"1em"}},[i("label",[t._v("Time (dummy): "),i("input",{directives:[{name:"model",rawName:"v-model",value:new Date(new Date-864e5).toISOString(),expression:"new Date(new Date()-(24*3600000)).toISOString()"}],domProps:{value:new Date(new Date-864e5).toISOString()},on:{input:function(e){e.target.composing||t.$set(new Date(new Date-864e5),"toISOString()",e.target.value)}}}),t._v(" - "),i("input",{directives:[{name:"model",rawName:"v-model",value:(new Date).toISOString(),expression:"new Date().toISOString()"}],domProps:{value:(new Date).toISOString()},on:{input:function(e){e.target.composing||t.$set(new Date,"toISOString()",e.target.value)}}})])]),i("button",{on:{click:function(e){t.advancedMode=!t.advancedMode}}},[t._v("A")]),i("button",{on:{click:function(e){return t.clearFilters()}}},[t._v(" Clear Filters ")]),i("button",{class:{backspace:!this.filter.input&&this.selection.length>0},on:{click:function(e){return t.clearSelection()}}},[t._v("Clear Selection ")]),i("button",{class:{backspace:!this.filter.input&&0===this.selection.length&&this.graphData.set},on:{click:function(e){return t.clearGraph()}}},[t._v(" Clear Graph ")]),i("button",{class:{enter:this.available.combinations.length>0},on:{click:function(e){return t.addAll()}}},[t._v(" Add all ")]),t.graphData.set?t.graphData.set?i("button",{class:{enter:0===this.available.combinations.length&&this.selection.length>0},on:{click:function(e){return t.createGraph()}}},[t._v(" Add to Graph ")]):t._e():i("button",{class:{enter:0===this.available.combinations.length&&this.selection.length>0},on:{click:function(e){return t.createGraph()}}},[t._v(" Show Graph ")]),t.graphData.set?i("telemetryChart",{attrs:{bind:!0,fullSpecifiedY1:t.graphData.Y1,fullSpecifiedY2:t.graphData.Y2,width:1e3}}):t._e()],1)},Dt=[],Lt=(i("c975"),i("45fc"),i("a434"),i("1276"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.loaded?i("chart",{attrs:{chartData:t.chartdata,options:t.options,bind:!0,width:1e3}}):t._e()],1)}),jt=[],Et=(i("96cf"),i("1da1")),Mt=i("1fca"),Ot=Mt["b"].reactiveProp,Ht={extends:Mt["a"],props:["chartData","options"],mixins:[Ot],mounted:function(){this.renderChart(this.chartData,this.options)}},Nt=Ht,At=Object(f["a"])(Nt,a,s,!1,null,"4762dadf",null),zt=At.exports,qt={components:{Chart:zt},props:["telemetrytypeY1","telemetrytypeY2","locations","fullSpecifiedY1","fullSpecifiedY2"],data:function(){return{loaded:!1,waitingForData:0,options:{elements:{point:{radius:0}},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{type:"time",time:{displayFormats:{hour:"HH:mm",days:"DD MMM"},distribution:"linear",ticks:{autoSkip:!0,maxTicksLimit:20,maxRotation:0,minRotation:0}},display:!0}],yAxes:[{id:"Y1",type:"linear",position:"left"}]}},chartdata:{datasets:[]}}},mounted:function(){var t=this;return Object(Et["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.fillData();case 1:case"end":return e.stop()}}),e)})))()},watch:{fullSpecifiedY1:function(){this.fillData()},fullSpecifiedY2:function(){this.fillData()},waitingForData:function(){0===this.waitingForData&&(this.loaded=!0)}},name:"telemetryChart",methods:{fillData:function(){this.loaded=!1,this.chartdata={datasets:[]};var t=this;try{t.fullSpecifiedY1?(t.fullSpecifiedY1.forEach((function(e){t.addDataToGraph("Y1",e["type"],e["locationID"],e["location"],e["deviceId"],e["device"])})),t.fullSpecifiedY2&&(t.fullSpecifiedY2.forEach((function(e){t.addDataToGraph("Y2",e["type"],e["locationID"],e["location"],e["deviceId"],e["device"])})),t.fullSpecifiedY2.length>0&&t.options.scales.yAxes.length<2&&t.options.scales.yAxes.push({id:"Y2",position:"right",type:"linear"}))):(t.telemetrytypeY2&&t.telemetrytypeY2.length>0&&t.options.scales.yAxes.length<2&&t.options.scales.yAxes.push({id:"Y2",position:"right",type:"linear"}),t.locations.forEach((function(e){t.telemetrytypeY1.forEach((function(i){t.addDataToGraph("Y1",i,e)})),t.telemetrytypeY2&&t.telemetrytypeY2.forEach((function(i){t.addDataToGraph("Y2",i,e)}))})))}catch(e){console.error(e)}},addDataToGraph:function(t,e,i,a,s,n){var o=this;this.waitingForData+=1,p()({method:"get",url:"http://".concat(o.$store.state.settings["aliceIp"],":").concat(o.$store.state.settings["apiPort"],"/api/v1.0.1/telemetry/"),headers:{auth:localStorage.getItem("apiToken"),"Content-Type":"application/json"},params:{telemetryType:e,all:!0,locationId:i,deviceId:s}}).then((function(i){var s=[],n=a+" - "+e;i.data.forEach((function(t){s.push({x:1e3*t.timestamp,y:t.value})}));var r=Rt();o.chartdata.datasets.push({label:n,data:s,backgroundColor:r,pointHitRadius:100,lineTension:0,yAxisID:t}),o.waitingForData-=1}))}}};function Rt(){for(var t="0123456789ABCDEF",e="#",i=0;i<6;i++)e+=t[Math.floor(16*Math.random())];return e}var Bt=qt,Wt=Object(f["a"])(Bt,Lt,jt,!1,null,"2bd45288",null),Ut=Wt.exports,Ft={components:{TelemetryChart:Ut},data:function(){return{name:"telemetry",overview:[],graphData:{set:!1,Y1:[],Y2:[],toggle:!1},advancedMode:!0,selection:[],available:{locations:[],devices:[],services:[],telemetryType:[],combinations:[]},filter:{service:"",location:"",device:"",telemetryType:"",input:""}}},methods:{getUnique:function(){var t=this;return p()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/telemetry/overview/"),headers:{auth:localStorage.getItem("apiToken"),"Content-Type":"application/json"}}).then((function(e){t.overview=e.data,t.buildSelection()})),!0},buildSelection:function(){var t=this;function e(t,e,i,a,s,n){var o,r=s["service"]+": "+s["location"]+" - "+s["device"]+" - "+s["type"],l=n.filter.input.split("*"),c=Object(d["a"])(l);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!r.includes(l[u]))return!1}}catch(p){c.e(p)}finally{c.f()}return(!t||s["type"]===t)&&((!e||s["deviceId"]===e)&&((!i||s["locationId"]===i)&&(!a||s["service"]===a)))}this.available.telemetryType=[],this.available.devices=[],this.available.locations=[],this.available.services=[],this.available.combinations=[];var i,a=Object(d["a"])(this.overview);try{var s=function(){var a=i.value;!t.available.telemetryType.includes(t.overview[a]["type"])&&e("",t.filter.device,t.filter.location,t.filter.service,t.overview[a],t)&&t.available.telemetryType.push(t.overview[a]["type"]),!t.available.devices.some((function(e){return e.id===t.overview[a]["deviceId"]}))&&e(t.filter.telemetryType,"",t.filter.location,t.filter.service,t.overview[a],t)&&t.available.devices.push({id:t.overview[a]["deviceId"],name:t.overview[a]["device"]}),!t.available.locations.some((function(e){return e.id===t.overview[a]["locationId"]}))&&e(t.filter.telemetryType,t.filter.device,"",t.filter.service,t.overview[a],t)&&t.available.locations.push({id:t.overview[a]["locationId"],name:t.overview[a]["location"]}),!t.available.services.includes(t.overview[a]["service"])&&e(t.filter.telemetryType,t.filter.device,t.filter.location,"",t.overview[a],t)&&t.available.services.push(t.overview[a]["service"]),!t.selection.includes(t.overview[a])&&e(t.filter.telemetryType,t.filter.device,t.filter.location,t.filter.service,t.overview[a],t)&&t.available.combinations.push(t.overview[a])};for(a.s();!(i=a.n()).done;)s()}catch(n){a.e(n)}finally{a.f()}},addSelection:function(t){this.selection.push(t),this.buildSelection()},removeSelection:function(t){var e=this.selection.indexOf(t);e>-1&&this.selection.splice(e,1),this.buildSelection()},createGraph:function(){this.graphData.toggle?this.graphData.Y2=this.selection:this.graphData.Y1=this.selection,this.graphData.toggle=!this.graphData.toggle,this.graphData.set=!0,this.selection=[],this.buildSelection()},addAll:function(){var t=this;this.available.combinations.forEach((function(e){t.selection.push(e)})),this.buildSelection()},clearSelection:function(){this.selection=[],this.buildSelection()},addAllOrShow:function(){0===this.available.combinations.length?this.createGraph():this.addAll()},clearSelectionOrGraph:function(){this.filter.input||(this.selection.length>0?this.clearSelection():this.clearGraph())},clearGraph:function(){this.graphData={}},clearFilters:function(){this.filter.input="",this.filter.service="",this.filter.location="",this.filter.device="",this.filter.telemetryType="",this.buildSelection()}},created:function(){this.getUnique()}},Vt=Ft,Yt=(i("282c"),Object(f["a"])(Vt,Pt,Dt,!1,null,"8304399e",null)),Gt=Yt.exports;n["a"].use(o["a"]);var Kt=[{path:"/connect",name:"Connect",component:H["a"],meta:{title:"connect"}},{path:"/skills",component:g,meta:{title:"nav.skills"}},{path:"/scenarios",component:$,meta:{title:"nav.scenarios"}},{path:"/login",component:P,meta:{title:"nav.login"}},{path:"/syslog",component:U,meta:{title:"nav.syslog"}},{path:"/alicewatch",component:X,meta:{title:"nav.alicewatch"}},{path:"/admin",component:O,meta:{title:"nav.admin"}},{path:"/devmode",component:it,meta:{title:"nav.devmode"}},{path:"/myhome",component:ft,meta:{title:"nav.myhome"}},{path:"/dialogView",component:wt,meta:{title:"nav.dialogView"}},{path:"/widgets",component:xt,meta:{title:"nav.widgets"}},{path:"/telemetry",component:Gt,meta:{title:"nav.telemetry"}},{path:"*",name:"Home",component:ft,meta:{title:"nav.widgets"}}],Xt=new o["a"]({routes:Kt,mode:"abstract"});e["a"]=Xt},a263:function(t,e,i){},a364:function(t,e,i){},a595:function(t,e,i){},a8e8:function(t,e,i){},aa4b:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menu",class:{extend:t.extend,retract:t.retract,extended:t.isExtended,cinemaMode:t.$store.state.fullScreen},on:{animationend:t.animationEnd}},t._l(t.menuItems.slice(0,t.isExtended?999:1),(function(e,a){return i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.isExtended&&e.extendedName||e.name,expression:"isExtended ? item.extendedName || item.name : item.name"}],key:e.name,staticClass:"menuButton clickable",class:t.isExtended&&e.extendedIcon||e.icon,attrs:{"aria-hidden":"true"},on:{click:function(i){return t.handleClick(e)}}})})),0)},s=[],n={name:"actionsMenu",data:function(){return{isExtended:!1,extend:!1,retract:!1}},props:["menuItems"],methods:{toggle:function(t){this.isExtended=!this.isExtended,!this.isExtended&&t.hasOwnProperty("onClose")?(t["onClose"](),this.extend=!1,this.retract=!0):this.isExtended&&t.hasOwnProperty("onOpen")&&(t["onOpen"](),this.retract=!1,this.extend=!0)},handleClick:function(t){t.hasOwnProperty("isToggle")&&t.isToggle&&this.toggle(t),t.hasOwnProperty("onClick")&&t["onClick"](),t.hasOwnProperty("callback")&&t.callback(t)},animationEnd:function(){this.extend=!1,this.retract=!1}}},o=n,r=(i("c161"),i("2877")),l=Object(r["a"])(o,a,s,!1,null,"26b3fdfe",null);e["a"]=l.exports},ab42:function(t,e,i){"use strict";i("f19f")},b0e0:function(t,e,i){"use strict";i("bf63")},b192:function(t,e,i){},b2dc:function(t,e,i){},b335:function(t,e,i){},b3c1:function(t,e,i){},b4ea:function(t,e,i){},b732:function(t,e,i){"use strict";i("2f33")},bee4:function(t,e,i){},bf63:function(t,e,i){},c161:function(t,e,i){"use strict";i("caaa")},c18f:function(t,e,i){},c3b2:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("99af"),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b0c0"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_values__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("07ac"),core_js_modules_es_object_values__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_values__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5319"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_5__),D_repositories_git_ProjectAlice_webui_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("5530"),D_repositories_git_ProjectAlice_webui_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("b85c"),axios__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_8__),uuid__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("ec26");__webpack_exports__["a"]={name:"pa-widgets",data:function(){var t=this;return{uid:Object(uuid__WEBPACK_IMPORTED_MODULE_9__["a"])(),tabs:{},menuItems:[{name:this.$t("tooltips.edit"),icon:"fas fa-pen-square",isToggle:!0,extendedIcon:"fas fa-times-circle",extendedName:this.$t("tooltips.close"),onClose:function(){t.removeWidgets=!1,t.settings=!1,t.dragAndResizeEnabled=!1},onOpen:function(){t.dragAndResizeEnabled=!0}},{name:this.$t("tooltips.theaterMode"),icon:"fas fa-person-booth",isToggle:!0,callback:this.cinemaMode},{name:this.$t("tooltips.settings"),icon:"fas fa-cog",onClick:function(){t.settings=!t.settings}},{name:this.$t("tooltips.uploadPresets"),icon:"fas fa-file-upload"},{name:this.$t("tooltips.downloadPresets"),icon:"fas fa-file-download"},{name:this.$t("tooltips.addWidgets"),icon:"far fa-plus-square",onClick:function(){t.addWidgets=!0}},{name:this.$t("tooltips.removeWidgets"),icon:"far fa-minus-square",onClick:function(){t.removeWidgets=!t.removeWidgets}}],settings:!1,addWidgets:!1,removeWidgets:!1,widgetTemplates:{},widgetInstances:{},activePageId:1,selectedWidget:-1,dragAndResizeEnabled:!1,hasTitle:!0,jsImports:""}},created:function(){var t=this,e=this;document.addEventListener("keyup",(function(t){"Enter"===t.key&&e.$store.state.fullScreen&&e.$store.commit("stopCinemaMode")})),axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/pages/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){"pages"in e.data&&(t.tabs=e.data.pages,t.fetchWidgetTemplates(),t.fetchWidgetInstances())}))},activated:function(){this.uid=Object(uuid__WEBPACK_IMPORTED_MODULE_9__["a"])()},methods:{changePage:function(t){this.activePageId=t,this.$forceUpdate()},cinemaMode:function(){this.$store.commit("toggleCinemaMode")},fetchWidgetTemplates:function(){var t=this;axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/templates/")}).then((function(e){"widgets"in e.data&&(t.widgetTemplates=e.data["widgets"])}))},fetchWidgetInstances:function fetchWidgetInstances(){var _this4=this;axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"get",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(response){if("widgets"in response.data){for(var widgets=response.data.widgets,_loop=function _loop(){var widget=_Object$values[_i],uuid=Object(uuid__WEBPACK_IMPORTED_MODULE_9__["a"])();widget.html=widget.html.replace(/data-ref="(.*?)"/gi,'data-ref="$1_'.concat(uuid,'"'));var src="http://".concat(_this4.$store.state.settings["aliceIp"],":").concat(_this4.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/resources/").concat(widget.skill,"/").concat(widget.name);_this4.$loadScript("".concat(src,".js")).then((function(){var cls=eval("".concat(widget.skill,"_").concat(widget.name));new cls(uuid)}))},_i=0,_Object$values=Object.values(widgets);_i<_Object$values.length;_i++)_loop();_this4.widgetInstances=widgets}}))},addWidget:function addWidget(skillName,widgetName){var _this5=this;axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"put",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/"),data:{skillName:skillName,widgetName:widgetName,pageId:this.activePageId},headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then((function(response){if("widget"in response.data){var uuid=Object(uuid__WEBPACK_IMPORTED_MODULE_9__["a"])(),widget=response.data.widget;widget.html=widget.html.replace(/data-ref="(.*?)"/gi,'data-ref="$1_'.concat(uuid,'"')),_this5.$set(_this5.widgetInstances,response.data["widget"]["id"],widget);var src="http://".concat(_this5.$store.state.settings["aliceIp"],":").concat(_this5.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/resources/").concat(widget.skill,"/").concat(widget.name);_this5.$loadScript("".concat(src,".js")).then((function(){var cls=eval("".concat(widget.skill,"_").concat(widget.name));new cls(uuid)}))}}))},removeWidget:function(t){var e=this;axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"delete",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/").concat(t,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(i){if("success"in i.data&&i.data.success){var a=e.listOfWidgetOnPage(e.widgetInstances[t]["page"]),s=e.widgetInstances[t]["params"]["z"];e.$delete(e.widgetInstances,t);var n,o=Object(D_repositories_git_ProjectAlice_webui_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__["a"])(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.params["z"]>s&&(r.params["z"]-=1,e.saveWidgetParams(r))}}catch(l){o.e(l)}finally{o.f()}}}))},savePosition:function(t,e){var i=this;if(!(this.selectedWidget<=-1)){t=5*Math.ceil(t/5),e=5*Math.ceil(e/5);var a=this.selectedWidget;axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"patch",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/").concat(a,"/savePosition/"),data:{x:t,y:e},headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then((function(s){if("success"in s.data&&s.data.success){var n=i.widgetInstances[a];n.params["x"]=t,n.params["y"]=e,i.$set(i.widgetInstances,a,n)}}))}},saveSize:function(t,e,i,a){var s=this;if(!(this.selectedWidget<=-1)){t=5*Math.ceil(t/5),e=5*Math.ceil(e/5),i=5*Math.ceil(i/5),a=5*Math.ceil(a/5);var n=this.selectedWidget;axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"patch",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/").concat(n,"/saveSize/"),data:{x:t,y:e,w:i,h:a},headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then((function(o){if("success"in o.data&&o.data.success){var r=s.widgetInstances[n];r.params["x"]=t,r.params["y"]=e,r.params["w"]=i,r.params["h"]=a,s.$set(s.widgetInstances,n,r)}}))}},openWidgetSettings:function(t){var e=this,i=this,a=Object(D_repositories_git_ProjectAlice_webui_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_6__["a"])({},t.params);this.settings=!1;var s={},n={view:"widgetOptionsPromptDialog",widget:t,parent:this};this.$dialog.prompt(s,n).then((function(s){axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"PATCH",url:"http://".concat(i.$store.state.settings["aliceIp"],":").concat(i.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/").concat(s.data.id,"/"),data:JSON.stringify(s.data.params),headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).catch((function(){t.params=a})).finally((function(){e.settings=!0}))})).catch((function(){t.params=a,e.settings=!0}))},saveWidgetParams:function(t){axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"PATCH",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/").concat(t.id,"/"),data:JSON.stringify(t.params),headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}})},computeCustomStyle:function(t){var e="";return e+="color: ".concat(t.params["color"],";"),e+="background-color: ".concat(t.params["rgba"],";"),e+="font-size: ".concat(t.params["font-size"],"em;"),t.params["borders"]||(e+="box-shadow:none;"),t.params["rotation"]&&0!==t.params["rotation"]&&(e+="transform:rotate(".concat(t.params["rotation"],"deg);")),e},moveZUp:function(t){var e=t.params["z"],i=e+1,a=this.listOfWidgetOnPage(t["page"]);if(!(i>a.length)){var s,n=Object(D_repositories_git_ProjectAlice_webui_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__["a"])(a);try{for(n.s();!(s=n.n()).done;){var o=s.value;if(o.params["z"]===i)return o.params["z"]-=1,t.params["z"]=i,this.saveWidgetParams(o),void this.saveWidgetParams(t)}}catch(r){n.e(r)}finally{n.f()}}},moveZDown:function(t){var e=t.params["z"],i=e-1,a=this.listOfWidgetOnPage(t["page"]);if(!(i<=0)){var s,n=Object(D_repositories_git_ProjectAlice_webui_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__["a"])(a);try{for(n.s();!(s=n.n()).done;){var o=s.value;if(o.params["z"]===i)return o.params["z"]+=1,t.params["z"]=i,this.saveWidgetParams(o),void this.saveWidgetParams(t)}}catch(r){n.e(r)}finally{n.f()}}},listOfWidgetOnPage:function(t){for(var e=[],i=0,a=Object.values(this.widgetInstances);i<a.length;i++){var s=a[i];s["page"]===t&&e.push(s)}return e},removeTab:function(t){if(this.$store.state.loggedInUser){var e=this;t<=1?this.$dialog.alert("You can't delete the default page").then():this.$dialog.confirm("Do you really want to delete this page?").then((function(){axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"DELETE",url:"http://".concat(e.$store.state.settings["aliceIp"],":").concat(e.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/pages/").concat(t,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(i){"pages"in i.data&&e.$delete(e.tabs,t)}))})).catch((function(){}))}},renameTab:function(t){var e=this;if(this.$store.state.loggedInUser){var i=this,a={},s={view:"fontawesomePromptDialog"};this.$dialog.prompt(a,s).then((function(a){var s=a.data||"fas fa-biohazard";axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"PATCH",url:"http://".concat(i.$store.state.settings["aliceIp"],":").concat(i.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/pages/").concat(t,"/"),data:{newIcon:s},headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then((function(i){"success"in i.data&&i.data.success&&(e.tabs[t].icon=s)}))})).catch((function(){}))}},addTab:function(){var t=this;axios__WEBPACK_IMPORTED_MODULE_8___default()({method:"PUT",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/widgets/addPage/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(e){if("newpage"in e.data){var i=e.data.newpage;t.$set(t.tabs,i.id,i)}}))}}}},c52a:function(t,e,i){"use strict";i("67f4")},c9d9:function(t,e,i){"use strict";i.d(e,"k",(function(){return a})),i.d(e,"e",(function(){return s})),i.d(e,"g",(function(){return n})),i.d(e,"h",(function(){return o})),i.d(e,"f",(function(){return r})),i.d(e,"d",(function(){return l})),i.d(e,"a",(function(){return c})),i.d(e,"n",(function(){return d})),i.d(e,"l",(function(){return u})),i.d(e,"j",(function(){return p})),i.d(e,"m",(function(){return m})),i.d(e,"i",(function(){return h})),i.d(e,"b",(function(){return f})),i.d(e,"c",(function(){return v}));var a="projectalice/devices/resourceUsage",s="projectalice/devices/coreHeartbeat",n="projectalice/devices/heartbeat",o="projectalice/devices/updated",r="projectalice/devices/coreReconnection",l="projectalice/devices/coreDisconnection",c="projectalice/logging/alicewatch",d="projectalice/logging/syslog",u="hermes/tts/say",p="hermes/nlu/query",m="hermes/dialogueManager/sessionEnded",h="hermes/hotword/s/detected",f="hermes/asr/partialTextCaptured",v="hermes/asr/textCaptured"},caaa:function(t,e,i){},cbec:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:t.data.id,staticClass:"furniture",class:{clickable:t.myHome.toolsState.placingFurniture},style:t.computeCustomStyle(),attrs:{id:"fur_"+t.data.id},on:{click:t.handleClick}},[t.myHome.toolsState.deletingLocations?i("div",{staticClass:"widgetTool deleter",on:{click:t.deleteMe}},[i("i",{staticClass:"far fa-trash-alt clickable",attrs:{"aria-hidden":"true"}})]):t._e(),t.myHome.toolsState.settingLocations?i("div",{staticClass:"widgetTool zindexer"},[i("i",{staticClass:"fas fa-level-up-alt clickable",attrs:{"aria-hidden":"true"}}),i("i",{staticClass:"fas fa-level-down-alt clickable",attrs:{"aria-hidden":"true"}})]):t._e()])},s=[],n=(i("99af"),i("4de4"),i("a630"),i("3ca3"),i("bc3a")),o=i.n(n),r={name:"furniture",data:function(){return{rotationDelta:0}},props:["data","myHome"],methods:{computeCustomStyle:function(){return this.myHome.moveableItem.computeCustomStyle(this.data,"background: url('http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/furniture/").concat(this.data.settings["t"]||"deco-1",".png') no-repeat; background-size: 100% 100%;"))},save:function(){var t={id:this.data.id,parentLocation:this.data.parentLocation,settings:this.data.settings};o()({method:"patch",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/furniture/").concat(this.data.id,"/"),data:t,headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then()},handleClick:function(t){var e=this;if(t.stopPropagation(),this.myHome.removeDroppable(),this.myHome.activeFurnitureTile="",this.myHome.toolsState.placingFurniture){this.myHome.setMoveable(t.target,this),this.myHome.moveableItem.setBoundaries(this.$el,0);var i=Array.from(document.querySelectorAll(".furniture")).filter((function(t,i,a){var s=parseInt(t.id.substring(4));return!(s===e.data.id)}));this.myHome.moveableItem.setGuidelines(i)}},deleteMe:function(t){var e=this;t.stopPropagation(),o()({method:"delete",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/furniture/").concat(this.data.id,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(t){"success"in t.data&&t.data.success&&e.myHome.$delete(e.myHome.furnitures,e.data.id)}))}}},l=r,c=(i("f9e0"),i("2877")),d=Object(c["a"])(l,a,s,!1,null,"a9b08174",null);e["a"]=d.exports},cf79:function(t,e,i){"use strict";var a=i("2b0e"),s=i("2f62");a["a"].use(s["a"]),e["a"]=new s["a"].Store({state:{settings:{},settingTemplates:{},settingCategories:{},mqtt:null,loggedInUser:!1,fullScreen:!1,minimized:!1,uiConnected:!1,mqttMessage:{}},mutations:{setSettings:function(t,e){t.settings=e},setSettingTemplates:function(t,e){t.settingTemplates=e},setSettingCategories:function(t,e){t.settingCategories=e},setMqtt:function(t,e){t.mqtt=e},mqttMessage:function(t,e){t.mqttMessage=e},userLogin:function(t,e){t.loggedInUser=e},userLogout:function(t){t.loggedInUser={},localStorage.removeItem("username"),localStorage.removeItem("apiToken")},startCinemaMode:function(t){t.fullScreen=!0,localStorage.setItem("fullscreen",t.fullScreen)},stopCinemaMode:function(t){t.fullScreen=!1,localStorage.setItem("fullscreen",t.fullScreen)},toggleCinemaMode:function(t){t.fullScreen=!t.fullScreen,localStorage.setItem("fullscreen",t.fullScreen)},startMinimized:function(t){t.minimized=!0,localStorage.setItem("minimized",t.minimized)},stopMinimized:function(t){t.minimized=!1,localStorage.setItem("minimized",t.minimized)},toggleMinimized:function(t){t.minimized=!t.minimized,localStorage.setItem("minimized",t.minimized)},uiConnected:function(t,e){t.uiConnected=e}}})},d525:function(t,e,i){},d7eb:function(t,e,i){},d9d0:function(t,e,i){"use strict";i("d7eb")},dbc9:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"custom-view-wrapper"},[i("h3",[t._v(t._s(t.parent.$t("dialogs.titles.skillSettings")))]),i("div",{staticClass:"configLayout"},[i("div",{staticClass:"labels"},t._l(t.options["skill"]["settingsTemplate"],(function(e,a){return i("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e["description"],expression:"settingTemplate['description']"}],class:"longstring"===e["dataType"]?"textAreaLabel":"",attrs:{for:a}},[t._v(" "+t._s(a)+": ")])})),0),i("div",{staticClass:"inputs"},t._l(t.options["skill"]["settingsTemplate"],(function(e,a){return i("div",{staticClass:"input"},["string"!==e["dataType"]||e["isSensitive"]?t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,type:"text",placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{input:function(e){e.target.composing||t.$set(t.options["skill"]["settings"],a,e.target.value)}}}),"string"===e["dataType"]&&e["isSensitive"]?i("input",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,type:"password",placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{input:function(e){e.target.composing||t.$set(t.options["skill"]["settings"],a,e.target.value)}}}):t._e(),"integer"!==e["dataType"]||e["isSensitive"]?t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,type:"number",placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{input:function(e){e.target.composing||t.$set(t.options["skill"]["settings"],a,e.target.value)}}}),"integer"===e["dataType"]&&e["isSensitive"]?i("input",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,type:"password",placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{input:function(e){e.target.composing||t.$set(t.options["skill"]["settings"],a,e.target.value)}}}):t._e(),"boolean"===e["dataType"]?i("VueToggles",{attrs:{id:a,"checked-text":t.parent.$t("tooltips.yes"),"unchecked-text":t.parent.$t("tooltips.no"),value:t.options["skill"]["settings"][a],uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.options["skill"]["settings"][a]=!t.options["skill"]["settings"][a]}}}):t._e(),"range"===e["dataType"]?i("input",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,type:"range",min:e["dataType"]["min"],max:e["dataType"]["max"],step:e["dataType"]["step"],placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{__r:function(e){return t.$set(t.options["skill"]["settings"],a,e.target.value)}}}):t._e(),"list"===e["dataType"]?i("select",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.options["skill"]["settings"],a,e.target.multiple?i:i[0])}}},[t._l(e["values"],(function(a,s){return e["values"].constructor===Object?i("option",{domProps:{value:a}},[t._v(" "+t._s(s)+" ")]):t._e()})),t._l(e["values"],(function(a){return e["values"].constructor===Array?i("option",{domProps:{value:a}},[t._v(" "+t._s(a)+" ")]):t._e()}))],2):t._e(),"longstring"===e["dataType"]?i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"},{name:"init",rawName:"v-init",value:t.options["skill"]["settings"][a],expression:"options['skill']['settings'][settingName]"}],attrs:{id:a,placeholder:e["defaultValue"]},domProps:{value:t.options["skill"]["settings"][a]},on:{input:function(e){e.target.composing||t.$set(t.options["skill"]["settings"],a,e.target.value)}}}):t._e()],1)})),0)]),i("div",[i("button",{on:{click:t.handleDismiss}},[t._v(t._s(t.parent.$t("buttons.cancel")))]),i("button",{staticClass:"dg-pull-right",on:{click:t.handleConfirm}},[t._v(t._s(t.parent.$t("buttons.confirm")))])])])},s=[],n=i("0fa0"),o=i.n(n),r={mixins:[o.a],data:function(){return{parent:this.options["parent"]}},methods:{handleConfirm:function(){this.proceed(this.options["skill"]["settings"])},handleDismiss:function(){this.cancel()}}},l=r,c=i("2877"),d=Object(c["a"])(l,a,s,!1,null,null,null);e["a"]=d.exports},dec7:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip?t.$t(t.tooltip):"",expression:"tooltip ? $t(tooltip) : ''"}],class:t.classes,attrs:{"aria-hidden":"true"},on:{click:t.handleClick}})},s=[],n=(i("99af"),i("5530")),o={name:"reactiveIcon",data:function(){return{classes:"",mySettings:{waitIcon:"fa-spinner",addClass:"",successClass:"fas fa-check green",failureClass:"fas fa-times red"}}},props:["icon","tooltip","timing","onClick","settings"],mounted:function(){this.mySettings=Object(n["a"])(Object(n["a"])({},this.mySettings),this.settings),this.classes="".concat(this.icon," clickable")},methods:{handleClick:function(t){null!==this.onClick&&this.onClick(t),this.classes="fas fa-spin ".concat(this.mySettings.waitIcon," ").concat(this.mySettings.addClass);var e=this;setTimeout((function(){e.$el.getAttribute("data-success")?e.handleSuccess():e.handleFailure()}),1e3*this.timing[0]||1e3)},handleSuccess:function(){this.classes="".concat(this.mySettings.successClass);var t=this;setTimeout((function(){t.reset()}),1e3*this.timing[1]||1e3)},handleFailure:function(){this.classes="".concat(this.mySettings.failureClass);var t=this;setTimeout((function(){t.reset()}),1e3*this.timing[1]||1e3)},reset:function(){this.classes="".concat(this.icon," clickable")}}},r=o,l=(i("4b2d"),i("2877")),c=Object(l["a"])(r,a,s,!1,null,"4e3a3c52",null);e["a"]=c.exports},e7b1:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["hermes/hotword/#/detected"===t.msg.topic?i("div",{staticClass:"userSpeech male extend"},[t._v(" Hey Alice!")]):t._e(),"hermes/tts/say"===t.msg.topic?i("div",{staticClass:"aliceSpeech extend"},[t._v(" "+t._s(JSON.parse(t.msg.payloadString)["text"])+" ")]):t._e(),"hermes/nlu/query"===t.msg.topic?i("div",{staticClass:"userSpeech male extend"},[t._v(" "+t._s(JSON.parse(t.msg.payloadString)["input"])+" ")]):t._e(),"hermes/dialogueManager/sessionEnded"===t.msg.topic?i("div",{staticClass:"sessionEnded extend"},[t._v(" ---- Session ended: "+t._s(JSON.parse(t.msg.payloadString)["termination"]["reason"])+" ---- ")]):t._e(),"hermes/asr/partialTextCaptured"===t.msg.topic?i("div",{staticClass:"userSpeech male extend"},[t._v(" "+t._s(JSON.parse(t.msg.payloadString)["text"])+" ... ")]):t._e()])},s=[],n={name:"speechBubble",data:function(){return{}},props:["msg"]},o=n,r=(i("b732"),i("2877")),l=Object(r["a"])(o,a,s,!1,null,"36c2d25e",null);e["a"]=l.exports},e982:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:t.data.id,staticClass:"construction",class:{clickable:t.myHome.toolsState.placingConstructions},style:t.computeCustomStyle(),attrs:{id:"con_"+t.data.id},on:{click:t.handleClick}},[t.myHome.toolsState.deletingLocations?i("div",{staticClass:"widgetTool deleter",on:{click:t.deleteMe}},[i("i",{staticClass:"far fa-trash-alt clickable",attrs:{"aria-hidden":"true"}})]):t._e(),t.myHome.toolsState.settingLocations?i("div",{staticClass:"widgetTool zindexer"},[i("i",{staticClass:"fas fa-level-up-alt clickable",attrs:{"aria-hidden":"true"}}),i("i",{staticClass:"fas fa-level-down-alt clickable",attrs:{"aria-hidden":"true"}})]):t._e()])},s=[],n=(i("99af"),i("4de4"),i("a630"),i("3ca3"),i("bc3a")),o=i.n(n),r={name:"construction",data:function(){return{rotationDelta:0}},props:["data","myHome"],methods:{computeCustomStyle:function(){return this.myHome.moveableItem.computeCustomStyle(this.data,"background: url('http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/constructions/").concat(this.data.settings["t"]||"construction-200",".png') no-repeat; background-size: 100% 100%;"))},save:function(){var t={id:this.data.id,parentLocation:this.data.parentLocation,settings:this.data.settings};o()({method:"patch",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/constructions/").concat(this.data.id,"/"),data:t,headers:{auth:localStorage.getItem("apiToken"),"content-type":"application/json"}}).then()},handleClick:function(t){var e=this;if(t.stopPropagation(),this.myHome.removeDroppable(),this.myHome.activeConstructionTile="",this.myHome.toolsState.placingConstructions){this.myHome.setMoveable(t.target,this),this.myHome.moveableItem.setBoundaries(this.$el,0);var i=Array.from(document.querySelectorAll(".construction")).filter((function(t,i,a){var s=parseInt(t.id.substring(4));return!(s===e.data.id)}));this.myHome.moveableItem.setGuidelines(i)}},deleteMe:function(t){var e=this;t.stopPropagation(),o()({method:"delete",url:"http://".concat(this.$store.state.settings["aliceIp"],":").concat(this.$store.state.settings["apiPort"],"/api/v1.0.1/myHome/constructions/").concat(this.data.id,"/"),headers:{auth:localStorage.getItem("apiToken")}}).then((function(t){"success"in t.data&&t.data.success&&e.myHome.$delete(e.myHome.constructions,e.data.id)}))}}},l=r,c=(i("3209"),i("2877")),d=Object(c["a"])(l,a,s,!1,null,"0e1edb56",null);e["a"]=d.exports},ea99:function(t,e,i){"use strict";i("a8e8")},ec1b:function(t,e,i){"use strict";i("b335")},ec1f:function(t,e,i){},ef3a:function(t,e,i){},f19f:function(t,e,i){},f276:function(t,e,i){"use strict";i("a263")},f460:function(t,e,i){"use strict";i("d525")},f609:function(t,e,i){"use strict";i("0492")},f9e0:function(t,e,i){"use strict";i("5403")},fb5a:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mainContainer"},[t.$store.state.uiConnected?i("pa-main"):i("pa-connect")],1)},s=[],n=(i("ac1f"),i("5319"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mainContainer"},[i("pa-header"),i("div",{attrs:{id:"main"}},[i("pa-nav"),i("pa-content")],1)],1)}),o=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{class:{collapsed:this.$store.state.fullScreen}},[i("div",{staticClass:"pageTitle"},[t._v(t._s(t.title))]),i("div",{staticClass:"aliceStatus",attrs:{id:"aliceStatus"}}),this.$store.state.settings["displaySystemUsage"]?i("div",{staticClass:"resourceUsage"},[t._v(" CPU: "+t._s(t.resources.cpu)+"% RAM: "+t._s(t.resources.ram)+"% SWP: "+t._s(t.resources.swp)+"% ")]):t._e(),i("div",{staticClass:"versionInfo"},[t._v(" "+t._s(t.$store.state.settings.aliceVersion)+" ")]),i("div",{staticClass:"channelInfo"},[t._v(" "+t._s(t.$store.state.settings.aliceUpdateChannel)+" ")]),i("div",{staticClass:"updateChannelMarker"})])},l=[],c=(i("fb6a"),i("c9d9")),d={name:"pa-header",data:function(){return{title:"",unwatch:{},resources:{cpu:0,ram:0,swp:0}}},created:function(){var t=this;this.unwatch=this.$store.watch((function(t){return t.mqttMessage}),(function(e){e.topic===c["k"]&&(t.resources=JSON.parse(e.payloadString))}))},beforeDestroy:function(){this.$store.state.mqtt.unsubscribe(c["k"]),this.unwatch()},watch:{$route:{immediate:!0,handler:function(t,e){this.title=this.$t(t.meta.title)||"Home",document.title="Project Alice - ".concat(this.title.charAt(0).toUpperCase()+this.title.slice(1))}}}},u=d,p=(i("50a1"),i("2877")),m=Object(p["a"])(u,r,l,!1,null,"05c70066",null),h=m.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{class:{collapsed:this.$store.state.fullScreen,minimized:this.$store.state.minimized&&!this.$store.state.fullScreen,retract:t.animateRetract,extend:t.animateExtend},on:{animationend:t.endAnimations}},[i("router-link",{attrs:{to:"/widgets"}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.widgets"),expression:"$t('nav.widgets')"}],staticClass:"minimized"},[i("i",{staticClass:"fab fa-windows",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.widgets")))])]),this.$store.state.loggedInUser?i("router-link",{attrs:{to:"/skills"}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.skills"),expression:"$t('nav.skills')"}],staticClass:"minimized"},[i("i",{staticClass:"fas fa-brain",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.skills")))])]):t._e(),i("router-link",{attrs:{to:"/myhome"}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.myhome"),expression:"$t('nav.myhome')"}],staticClass:"minimized"},[i("i",{staticClass:"fas fa-home",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.myhome")))])]),this.$store.state.loggedInUser&&this.$store.state.settings["scenariosActive"]?i("router-link",{attrs:{to:"/scenarios"}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.scenarios"),expression:"$t('nav.scenarios')"}],staticClass:"minimized"},[i("i",{staticClass:"fas fa-sitemap",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.scenarios")))])]):t._e(),this.$store.state.loggedInUser?i("router-link",{attrs:{to:"/syslog"}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.syslog"),expression:"$t('nav.syslog')"}],staticClass:"minimized"},[i("i",{staticClass:"fas fa-file-alt",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.syslog")))])]):t._e(),this.$store.state.loggedInUser?i("router-link",{attrs:{to:"/alicewatch"}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.alicewatch"),expression:"$t('nav.alicewatch')"}],staticClass:"minimized"},[i("i",{staticClass:"fas fa-eye",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.alicewatch")))])]):t._e(),this.$store.state.loggedInUser&&"admin"===this.$store.state.loggedInUser.authLevel?i("router-link",{attrs:{to:"/dialogView"}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.dialogView"),expression:"$t('nav.dialogView')"}],staticClass:"minimized"},[i("i",{staticClass:"fas fa-comments",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.dialogView")))])]):t._e(),this.$store.state.loggedInUser&&"admin"===this.$store.state.loggedInUser.authLevel?i("router-link",{attrs:{to:"/telemetry"}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.telemetry"),expression:"$t('nav.telemetry')"}],staticClass:"minimized"},[i("i",{staticClass:"fas fa-database",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.telemetry")))])]):t._e(),this.$store.state.settings["devMode"]&&this.$store.state.loggedInUser?i("router-link",{attrs:{to:"/devmode"}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.devmode"),expression:"$t('nav.devmode')"}],staticClass:"minimized"},[i("i",{staticClass:"fab fa-dev",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.devmode")))])]):t._e(),this.$store.state.loggedInUser&&"admin"===this.$store.state.loggedInUser.authLevel?i("router-link",{attrs:{to:"/admin"}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.admin"),expression:"$t('nav.admin')"}],staticClass:"minimized"},[i("i",{staticClass:"fas fa-tools",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.admin")))])]):t._e(),this.$store.state.minimized?t._e():i("a",{staticClass:"nav-link",on:{click:t.minimize}},[i("button",[t._v(t._s(t.$t("buttons.minimize")))])]),this.$store.state.minimized?i("a",{staticClass:"nav-link",on:{click:t.maximize}},[t._m(0)]):t._e(),this.$store.state.loggedInUser?t._e():i("router-link",{staticClass:"lastItem",attrs:{to:"/login"}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.login"),expression:"$t('nav.login')"}],staticClass:"minimized"},[i("i",{staticClass:"fas fa-sign-in-alt",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.login")))])]),this.$store.state.loggedInUser?i("a",{staticClass:"nav-link lastItem",on:{click:t.logout}},[t.$store.state.minimized?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("nav.logout"),expression:"$t('nav.logout')"}],staticClass:"minimized"},[i("i",{staticClass:"fas fa-sign-out-alt",attrs:{"aria-hidden":"true"}})]):i("button",[t._v(t._s(t.$t("nav.logout")))])]):t._e()],1)},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"minimized"},[i("i",{staticClass:"fas fa-chevron-right",attrs:{"aria-hidden":"true"}})])}],g={name:"pa-nav",data:function(){return{animateRetract:!1,animateExtend:!1}},methods:{logout:function(){this.$store.commit("userLogout"),window.location.reload()},endAnimations:function(){this.animateExtend=!1,this.animateRetract=!1},minimize:function(){this.$store.commit("startMinimized"),this.animateExtend=!1,this.animateRetract=!0},maximize:function(){this.$store.commit("stopMinimized"),this.animateRetract=!1,this.animateExtend=!0}}},_=g,b=(i("27ae"),Object(p["a"])(_,f,v,!1,null,"0bb36acd",null)),k=b.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"mainSection"}},[i("keep-alive",[i("router-view")],1),t.connected?t._e():i("div",{staticClass:"connectionStatus",class:{connected:t.reconnected}},[i("i",{staticClass:"fas fa-5x",class:{"fa-heart-broken":!t.connected&&!t.reconnected,"fa-heartbeat":t.connected||t.reconnected},attrs:{"aria-hidden":"true"}})])],1)},w=[],$={name:"pa-content",data:function(){return{connected:!0,reconnected:!1,checkHeartbeat:null}},created:function(){var t=this;this.unwatch=this.$store.watch((function(t){return t.mqttMessage}),(function(e){if(e.topic===c["e"]||e.topic===c["f"]){if(t.reconnected)return;if(null!==t.checkHeartbeat&&(clearTimeout(t.checkHeartbeat),!t.connected&&!t.reconnected))return t.reconnected=!0,void setTimeout((function(){t.connected=!0,t.reconnected=!1}),5e3);t.checkHeartbeat=setTimeout((function(){t.connected=!1,t.reconnected=!1}),4500),t.connected=!0}else e.topic===c["d"]&&(t.connected=!1,null!==t.checkHeartbeat&&clearTimeout(t.checkHeartbeat))}))},beforeDestroy:function(){this.$store.state.mqtt.unsubscribe(c["e"]),this.$store.state.mqtt.unsubscribe(c["f"]),this.$store.state.mqtt.unsubscribe(c["d"]),this.unwatch()}},C=$,S=(i("5b54"),Object(p["a"])(C,y,w,!1,null,null,null)),T=S.exports,I={name:"Main",components:{paContent:T,paHeader:h,paNav:k}},x=I,P=Object(p["a"])(x,n,o,!1,null,null,null),D=P.exports,L=i("6205"),j={name:"ProjectAlice",components:{paMain:D,paConnect:L["a"]},mounted:function(){this.$i18n.locale="en","true"===localStorage.getItem("fullscreen")&&this.$store.commit("startCinemaMode"),"true"===localStorage.getItem("minimized")&&this.$store.commit("startMinimized"),this.$store.state.uiConnected||"/connect"!==this.$router.currentRoute.path&&this.$router.replace("/connect").then()}},E=j,M=(i("f276"),i("151f"),i("3877"),i("8e11"),Object(p["a"])(E,a,s,!1,null,null,null));e["a"]=M.exports},fd0f:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"custom-view-wrapper"},[i("h3",[t._v(t._s(t.parent.$t("dialogs.titles.widgetOptions")))]),i("div",{staticClass:"configLayout"},[i("div",{staticClass:"labels"},[i("label",{attrs:{for:"title"}},[t._v(t._s(t.parent.$t("dialogs.labels.displayTitle"))+": ")]),i("label",{attrs:{for:"borders"}},[t._v(t._s(t.parent.$t("dialogs.labels.displayBorders"))+": ")]),i("label",{attrs:{for:"rotation"}},[t._v(t._s(t.parent.$t("dialogs.labels.rotation"))+": ")]),i("label",{attrs:{for:"background"}},[t._v(t._s(t.parent.$t("dialogs.labels.backgroundColor"))+": ")]),i("label",{attrs:{for:"opacity"}},[t._v(t._s(t.parent.$t("dialogs.labels.backgroundOpacity"))+": ")]),i("label",{attrs:{for:"font-size"}},[t._v(t._s(t.parent.$t("dialogs.labels.fontSize"))+": ")]),i("label",{attrs:{for:"font-color"}},[t._v(t._s(t.parent.$t("dialogs.labels.fontColor"))+": ")])]),i("div",{staticClass:"inputs"},[i("div",{staticClass:"input"},[i("VueToggles",{attrs:{id:"title","checked-text":t.parent.$t("tooltips.yes"),"unchecked-text":t.parent.$t("tooltips.no"),value:t.options["widget"]["params"]["title"],uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.options["widget"]["params"]["title"]=!t.options["widget"]["params"]["title"]}}})],1),i("div",{staticClass:"input"},[i("VueToggles",{attrs:{id:"borders","checked-text":t.parent.$t("tooltips.yes"),"unchecked-text":t.parent.$t("tooltips.no"),value:t.options["widget"]["params"]["borders"],uncheckedBg:"var(--windowBG)",checkedBg:"var(--windowBG)"},on:{click:function(e){t.options["widget"]["params"]["borders"]=!t.options["widget"]["params"]["borders"]}}})],1),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.options["widget"].params["rotation"],expression:"options['widget'].params['rotation']"},{name:"init",rawName:"v-init",value:t.options["widget"].params["rotation"],expression:"options['widget'].params['rotation']"}],attrs:{id:"rotation",type:"range",min:"-180",max:"180",step:"5"},domProps:{value:t.options["widget"].params["rotation"]},on:{__r:function(e){return t.$set(t.options["widget"].params,"rotation",e.target.value)}}}),t._v(t._s(t.options["widget"].params["rotation"])+"° ")]),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.options["widget"].params["background"],expression:"options['widget'].params['background']"},{name:"init",rawName:"v-init",value:t.options["widget"].params["background"],expression:"options['widget'].params['background']"}],attrs:{id:"background",type:"color"},domProps:{value:t.options["widget"].params["background"]},on:{input:[function(e){e.target.composing||t.$set(t.options["widget"].params,"background",e.target.value)},t.hex2rgba]}})]),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.options["widget"].params["background-opacity"],expression:"options['widget'].params['background-opacity']"},{name:"init",rawName:"v-init",value:t.options["widget"].params["background-opacity"],expression:"options['widget'].params['background-opacity']"}],attrs:{id:"opacity",type:"range",min:"0",max:"1",step:"0.1"},domProps:{value:t.options["widget"].params["background-opacity"]},on:{input:t.hex2rgba,__r:function(e){return t.$set(t.options["widget"].params,"background-opacity",e.target.value)}}}),t._v(t._s(100*parseFloat(t.options["widget"].params["background-opacity"]))+"% ")]),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.options["widget"].params["font-size"],expression:"options['widget'].params['font-size']"},{name:"init",rawName:"v-init",value:t.options["widget"].params["font-size"],expression:"options['widget'].params['font-size']"}],attrs:{id:"font-size",type:"range",min:"0.25",max:"5",step:"0.01"},domProps:{value:t.options["widget"].params["font-size"]},on:{__r:function(e){return t.$set(t.options["widget"].params,"font-size",e.target.value)}}}),t._v(t._s(t.options["widget"].params["font-size"])+"em ")]),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.options["widget"].params["color"],expression:"options['widget'].params['color']"},{name:"init",rawName:"v-init",value:t.options["widget"].params["font-size"],expression:"options['widget'].params['font-size']"}],attrs:{id:"font-color",type:"color"},domProps:{value:t.options["widget"].params["color"]},on:{input:function(e){e.target.composing||t.$set(t.options["widget"].params,"color",e.target.value)}}})])])]),i("div",[i("button",{on:{click:t.handleDismiss}},[t._v(t._s(t.parent.$t("buttons.cancel")))]),i("button",{staticClass:"dg-pull-right",on:{click:t.handleConfirm}},[t._v(t._s(t.parent.$t("buttons.confirm")))])])])},s=[],n=(i("99af"),i("d81d"),i("ac1f"),i("466d"),i("3835")),o=i("0fa0"),r=i.n(o),l={mixins:[r.a],data:function(){return{parent:this.options["parent"]}},methods:{handleConfirm:function(){this.proceed(this.options["widget"])},handleDismiss:function(){this.cancel()},hex2rgba:function(){var t=this.options["widget"].params["background"],e=this.options["widget"].params["background-opacity"],i=t.match(/\w\w/g).map((function(t){return parseInt(t,16)})),a=Object(n["a"])(i,3),s=a[0],o=a[1],r=a[2];this.options["widget"].params["rgba"]="rgba(".concat(s,", ").concat(o,", ").concat(r,", ").concat(e,")")}}},c=l,d=i("2877"),u=Object(d["a"])(c,a,s,!1,null,null,null);e["a"]=u.exports}});
//# sourceMappingURL=app.a89ea459.js.map